import{t as e}from"./calendar-4kT8YPNI.js";import{t}from"./circle-check-big-CL4BxBfE.js";import{n,t as r}from"./file-text-C6cU2RCp.js";import{t as i}from"./dollar-sign-COqTbmL_.js";import{t as a}from"./heart-DjkT3NxO.js";import{t as o}from"./layers-CBq1KnbF.js";import{n as s,t as c}from"./plus-42oTiPM6.js";import{n as l,t as u}from"./square-pen-Ek7wYH9z.js";import{t as d}from"./sparkles-BCdm-GlE.js";import{t as f}from"./trash-2-BzUrATsN.js";import{_ as p,a as m,i as h,l as g,m as _,n as v,r as y,s as b,v as x}from"./index-C_gUkn22.js";var S=b(`arrow-down`,[[`path`,{d:`M12 5v14`,key:`s699le`}],[`path`,{d:`m19 12-7 7-7-7`,key:`1idqje`}]]),C=b(`arrow-up-down`,[[`path`,{d:`m21 16-4 4-4-4`,key:`f6ql7i`}],[`path`,{d:`M17 20V4`,key:`1ejh1v`}],[`path`,{d:`m3 8 4-4 4 4`,key:`11wl7u`}],[`path`,{d:`M7 4v16`,key:`1glfcx`}]]),w=b(`arrow-up`,[[`path`,{d:`m5 12 7-7 7 7`,key:`hav0vg`}],[`path`,{d:`M12 19V5`,key:`x0mq9r`}]]),T=b(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),E=b(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),D=b(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),ee=b(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),O=x(p(),1),te=void 0,k=void 0;function ne(){return{geminiUrl:te,vertexUrl:k}}function re(e,t,n,r){if(!e?.baseUrl){let e=ne();return t?e.vertexUrl??n:e.geminiUrl??r}return e.baseUrl}var A=class{};function j(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){let e=t[n];return e==null?``:String(e)}else throw Error(`Key '${n}' not found in valueMap.`)})}function M(e,t,n){for(let r=0;r<t.length-1;r++){let i=t[r];if(i.endsWith(`[]`)){let a=i.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw Error(`Value must be a list given an array path ${i}`);if(Array.isArray(e[a])){let i=e[a];if(Array.isArray(n))for(let e=0;e<i.length;e++){let a=i[e];M(a,t.slice(r+1),n[e])}else for(let e of i)M(e,t.slice(r+1),n)}return}else if(i.endsWith(`[0]`)){let a=i.slice(0,-3);a in e||(e[a]=[{}]);let o=e[a];M(o[0],t.slice(r+1),n);return}(!e[i]||typeof e[i]!=`object`)&&(e[i]={}),e=e[i]}let r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n==`object`&&Object.keys(n).length===0||n===i)return;if(typeof i==`object`&&typeof n==`object`&&i!==null&&n!==null)Object.assign(i,n);else throw Error(`Cannot set value for an existing key. Key: ${r}`)}else if(r===`_self`&&typeof n==`object`&&n&&!Array.isArray(n)){let t=n;Object.assign(e,t)}else e[r]=n}function N(e,t,n=void 0){try{if(t.length===1&&t[0]===`_self`)return e;for(let r=0;r<t.length;r++){if(typeof e!=`object`||!e)return n;let i=t[r];if(i.endsWith(`[]`)){let a=i.slice(0,-2);if(a in e){let i=e[a];return Array.isArray(i)?i.map(e=>N(e,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(e){if(e instanceof TypeError)return n;throw e}}function ie(e,t){for(let[n,r]of Object.entries(t)){let t=n.split(`.`),i=r.split(`.`),a=new Set,o=-1;for(let e=0;e<t.length;e++)if(t[e]===`*`){o=e;break}if(o!==-1&&i.length>o)for(let e=o;e<i.length;e++){let t=i[e];t!==`*`&&!t.endsWith(`[]`)&&!t.endsWith(`[0]`)&&a.add(t)}ae(e,t,i,0,a)}}function ae(e,t,n,r,i){if(r>=t.length||typeof e!=`object`||!e)return;let a=t[r];if(a.endsWith(`[]`)){let o=a.slice(0,-2),s=e;if(o in s&&Array.isArray(s[o]))for(let e of s[o])ae(e,t,n,r+1,i)}else if(a===`*`){if(typeof e==`object`&&e&&!Array.isArray(e)){let t=e,a=Object.keys(t).filter(e=>!e.startsWith(`_`)&&!i.has(e)),o={};for(let e of a)o[e]=t[e];for(let[e,i]of Object.entries(o)){let a=[];for(let t of n.slice(r))t===`*`?a.push(e):a.push(t);M(t,a,i)}for(let e of a)delete t[e]}}else{let o=e;a in o&&ae(o[a],t,n,r+1,i)}}function oe(e){if(typeof e!=`string`)throw Error(`fromImageBytes must be a string`);return e}function P(e){let t={},n=N(e,[`operationName`]);n!=null&&M(t,[`operationName`],n);let r=N(e,[`resourceName`]);return r!=null&&M(t,[`_url`,`resourceName`],r),t}function se(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`,`generateVideoResponse`]);return o!=null&&M(t,[`response`],le(o)),t}function ce(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`]);return o!=null&&M(t,[`response`],ue(o)),t}function le(e){let t={},n=N(e,[`generatedSamples`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>de(e))),M(t,[`generatedVideos`],e)}let r=N(e,[`raiMediaFilteredCount`]);r!=null&&M(t,[`raiMediaFilteredCount`],r);let i=N(e,[`raiMediaFilteredReasons`]);return i!=null&&M(t,[`raiMediaFilteredReasons`],i),t}function ue(e){let t={},n=N(e,[`videos`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>F(e))),M(t,[`generatedVideos`],e)}let r=N(e,[`raiMediaFilteredCount`]);r!=null&&M(t,[`raiMediaFilteredCount`],r);let i=N(e,[`raiMediaFilteredReasons`]);return i!=null&&M(t,[`raiMediaFilteredReasons`],i),t}function de(e){let t={},n=N(e,[`video`]);return n!=null&&M(t,[`video`],ge(n)),t}function F(e){let t={},n=N(e,[`_self`]);return n!=null&&M(t,[`video`],_e(n)),t}function fe(e){let t={},n=N(e,[`operationName`]);return n!=null&&M(t,[`_url`,`operationName`],n),t}function I(e){let t={},n=N(e,[`operationName`]);return n!=null&&M(t,[`_url`,`operationName`],n),t}function pe(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`]);return o!=null&&M(t,[`response`],L(o)),t}function L(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`parent`]);r!=null&&M(t,[`parent`],r);let i=N(e,[`documentName`]);return i!=null&&M(t,[`documentName`],i),t}function me(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`]);return o!=null&&M(t,[`response`],he(o)),t}function he(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`parent`]);r!=null&&M(t,[`parent`],r);let i=N(e,[`documentName`]);return i!=null&&M(t,[`documentName`],i),t}function ge(e){let t={},n=N(e,[`uri`]);n!=null&&M(t,[`uri`],n);let r=N(e,[`encodedVideo`]);r!=null&&M(t,[`videoBytes`],oe(r));let i=N(e,[`encoding`]);return i!=null&&M(t,[`mimeType`],i),t}function _e(e){let t={},n=N(e,[`gcsUri`]);n!=null&&M(t,[`uri`],n);let r=N(e,[`bytesBase64Encoded`]);r!=null&&M(t,[`videoBytes`],oe(r));let i=N(e,[`mimeType`]);return i!=null&&M(t,[`mimeType`],i),t}var ve;(function(e){e.OUTCOME_UNSPECIFIED=`OUTCOME_UNSPECIFIED`,e.OUTCOME_OK=`OUTCOME_OK`,e.OUTCOME_FAILED=`OUTCOME_FAILED`,e.OUTCOME_DEADLINE_EXCEEDED=`OUTCOME_DEADLINE_EXCEEDED`})(ve||={});var ye;(function(e){e.LANGUAGE_UNSPECIFIED=`LANGUAGE_UNSPECIFIED`,e.PYTHON=`PYTHON`})(ye||={});var be;(function(e){e.SCHEDULING_UNSPECIFIED=`SCHEDULING_UNSPECIFIED`,e.SILENT=`SILENT`,e.WHEN_IDLE=`WHEN_IDLE`,e.INTERRUPT=`INTERRUPT`})(be||={});var R;(function(e){e.TYPE_UNSPECIFIED=`TYPE_UNSPECIFIED`,e.STRING=`STRING`,e.NUMBER=`NUMBER`,e.INTEGER=`INTEGER`,e.BOOLEAN=`BOOLEAN`,e.ARRAY=`ARRAY`,e.OBJECT=`OBJECT`,e.NULL=`NULL`})(R||={});var xe;(function(e){e.MODE_UNSPECIFIED=`MODE_UNSPECIFIED`,e.MODE_DYNAMIC=`MODE_DYNAMIC`})(xe||={});var Se;(function(e){e.API_SPEC_UNSPECIFIED=`API_SPEC_UNSPECIFIED`,e.SIMPLE_SEARCH=`SIMPLE_SEARCH`,e.ELASTIC_SEARCH=`ELASTIC_SEARCH`})(Se||={});var Ce;(function(e){e.AUTH_TYPE_UNSPECIFIED=`AUTH_TYPE_UNSPECIFIED`,e.NO_AUTH=`NO_AUTH`,e.API_KEY_AUTH=`API_KEY_AUTH`,e.HTTP_BASIC_AUTH=`HTTP_BASIC_AUTH`,e.GOOGLE_SERVICE_ACCOUNT_AUTH=`GOOGLE_SERVICE_ACCOUNT_AUTH`,e.OAUTH=`OAUTH`,e.OIDC_AUTH=`OIDC_AUTH`})(Ce||={});var we;(function(e){e.HTTP_IN_UNSPECIFIED=`HTTP_IN_UNSPECIFIED`,e.HTTP_IN_QUERY=`HTTP_IN_QUERY`,e.HTTP_IN_HEADER=`HTTP_IN_HEADER`,e.HTTP_IN_PATH=`HTTP_IN_PATH`,e.HTTP_IN_BODY=`HTTP_IN_BODY`,e.HTTP_IN_COOKIE=`HTTP_IN_COOKIE`})(we||={});var Te;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED=`PHISH_BLOCK_THRESHOLD_UNSPECIFIED`,e.BLOCK_LOW_AND_ABOVE=`BLOCK_LOW_AND_ABOVE`,e.BLOCK_MEDIUM_AND_ABOVE=`BLOCK_MEDIUM_AND_ABOVE`,e.BLOCK_HIGH_AND_ABOVE=`BLOCK_HIGH_AND_ABOVE`,e.BLOCK_HIGHER_AND_ABOVE=`BLOCK_HIGHER_AND_ABOVE`,e.BLOCK_VERY_HIGH_AND_ABOVE=`BLOCK_VERY_HIGH_AND_ABOVE`,e.BLOCK_ONLY_EXTREMELY_HIGH=`BLOCK_ONLY_EXTREMELY_HIGH`})(Te||={});var Ee;(function(e){e.THINKING_LEVEL_UNSPECIFIED=`THINKING_LEVEL_UNSPECIFIED`,e.LOW=`LOW`,e.HIGH=`HIGH`})(Ee||={});var De;(function(e){e.HARM_CATEGORY_UNSPECIFIED=`HARM_CATEGORY_UNSPECIFIED`,e.HARM_CATEGORY_HARASSMENT=`HARM_CATEGORY_HARASSMENT`,e.HARM_CATEGORY_HATE_SPEECH=`HARM_CATEGORY_HATE_SPEECH`,e.HARM_CATEGORY_SEXUALLY_EXPLICIT=`HARM_CATEGORY_SEXUALLY_EXPLICIT`,e.HARM_CATEGORY_DANGEROUS_CONTENT=`HARM_CATEGORY_DANGEROUS_CONTENT`,e.HARM_CATEGORY_CIVIC_INTEGRITY=`HARM_CATEGORY_CIVIC_INTEGRITY`,e.HARM_CATEGORY_IMAGE_HATE=`HARM_CATEGORY_IMAGE_HATE`,e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT=`HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT`,e.HARM_CATEGORY_IMAGE_HARASSMENT=`HARM_CATEGORY_IMAGE_HARASSMENT`,e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT=`HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT`,e.HARM_CATEGORY_JAILBREAK=`HARM_CATEGORY_JAILBREAK`})(De||={});var Oe;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED=`HARM_BLOCK_METHOD_UNSPECIFIED`,e.SEVERITY=`SEVERITY`,e.PROBABILITY=`PROBABILITY`})(Oe||={});var ke;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED=`HARM_BLOCK_THRESHOLD_UNSPECIFIED`,e.BLOCK_LOW_AND_ABOVE=`BLOCK_LOW_AND_ABOVE`,e.BLOCK_MEDIUM_AND_ABOVE=`BLOCK_MEDIUM_AND_ABOVE`,e.BLOCK_ONLY_HIGH=`BLOCK_ONLY_HIGH`,e.BLOCK_NONE=`BLOCK_NONE`,e.OFF=`OFF`})(ke||={});var Ae;(function(e){e.FINISH_REASON_UNSPECIFIED=`FINISH_REASON_UNSPECIFIED`,e.STOP=`STOP`,e.MAX_TOKENS=`MAX_TOKENS`,e.SAFETY=`SAFETY`,e.RECITATION=`RECITATION`,e.LANGUAGE=`LANGUAGE`,e.OTHER=`OTHER`,e.BLOCKLIST=`BLOCKLIST`,e.PROHIBITED_CONTENT=`PROHIBITED_CONTENT`,e.SPII=`SPII`,e.MALFORMED_FUNCTION_CALL=`MALFORMED_FUNCTION_CALL`,e.IMAGE_SAFETY=`IMAGE_SAFETY`,e.UNEXPECTED_TOOL_CALL=`UNEXPECTED_TOOL_CALL`,e.IMAGE_PROHIBITED_CONTENT=`IMAGE_PROHIBITED_CONTENT`,e.NO_IMAGE=`NO_IMAGE`})(Ae||={});var je;(function(e){e.HARM_PROBABILITY_UNSPECIFIED=`HARM_PROBABILITY_UNSPECIFIED`,e.NEGLIGIBLE=`NEGLIGIBLE`,e.LOW=`LOW`,e.MEDIUM=`MEDIUM`,e.HIGH=`HIGH`})(je||={});var Me;(function(e){e.HARM_SEVERITY_UNSPECIFIED=`HARM_SEVERITY_UNSPECIFIED`,e.HARM_SEVERITY_NEGLIGIBLE=`HARM_SEVERITY_NEGLIGIBLE`,e.HARM_SEVERITY_LOW=`HARM_SEVERITY_LOW`,e.HARM_SEVERITY_MEDIUM=`HARM_SEVERITY_MEDIUM`,e.HARM_SEVERITY_HIGH=`HARM_SEVERITY_HIGH`})(Me||={});var Ne;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED=`URL_RETRIEVAL_STATUS_UNSPECIFIED`,e.URL_RETRIEVAL_STATUS_SUCCESS=`URL_RETRIEVAL_STATUS_SUCCESS`,e.URL_RETRIEVAL_STATUS_ERROR=`URL_RETRIEVAL_STATUS_ERROR`,e.URL_RETRIEVAL_STATUS_PAYWALL=`URL_RETRIEVAL_STATUS_PAYWALL`,e.URL_RETRIEVAL_STATUS_UNSAFE=`URL_RETRIEVAL_STATUS_UNSAFE`})(Ne||={});var z;(function(e){e.BLOCKED_REASON_UNSPECIFIED=`BLOCKED_REASON_UNSPECIFIED`,e.SAFETY=`SAFETY`,e.OTHER=`OTHER`,e.BLOCKLIST=`BLOCKLIST`,e.PROHIBITED_CONTENT=`PROHIBITED_CONTENT`,e.IMAGE_SAFETY=`IMAGE_SAFETY`,e.MODEL_ARMOR=`MODEL_ARMOR`,e.JAILBREAK=`JAILBREAK`})(z||={});var Pe;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED=`TRAFFIC_TYPE_UNSPECIFIED`,e.ON_DEMAND=`ON_DEMAND`,e.PROVISIONED_THROUGHPUT=`PROVISIONED_THROUGHPUT`})(Pe||={});var Fe;(function(e){e.MODALITY_UNSPECIFIED=`MODALITY_UNSPECIFIED`,e.TEXT=`TEXT`,e.IMAGE=`IMAGE`,e.AUDIO=`AUDIO`})(Fe||={});var Ie;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED=`MEDIA_RESOLUTION_UNSPECIFIED`,e.MEDIA_RESOLUTION_LOW=`MEDIA_RESOLUTION_LOW`,e.MEDIA_RESOLUTION_MEDIUM=`MEDIA_RESOLUTION_MEDIUM`,e.MEDIA_RESOLUTION_HIGH=`MEDIA_RESOLUTION_HIGH`})(Ie||={});var B;(function(e){e.TUNING_MODE_UNSPECIFIED=`TUNING_MODE_UNSPECIFIED`,e.TUNING_MODE_FULL=`TUNING_MODE_FULL`,e.TUNING_MODE_PEFT_ADAPTER=`TUNING_MODE_PEFT_ADAPTER`})(B||={});var Le;(function(e){e.ADAPTER_SIZE_UNSPECIFIED=`ADAPTER_SIZE_UNSPECIFIED`,e.ADAPTER_SIZE_ONE=`ADAPTER_SIZE_ONE`,e.ADAPTER_SIZE_TWO=`ADAPTER_SIZE_TWO`,e.ADAPTER_SIZE_FOUR=`ADAPTER_SIZE_FOUR`,e.ADAPTER_SIZE_EIGHT=`ADAPTER_SIZE_EIGHT`,e.ADAPTER_SIZE_SIXTEEN=`ADAPTER_SIZE_SIXTEEN`,e.ADAPTER_SIZE_THIRTY_TWO=`ADAPTER_SIZE_THIRTY_TWO`})(Le||={});var V;(function(e){e.JOB_STATE_UNSPECIFIED=`JOB_STATE_UNSPECIFIED`,e.JOB_STATE_QUEUED=`JOB_STATE_QUEUED`,e.JOB_STATE_PENDING=`JOB_STATE_PENDING`,e.JOB_STATE_RUNNING=`JOB_STATE_RUNNING`,e.JOB_STATE_SUCCEEDED=`JOB_STATE_SUCCEEDED`,e.JOB_STATE_FAILED=`JOB_STATE_FAILED`,e.JOB_STATE_CANCELLING=`JOB_STATE_CANCELLING`,e.JOB_STATE_CANCELLED=`JOB_STATE_CANCELLED`,e.JOB_STATE_PAUSED=`JOB_STATE_PAUSED`,e.JOB_STATE_EXPIRED=`JOB_STATE_EXPIRED`,e.JOB_STATE_UPDATING=`JOB_STATE_UPDATING`,e.JOB_STATE_PARTIALLY_SUCCEEDED=`JOB_STATE_PARTIALLY_SUCCEEDED`})(V||={});var H;(function(e){e.TUNING_TASK_UNSPECIFIED=`TUNING_TASK_UNSPECIFIED`,e.TUNING_TASK_I2V=`TUNING_TASK_I2V`,e.TUNING_TASK_T2V=`TUNING_TASK_T2V`,e.TUNING_TASK_R2V=`TUNING_TASK_R2V`})(H||={});var U;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED=`MEDIA_RESOLUTION_UNSPECIFIED`,e.MEDIA_RESOLUTION_LOW=`MEDIA_RESOLUTION_LOW`,e.MEDIA_RESOLUTION_MEDIUM=`MEDIA_RESOLUTION_MEDIUM`,e.MEDIA_RESOLUTION_HIGH=`MEDIA_RESOLUTION_HIGH`})(U||={});var Re;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED=`FEATURE_SELECTION_PREFERENCE_UNSPECIFIED`,e.PRIORITIZE_QUALITY=`PRIORITIZE_QUALITY`,e.BALANCED=`BALANCED`,e.PRIORITIZE_COST=`PRIORITIZE_COST`})(Re||={});var ze;(function(e){e.UNSPECIFIED=`UNSPECIFIED`,e.BLOCKING=`BLOCKING`,e.NON_BLOCKING=`NON_BLOCKING`})(ze||={});var Be;(function(e){e.MODE_UNSPECIFIED=`MODE_UNSPECIFIED`,e.MODE_DYNAMIC=`MODE_DYNAMIC`})(Be||={});var Ve;(function(e){e.ENVIRONMENT_UNSPECIFIED=`ENVIRONMENT_UNSPECIFIED`,e.ENVIRONMENT_BROWSER=`ENVIRONMENT_BROWSER`})(Ve||={});var He;(function(e){e.MODE_UNSPECIFIED=`MODE_UNSPECIFIED`,e.AUTO=`AUTO`,e.ANY=`ANY`,e.NONE=`NONE`,e.VALIDATED=`VALIDATED`})(He||={});var Ue;(function(e){e.BLOCK_LOW_AND_ABOVE=`BLOCK_LOW_AND_ABOVE`,e.BLOCK_MEDIUM_AND_ABOVE=`BLOCK_MEDIUM_AND_ABOVE`,e.BLOCK_ONLY_HIGH=`BLOCK_ONLY_HIGH`,e.BLOCK_NONE=`BLOCK_NONE`})(Ue||={});var We;(function(e){e.DONT_ALLOW=`DONT_ALLOW`,e.ALLOW_ADULT=`ALLOW_ADULT`,e.ALLOW_ALL=`ALLOW_ALL`})(We||={});var Ge;(function(e){e.auto=`auto`,e.en=`en`,e.ja=`ja`,e.ko=`ko`,e.hi=`hi`,e.zh=`zh`,e.pt=`pt`,e.es=`es`})(Ge||={});var Ke;(function(e){e.MASK_MODE_DEFAULT=`MASK_MODE_DEFAULT`,e.MASK_MODE_USER_PROVIDED=`MASK_MODE_USER_PROVIDED`,e.MASK_MODE_BACKGROUND=`MASK_MODE_BACKGROUND`,e.MASK_MODE_FOREGROUND=`MASK_MODE_FOREGROUND`,e.MASK_MODE_SEMANTIC=`MASK_MODE_SEMANTIC`})(Ke||={});var qe;(function(e){e.CONTROL_TYPE_DEFAULT=`CONTROL_TYPE_DEFAULT`,e.CONTROL_TYPE_CANNY=`CONTROL_TYPE_CANNY`,e.CONTROL_TYPE_SCRIBBLE=`CONTROL_TYPE_SCRIBBLE`,e.CONTROL_TYPE_FACE_MESH=`CONTROL_TYPE_FACE_MESH`})(qe||={});var Je;(function(e){e.SUBJECT_TYPE_DEFAULT=`SUBJECT_TYPE_DEFAULT`,e.SUBJECT_TYPE_PERSON=`SUBJECT_TYPE_PERSON`,e.SUBJECT_TYPE_ANIMAL=`SUBJECT_TYPE_ANIMAL`,e.SUBJECT_TYPE_PRODUCT=`SUBJECT_TYPE_PRODUCT`})(Je||={});var Ye;(function(e){e.EDIT_MODE_DEFAULT=`EDIT_MODE_DEFAULT`,e.EDIT_MODE_INPAINT_REMOVAL=`EDIT_MODE_INPAINT_REMOVAL`,e.EDIT_MODE_INPAINT_INSERTION=`EDIT_MODE_INPAINT_INSERTION`,e.EDIT_MODE_OUTPAINT=`EDIT_MODE_OUTPAINT`,e.EDIT_MODE_CONTROLLED_EDITING=`EDIT_MODE_CONTROLLED_EDITING`,e.EDIT_MODE_STYLE=`EDIT_MODE_STYLE`,e.EDIT_MODE_BGSWAP=`EDIT_MODE_BGSWAP`,e.EDIT_MODE_PRODUCT_IMAGE=`EDIT_MODE_PRODUCT_IMAGE`})(Ye||={});var Xe;(function(e){e.FOREGROUND=`FOREGROUND`,e.BACKGROUND=`BACKGROUND`,e.PROMPT=`PROMPT`,e.SEMANTIC=`SEMANTIC`,e.INTERACTIVE=`INTERACTIVE`})(Xe||={});var Ze;(function(e){e.ASSET=`ASSET`,e.STYLE=`STYLE`})(Ze||={});var Qe;(function(e){e.INSERT=`INSERT`,e.REMOVE=`REMOVE`,e.REMOVE_STATIC=`REMOVE_STATIC`,e.OUTPAINT=`OUTPAINT`})(Qe||={});var $e;(function(e){e.OPTIMIZED=`OPTIMIZED`,e.LOSSLESS=`LOSSLESS`})($e||={});var et;(function(e){e.SUPERVISED_FINE_TUNING=`SUPERVISED_FINE_TUNING`,e.PREFERENCE_TUNING=`PREFERENCE_TUNING`})(et||={});var tt;(function(e){e.STATE_UNSPECIFIED=`STATE_UNSPECIFIED`,e.STATE_PENDING=`STATE_PENDING`,e.STATE_ACTIVE=`STATE_ACTIVE`,e.STATE_FAILED=`STATE_FAILED`})(tt||={});var nt;(function(e){e.STATE_UNSPECIFIED=`STATE_UNSPECIFIED`,e.PROCESSING=`PROCESSING`,e.ACTIVE=`ACTIVE`,e.FAILED=`FAILED`})(nt||={});var rt;(function(e){e.SOURCE_UNSPECIFIED=`SOURCE_UNSPECIFIED`,e.UPLOADED=`UPLOADED`,e.GENERATED=`GENERATED`})(rt||={});var it;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED=`TURN_COMPLETE_REASON_UNSPECIFIED`,e.MALFORMED_FUNCTION_CALL=`MALFORMED_FUNCTION_CALL`,e.RESPONSE_REJECTED=`RESPONSE_REJECTED`,e.NEED_MORE_INPUT=`NEED_MORE_INPUT`})(it||={});var at;(function(e){e.MODALITY_UNSPECIFIED=`MODALITY_UNSPECIFIED`,e.TEXT=`TEXT`,e.IMAGE=`IMAGE`,e.VIDEO=`VIDEO`,e.AUDIO=`AUDIO`,e.DOCUMENT=`DOCUMENT`})(at||={});var ot;(function(e){e.START_SENSITIVITY_UNSPECIFIED=`START_SENSITIVITY_UNSPECIFIED`,e.START_SENSITIVITY_HIGH=`START_SENSITIVITY_HIGH`,e.START_SENSITIVITY_LOW=`START_SENSITIVITY_LOW`})(ot||={});var st;(function(e){e.END_SENSITIVITY_UNSPECIFIED=`END_SENSITIVITY_UNSPECIFIED`,e.END_SENSITIVITY_HIGH=`END_SENSITIVITY_HIGH`,e.END_SENSITIVITY_LOW=`END_SENSITIVITY_LOW`})(st||={});var ct;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED=`ACTIVITY_HANDLING_UNSPECIFIED`,e.START_OF_ACTIVITY_INTERRUPTS=`START_OF_ACTIVITY_INTERRUPTS`,e.NO_INTERRUPTION=`NO_INTERRUPTION`})(ct||={});var lt;(function(e){e.TURN_COVERAGE_UNSPECIFIED=`TURN_COVERAGE_UNSPECIFIED`,e.TURN_INCLUDES_ONLY_ACTIVITY=`TURN_INCLUDES_ONLY_ACTIVITY`,e.TURN_INCLUDES_ALL_INPUT=`TURN_INCLUDES_ALL_INPUT`})(lt||={});var ut;(function(e){e.SCALE_UNSPECIFIED=`SCALE_UNSPECIFIED`,e.C_MAJOR_A_MINOR=`C_MAJOR_A_MINOR`,e.D_FLAT_MAJOR_B_FLAT_MINOR=`D_FLAT_MAJOR_B_FLAT_MINOR`,e.D_MAJOR_B_MINOR=`D_MAJOR_B_MINOR`,e.E_FLAT_MAJOR_C_MINOR=`E_FLAT_MAJOR_C_MINOR`,e.E_MAJOR_D_FLAT_MINOR=`E_MAJOR_D_FLAT_MINOR`,e.F_MAJOR_D_MINOR=`F_MAJOR_D_MINOR`,e.G_FLAT_MAJOR_E_FLAT_MINOR=`G_FLAT_MAJOR_E_FLAT_MINOR`,e.G_MAJOR_E_MINOR=`G_MAJOR_E_MINOR`,e.A_FLAT_MAJOR_F_MINOR=`A_FLAT_MAJOR_F_MINOR`,e.A_MAJOR_G_FLAT_MINOR=`A_MAJOR_G_FLAT_MINOR`,e.B_FLAT_MAJOR_G_MINOR=`B_FLAT_MAJOR_G_MINOR`,e.B_MAJOR_A_FLAT_MINOR=`B_MAJOR_A_FLAT_MINOR`})(ut||={});var dt;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED=`MUSIC_GENERATION_MODE_UNSPECIFIED`,e.QUALITY=`QUALITY`,e.DIVERSITY=`DIVERSITY`,e.VOCALIZATION=`VOCALIZATION`})(dt||={});var ft;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED=`PLAYBACK_CONTROL_UNSPECIFIED`,e.PLAY=`PLAY`,e.PAUSE=`PAUSE`,e.STOP=`STOP`,e.RESET_CONTEXT=`RESET_CONTEXT`})(ft||={});var pt=class{constructor(e){let t={};for(let n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}},mt=class{get text(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning text from the first one.`);let e=``,t=!1,n=[];for(let r of this.candidates?.[0]?.content?.parts??[]){for(let[e,t]of Object.entries(r))e!==`text`&&e!==`thought`&&e!==`thoughtSignature`&&(t!==null||t!==void 0)&&n.push(e);if(typeof r.text==`string`){if(typeof r.thought==`boolean`&&r.thought)continue;t=!0,e+=r.text}}return n.length>0&&console.warn(`there are non-text parts ${n} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),t?e:void 0}get data(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning data from the first one.`);let e=``,t=[];for(let n of this.candidates?.[0]?.content?.parts??[]){for(let[e,r]of Object.entries(n))e!==`inlineData`&&(r!==null||r!==void 0)&&t.push(e);n.inlineData&&typeof n.inlineData.data==`string`&&(e+=atob(n.inlineData.data))}return t.length>0&&console.warn(`there are non-data parts ${t} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),e.length>0?btoa(e):void 0}get functionCalls(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning function calls from the first one.`);let e=(this.candidates?.[0]?.content?.parts)?.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>e!==void 0);if(e?.length!==0)return e}get executableCode(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning executable code from the first one.`);let e=(this.candidates?.[0]?.content?.parts)?.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>e!==void 0);if(e?.length!==0)return e?.[0]?.code}get codeExecutionResult(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning code execution result from the first one.`);let e=(this.candidates?.[0]?.content?.parts)?.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>e!==void 0);if(e?.length!==0)return e?.[0]?.output}},ht=class{},gt=class{},_t=class{},vt=class{},yt=class{},bt=class{},xt=class{},St=class{},Ct=class{},wt=class{},Tt=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i,a=t;return i=n?ce(a):se(a),Object.assign(r,i),r}},Et=class{},Dt=class{},Ot=class{},kt=class{},At=class{},jt=class{},Mt=class{},Nt=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i=pe(t);return Object.assign(r,i),r}},Pt=class{},Ft=class{},It=class{},Lt=class{},Rt=class{get text(){let e=``,t=!1,n=[];for(let r of this.serverContent?.modelTurn?.parts??[]){for(let[e,t]of Object.entries(r))e!==`text`&&e!==`thought`&&t!==null&&n.push(e);if(typeof r.text==`string`){if(typeof r.thought==`boolean`&&r.thought)continue;t=!0,e+=r.text}}return n.length>0&&console.warn(`there are non-text parts ${n} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),t?e:void 0}get data(){let e=``,t=[];for(let n of this.serverContent?.modelTurn?.parts??[]){for(let[e,r]of Object.entries(n))e!==`inlineData`&&r!==null&&t.push(e);n.inlineData&&typeof n.inlineData.data==`string`&&(e+=atob(n.inlineData.data))}return t.length>0&&console.warn(`there are non-data parts ${t} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),e.length>0?btoa(e):void 0}},zt=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}},Bt=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i=me(t);return Object.assign(r,i),r}};function W(e,t){if(!t||typeof t!=`string`)throw Error(`model is required and must be a string`);if(t.includes(`..`)||t.includes(`?`)||t.includes(`&`))throw Error(`invalid model parameter`);if(e.isVertexAI()){if(t.startsWith(`publishers/`)||t.startsWith(`projects/`)||t.startsWith(`models/`))return t;if(t.indexOf(`/`)>=0){let e=t.split(`/`,2);return`publishers/${e[0]}/models/${e[1]}`}else return`publishers/google/models/${t}`}else if(t.startsWith(`models/`)||t.startsWith(`tunedModels/`))return t;else return`models/${t}`}function Vt(e,t){let n=W(e,t);return n?n.startsWith(`publishers/`)&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith(`models/`)&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:``}function Ht(e){return Array.isArray(e)?e.map(e=>Ut(e)):[Ut(e)]}function Ut(e){if(typeof e==`object`&&e)return e;throw Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Wt(e){let t=Ut(e);if(t.mimeType&&t.mimeType.startsWith(`image/`))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function Gt(e){let t=Ut(e);if(t.mimeType&&t.mimeType.startsWith(`audio/`))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function Kt(e){if(e==null)throw Error(`PartUnion is required`);if(typeof e==`object`)return e;if(typeof e==`string`)return{text:e};throw Error(`Unsupported part type: ${typeof e}`)}function qt(e){if(e==null||Array.isArray(e)&&e.length===0)throw Error(`PartListUnion is required`);return Array.isArray(e)?e.map(e=>Kt(e)):[Kt(e)]}function Jt(e){return typeof e==`object`&&!!e&&`parts`in e&&Array.isArray(e.parts)}function Yt(e){return typeof e==`object`&&!!e&&`functionCall`in e}function Xt(e){return typeof e==`object`&&!!e&&`functionResponse`in e}function G(e){if(e==null)throw Error(`ContentUnion is required`);return Jt(e)?e:{role:`user`,parts:qt(e)}}function Zt(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{let t=G(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]});if(e.isVertexAI()){let e=G(t);return e.parts&&e.parts.length>0&&e.parts[0].text!==void 0?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>G(e)):[G(t)]}function K(e){if(e==null||Array.isArray(e)&&e.length===0)throw Error(`contents are required`);if(!Array.isArray(e)){if(Yt(e)||Xt(e))throw Error(`To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them`);return[G(e)]}let t=[],n=[],r=Jt(e[0]);for(let i of e){let e=Jt(i);if(e!=r)throw Error(`Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them`);if(e)t.push(i);else if(Yt(i)||Xt(i))throw Error(`To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them`);else n.push(i)}return r||t.push({role:`user`,parts:qt(n)}),t}function Qt(e,t){e.includes(`null`)&&(t.nullable=!0);let n=e.filter(e=>e!==`null`);if(n.length===1)t.type=Object.values(R).includes(n[0].toUpperCase())?n[0].toUpperCase():R.TYPE_UNSPECIFIED;else{t.anyOf=[];for(let e of n)t.anyOf.push({type:Object.values(R).includes(e.toUpperCase())?e.toUpperCase():R.TYPE_UNSPECIFIED})}}function $t(e){let t={},n=[`items`],r=[`anyOf`],i=[`properties`];if(e.type&&e.anyOf)throw Error(`type and anyOf cannot be both populated.`);let a=e.anyOf;a!=null&&a.length==2&&(a[0].type===`null`?(t.nullable=!0,e=a[1]):a[1].type===`null`&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&Qt(e.type,t);for(let[a,o]of Object.entries(e))if(o!=null)if(a==`type`){if(o===`null`)throw Error(`type: null can not be the only possible type for the field.`);if(o instanceof Array)continue;t.type=Object.values(R).includes(o.toUpperCase())?o.toUpperCase():R.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=$t(o);else if(r.includes(a)){let e=[];for(let n of o){if(n.type==`null`){t.nullable=!0;continue}e.push($t(n))}t[a]=e}else if(i.includes(a)){let e={};for(let[t,n]of Object.entries(o))e[t]=$t(n);t[a]=e}else{if(a===`additionalProperties`)continue;t[a]=o}return t}function en(e){return $t(e)}function tn(e){if(typeof e==`object`)return e;if(typeof e==`string`)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw Error(`Unsupported speechConfig type: ${typeof e}`)}function nn(e){if(`multiSpeakerVoiceConfig`in e)throw Error(`multiSpeakerVoiceConfig is not supported in the live API.`);return e}function rn(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes(`$schema`)?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=$t(t.parameters)),t.response&&(Object.keys(t.response).includes(`$schema`)?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=$t(t.response));return e}function an(e){if(e==null)throw Error(`tools is required`);if(!Array.isArray(e))throw Error(`tools is required and must be an array of Tools`);let t=[];for(let n of e)t.push(n);return t}function on(e,t,n,r=1){let i=!t.startsWith(`${n}/`)&&t.split(`/`).length===r;return e.isVertexAI()?t.startsWith(`projects/`)?t:t.startsWith(`locations/`)?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function q(e,t){if(typeof t!=`string`)throw Error(`name must be a string`);return on(e,t,`cachedContents`)}function sn(e){switch(e){case`STATE_UNSPECIFIED`:return`JOB_STATE_UNSPECIFIED`;case`CREATING`:return`JOB_STATE_RUNNING`;case`ACTIVE`:return`JOB_STATE_SUCCEEDED`;case`FAILED`:return`JOB_STATE_FAILED`;default:return e}}function J(e){return oe(e)}function cn(e){return typeof e==`object`&&!!e&&`name`in e}function ln(e){return typeof e==`object`&&!!e&&`video`in e}function un(e){return typeof e==`object`&&!!e&&`uri`in e}function dn(e){let t;if(cn(e)&&(t=e.name),!(un(e)&&(t=e.uri,t===void 0))&&!(ln(e)&&(t=e.video?.uri,t===void 0))){if(typeof e==`string`&&(t=e),t===void 0)throw Error(`Could not extract file name from the provided input.`);if(t.startsWith(`https://`)){let e=t.split(`files/`)[1].match(/[a-z0-9]+/);if(e===null)throw Error(`Could not extract file name from URI ${t}`);t=e[0]}else t.startsWith(`files/`)&&(t=t.split(`files/`)[1]);return t}}function fn(e,t){let n;return n=e.isVertexAI()?t?`publishers/google/models`:`models`:t?`models`:`tunedModels`,n}function pn(e){for(let t of[`models`,`tunedModels`,`publisherModels`])if(mn(e,t))return e[t];return[]}function mn(e,t){return typeof e==`object`&&!!e&&t in e}function hn(e,t={}){let n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function gn(e,t={}){let n=[],r=new Set;for(let i of e){let e=i.name;if(r.has(e))throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);let a=hn(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function _n(e,t){let n;if(typeof t==`string`)if(e.isVertexAI())if(t.startsWith(`gs://`))n={format:`jsonl`,gcsUri:[t]};else if(t.startsWith(`bq://`))n={format:`bigquery`,bigqueryUri:t};else throw Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith(`files/`))n={fileName:t};else throw Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw Error(`InlinedRequest[] is not supported in Vertex AI.`);n={inlinedRequests:t}}else n=t;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vn(e){if(typeof e!=`string`)return e;let t=e;if(t.startsWith(`gs://`))return{format:`jsonl`,gcsUri:t};if(t.startsWith(`bq://`))return{format:`bigquery`,bigqueryUri:t};throw Error(`Unsupported destination: ${t}`)}function yn(e){if(typeof e!=`object`||!e)return{};let t=e,n=t.inlinedResponses;if(typeof n!=`object`||!n)return e;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(let e of r){if(typeof e!=`object`||!e)continue;let t=e.response;if(!(typeof t!=`object`||!t)&&t.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function bn(e,t){let n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split(`/`).pop();throw Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split(`/`).pop();if(/^\d+$/.test(n))return n;throw Error(`Invalid batch job name: ${n}.`)}function xn(e){let t=e;return t===`BATCH_STATE_UNSPECIFIED`?`JOB_STATE_UNSPECIFIED`:t===`BATCH_STATE_PENDING`?`JOB_STATE_PENDING`:t===`BATCH_STATE_RUNNING`?`JOB_STATE_RUNNING`:t===`BATCH_STATE_SUCCEEDED`?`JOB_STATE_SUCCEEDED`:t===`BATCH_STATE_FAILED`?`JOB_STATE_FAILED`:t===`BATCH_STATE_CANCELLED`?`JOB_STATE_CANCELLED`:t===`BATCH_STATE_EXPIRED`?`JOB_STATE_EXPIRED`:t}function Sn(e){let t={},n=N(e,[`responsesFile`]);n!=null&&M(t,[`fileName`],n);let r=N(e,[`inlinedResponses`,`inlinedResponses`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>or(e))),M(t,[`inlinedResponses`],e)}let i=N(e,[`inlinedEmbedContentResponses`,`inlinedResponses`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`inlinedEmbedContentResponses`],e)}return t}function Cn(e){let t={},n=N(e,[`predictionsFormat`]);n!=null&&M(t,[`format`],n);let r=N(e,[`gcsDestination`,`outputUriPrefix`]);r!=null&&M(t,[`gcsUri`],r);let i=N(e,[`bigqueryDestination`,`outputUri`]);return i!=null&&M(t,[`bigqueryUri`],i),t}function wn(e){let t={},n=N(e,[`format`]);n!=null&&M(t,[`predictionsFormat`],n);let r=N(e,[`gcsUri`]);r!=null&&M(t,[`gcsDestination`,`outputUriPrefix`],r);let i=N(e,[`bigqueryUri`]);if(i!=null&&M(t,[`bigqueryDestination`,`outputUri`],i),N(e,[`fileName`])!==void 0)throw Error(`fileName parameter is not supported in Vertex AI.`);if(N(e,[`inlinedResponses`])!==void 0)throw Error(`inlinedResponses parameter is not supported in Vertex AI.`);if(N(e,[`inlinedEmbedContentResponses`])!==void 0)throw Error(`inlinedEmbedContentResponses parameter is not supported in Vertex AI.`);return t}function Tn(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`,`displayName`]);r!=null&&M(t,[`displayName`],r);let i=N(e,[`metadata`,`state`]);i!=null&&M(t,[`state`],xn(i));let a=N(e,[`metadata`,`createTime`]);a!=null&&M(t,[`createTime`],a);let o=N(e,[`metadata`,`endTime`]);o!=null&&M(t,[`endTime`],o);let s=N(e,[`metadata`,`updateTime`]);s!=null&&M(t,[`updateTime`],s);let c=N(e,[`metadata`,`model`]);c!=null&&M(t,[`model`],c);let l=N(e,[`metadata`,`output`]);return l!=null&&M(t,[`dest`],Sn(yn(l))),t}function En(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`displayName`]);r!=null&&M(t,[`displayName`],r);let i=N(e,[`state`]);i!=null&&M(t,[`state`],xn(i));let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`createTime`]);o!=null&&M(t,[`createTime`],o);let s=N(e,[`startTime`]);s!=null&&M(t,[`startTime`],s);let c=N(e,[`endTime`]);c!=null&&M(t,[`endTime`],c);let l=N(e,[`updateTime`]);l!=null&&M(t,[`updateTime`],l);let u=N(e,[`model`]);u!=null&&M(t,[`model`],u);let d=N(e,[`inputConfig`]);d!=null&&M(t,[`src`],Dn(d));let f=N(e,[`outputConfig`]);f!=null&&M(t,[`dest`],Cn(yn(f)));let p=N(e,[`completionStats`]);return p!=null&&M(t,[`completionStats`],p),t}function Dn(e){let t={},n=N(e,[`instancesFormat`]);n!=null&&M(t,[`format`],n);let r=N(e,[`gcsSource`,`uris`]);r!=null&&M(t,[`gcsUri`],r);let i=N(e,[`bigquerySource`,`inputUri`]);return i!=null&&M(t,[`bigqueryUri`],i),t}function On(e,t){let n={};if(N(t,[`format`])!==void 0)throw Error(`format parameter is not supported in Gemini API.`);if(N(t,[`gcsUri`])!==void 0)throw Error(`gcsUri parameter is not supported in Gemini API.`);if(N(t,[`bigqueryUri`])!==void 0)throw Error(`bigqueryUri parameter is not supported in Gemini API.`);let r=N(t,[`fileName`]);r!=null&&M(n,[`fileName`],r);let i=N(t,[`inlinedRequests`]);if(i!=null){let t=i;Array.isArray(t)&&(t=t.map(t=>ar(e,t))),M(n,[`requests`,`requests`],t)}return n}function kn(e){let t={},n=N(e,[`format`]);n!=null&&M(t,[`instancesFormat`],n);let r=N(e,[`gcsUri`]);r!=null&&M(t,[`gcsSource`,`uris`],r);let i=N(e,[`bigqueryUri`]);if(i!=null&&M(t,[`bigquerySource`,`inputUri`],i),N(e,[`fileName`])!==void 0)throw Error(`fileName parameter is not supported in Vertex AI.`);if(N(e,[`inlinedRequests`])!==void 0)throw Error(`inlinedRequests parameter is not supported in Vertex AI.`);return t}function An(e){let t={},n=N(e,[`data`]);if(n!=null&&M(t,[`data`],n),N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function jn(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],bn(e,r)),n}function Mn(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],bn(e,r)),n}function Nn(e){let t={},n=N(e,[`content`]);n!=null&&M(t,[`content`],n);let r=N(e,[`citationMetadata`]);r!=null&&M(t,[`citationMetadata`],Pn(r));let i=N(e,[`tokenCount`]);i!=null&&M(t,[`tokenCount`],i);let a=N(e,[`finishReason`]);a!=null&&M(t,[`finishReason`],a);let o=N(e,[`avgLogprobs`]);o!=null&&M(t,[`avgLogprobs`],o);let s=N(e,[`groundingMetadata`]);s!=null&&M(t,[`groundingMetadata`],s);let c=N(e,[`index`]);c!=null&&M(t,[`index`],c);let l=N(e,[`logprobsResult`]);l!=null&&M(t,[`logprobsResult`],l);let u=N(e,[`safetyRatings`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`safetyRatings`],e)}let d=N(e,[`urlContextMetadata`]);return d!=null&&M(t,[`urlContextMetadata`],d),t}function Pn(e){let t={},n=N(e,[`citationSources`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`citations`],e)}return t}function Fn(e){let t={},n=N(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>pr(e))),M(t,[`parts`],e)}let r=N(e,[`role`]);return r!=null&&M(t,[`role`],r),t}function In(e,t){let n={},r=N(e,[`displayName`]);if(t!==void 0&&r!=null&&M(t,[`batch`,`displayName`],r),N(e,[`dest`])!==void 0)throw Error(`dest parameter is not supported in Gemini API.`);return n}function Ln(e,t){let n={},r=N(e,[`displayName`]);t!==void 0&&r!=null&&M(t,[`displayName`],r);let i=N(e,[`dest`]);return t!==void 0&&i!=null&&M(t,[`outputConfig`],wn(vn(i))),n}function Rn(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`src`]);i!=null&&M(n,[`batch`,`inputConfig`],On(e,_n(e,i)));let a=N(t,[`config`]);return a!=null&&In(a,n),n}function zn(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`model`],W(e,r));let i=N(t,[`src`]);i!=null&&M(n,[`inputConfig`],kn(_n(e,i)));let a=N(t,[`config`]);return a!=null&&Ln(a,n),n}function Bn(e,t){let n={},r=N(e,[`displayName`]);return t!==void 0&&r!=null&&M(t,[`batch`,`displayName`],r),n}function Vn(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`src`]);i!=null&&M(n,[`batch`,`inputConfig`],Jn(e,i));let a=N(t,[`config`]);return a!=null&&Bn(a,n),n}function Hn(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],bn(e,r)),n}function Un(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],bn(e,r)),n}function Wn(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`name`]);r!=null&&M(t,[`name`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);return a!=null&&M(t,[`error`],a),t}function Gn(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`name`]);r!=null&&M(t,[`name`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);return a!=null&&M(t,[`error`],a),t}function Kn(e,t){let n={},r=N(t,[`contents`]);if(r!=null){let t=Zt(e,r);Array.isArray(t)&&(t=t.map(e=>e)),M(n,[`requests[]`,`request`,`content`],t)}let i=N(t,[`config`]);return i!=null&&(M(n,[`_self`],qn(i,n)),ie(n,{"requests[].*":`requests[].request.*`})),n}function qn(e,t){let n={},r=N(e,[`taskType`]);t!==void 0&&r!=null&&M(t,[`requests[]`,`taskType`],r);let i=N(e,[`title`]);t!==void 0&&i!=null&&M(t,[`requests[]`,`title`],i);let a=N(e,[`outputDimensionality`]);if(t!==void 0&&a!=null&&M(t,[`requests[]`,`outputDimensionality`],a),N(e,[`mimeType`])!==void 0)throw Error(`mimeType parameter is not supported in Gemini API.`);if(N(e,[`autoTruncate`])!==void 0)throw Error(`autoTruncate parameter is not supported in Gemini API.`);return n}function Jn(e,t){let n={},r=N(t,[`fileName`]);r!=null&&M(n,[`file_name`],r);let i=N(t,[`inlinedRequests`]);return i!=null&&M(n,[`requests`],Kn(e,i)),n}function Yn(e){let t={};if(N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=N(e,[`fileUri`]);n!=null&&M(t,[`fileUri`],n);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function Xn(e){let t={},n=N(e,[`id`]);n!=null&&M(t,[`id`],n);let r=N(e,[`args`]);r!=null&&M(t,[`args`],r);let i=N(e,[`name`]);if(i!=null&&M(t,[`name`],i),N(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(N(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function Zn(e){let t={},n=N(e,[`mode`]);n!=null&&M(t,[`mode`],n);let r=N(e,[`allowedFunctionNames`]);if(r!=null&&M(t,[`allowedFunctionNames`],r),N(e,[`streamFunctionCallArguments`])!==void 0)throw Error(`streamFunctionCallArguments parameter is not supported in Gemini API.`);return t}function Qn(e,t,n){let r={},i=N(t,[`systemInstruction`]);n!==void 0&&i!=null&&M(n,[`systemInstruction`],Fn(G(i)));let a=N(t,[`temperature`]);a!=null&&M(r,[`temperature`],a);let o=N(t,[`topP`]);o!=null&&M(r,[`topP`],o);let s=N(t,[`topK`]);s!=null&&M(r,[`topK`],s);let c=N(t,[`candidateCount`]);c!=null&&M(r,[`candidateCount`],c);let l=N(t,[`maxOutputTokens`]);l!=null&&M(r,[`maxOutputTokens`],l);let u=N(t,[`stopSequences`]);u!=null&&M(r,[`stopSequences`],u);let d=N(t,[`responseLogprobs`]);d!=null&&M(r,[`responseLogprobs`],d);let f=N(t,[`logprobs`]);f!=null&&M(r,[`logprobs`],f);let p=N(t,[`presencePenalty`]);p!=null&&M(r,[`presencePenalty`],p);let m=N(t,[`frequencyPenalty`]);m!=null&&M(r,[`frequencyPenalty`],m);let h=N(t,[`seed`]);h!=null&&M(r,[`seed`],h);let g=N(t,[`responseMimeType`]);g!=null&&M(r,[`responseMimeType`],g);let _=N(t,[`responseSchema`]);_!=null&&M(r,[`responseSchema`],en(_));let v=N(t,[`responseJsonSchema`]);if(v!=null&&M(r,[`responseJsonSchema`],v),N(t,[`routingConfig`])!==void 0)throw Error(`routingConfig parameter is not supported in Gemini API.`);if(N(t,[`modelSelectionConfig`])!==void 0)throw Error(`modelSelectionConfig parameter is not supported in Gemini API.`);let y=N(t,[`safetySettings`]);if(n!==void 0&&y!=null){let e=y;Array.isArray(e)&&(e=e.map(e=>mr(e))),M(n,[`safetySettings`],e)}let b=N(t,[`tools`]);if(n!==void 0&&b!=null){let e=an(b);Array.isArray(e)&&(e=e.map(e=>gr(rn(e)))),M(n,[`tools`],e)}let x=N(t,[`toolConfig`]);if(n!==void 0&&x!=null&&M(n,[`toolConfig`],hr(x)),N(t,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);let S=N(t,[`cachedContent`]);n!==void 0&&S!=null&&M(n,[`cachedContent`],q(e,S));let C=N(t,[`responseModalities`]);C!=null&&M(r,[`responseModalities`],C);let w=N(t,[`mediaResolution`]);w!=null&&M(r,[`mediaResolution`],w);let T=N(t,[`speechConfig`]);if(T!=null&&M(r,[`speechConfig`],tn(T)),N(t,[`audioTimestamp`])!==void 0)throw Error(`audioTimestamp parameter is not supported in Gemini API.`);let E=N(t,[`thinkingConfig`]);E!=null&&M(r,[`thinkingConfig`],E);let D=N(t,[`imageConfig`]);return D!=null&&M(r,[`imageConfig`],ir(D)),r}function $n(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`candidates`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Nn(e))),M(t,[`candidates`],e)}let i=N(e,[`modelVersion`]);i!=null&&M(t,[`modelVersion`],i);let a=N(e,[`promptFeedback`]);a!=null&&M(t,[`promptFeedback`],a);let o=N(e,[`responseId`]);o!=null&&M(t,[`responseId`],o);let s=N(e,[`usageMetadata`]);return s!=null&&M(t,[`usageMetadata`],s),t}function er(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],bn(e,r)),n}function tr(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],bn(e,r)),n}function nr(e){let t={};if(N(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=N(e,[`enableWidget`]);return n!=null&&M(t,[`enableWidget`],n),t}function rr(e){let t={};if(N(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(N(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=N(e,[`timeRangeFilter`]);return n!=null&&M(t,[`timeRangeFilter`],n),t}function ir(e){let t={},n=N(e,[`aspectRatio`]);n!=null&&M(t,[`aspectRatio`],n);let r=N(e,[`imageSize`]);if(r!=null&&M(t,[`imageSize`],r),N(e,[`outputMimeType`])!==void 0)throw Error(`outputMimeType parameter is not supported in Gemini API.`);if(N(e,[`outputCompressionQuality`])!==void 0)throw Error(`outputCompressionQuality parameter is not supported in Gemini API.`);return t}function ar(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`request`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let e=K(i);Array.isArray(e)&&(e=e.map(e=>Fn(e))),M(n,[`request`,`contents`],e)}let a=N(t,[`metadata`]);a!=null&&M(n,[`metadata`],a);let o=N(t,[`config`]);return o!=null&&M(n,[`request`,`generationConfig`],Qn(e,o,N(n,[`request`],{}))),n}function or(e){let t={},n=N(e,[`response`]);n!=null&&M(t,[`response`],$n(n));let r=N(e,[`error`]);return r!=null&&M(t,[`error`],r),t}function sr(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);if(t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i),N(e,[`filter`])!==void 0)throw Error(`filter parameter is not supported in Gemini API.`);return n}function cr(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i);let a=N(e,[`filter`]);return t!==void 0&&a!=null&&M(t,[`_query`,`filter`],a),n}function lr(e){let t={},n=N(e,[`config`]);return n!=null&&sr(n,t),t}function ur(e){let t={},n=N(e,[`config`]);return n!=null&&cr(n,t),t}function dr(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`operations`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>Tn(e))),M(t,[`batchJobs`],e)}return t}function fr(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`batchPredictionJobs`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>En(e))),M(t,[`batchJobs`],e)}return t}function pr(e){let t={},n=N(e,[`mediaResolution`]);n!=null&&M(t,[`mediaResolution`],n);let r=N(e,[`codeExecutionResult`]);r!=null&&M(t,[`codeExecutionResult`],r);let i=N(e,[`executableCode`]);i!=null&&M(t,[`executableCode`],i);let a=N(e,[`fileData`]);a!=null&&M(t,[`fileData`],Yn(a));let o=N(e,[`functionCall`]);o!=null&&M(t,[`functionCall`],Xn(o));let s=N(e,[`functionResponse`]);s!=null&&M(t,[`functionResponse`],s);let c=N(e,[`inlineData`]);c!=null&&M(t,[`inlineData`],An(c));let l=N(e,[`text`]);l!=null&&M(t,[`text`],l);let u=N(e,[`thought`]);u!=null&&M(t,[`thought`],u);let d=N(e,[`thoughtSignature`]);d!=null&&M(t,[`thoughtSignature`],d);let f=N(e,[`videoMetadata`]);return f!=null&&M(t,[`videoMetadata`],f),t}function mr(e){let t={},n=N(e,[`category`]);if(n!=null&&M(t,[`category`],n),N(e,[`method`])!==void 0)throw Error(`method parameter is not supported in Gemini API.`);let r=N(e,[`threshold`]);return r!=null&&M(t,[`threshold`],r),t}function hr(e){let t={},n=N(e,[`functionCallingConfig`]);n!=null&&M(t,[`functionCallingConfig`],Zn(n));let r=N(e,[`retrievalConfig`]);return r!=null&&M(t,[`retrievalConfig`],r),t}function gr(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`functionDeclarations`],e)}if(N(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let r=N(e,[`googleSearchRetrieval`]);r!=null&&M(t,[`googleSearchRetrieval`],r);let i=N(e,[`computerUse`]);i!=null&&M(t,[`computerUse`],i);let a=N(e,[`fileSearch`]);a!=null&&M(t,[`fileSearch`],a);let o=N(e,[`codeExecution`]);if(o!=null&&M(t,[`codeExecution`],o),N(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let s=N(e,[`googleMaps`]);s!=null&&M(t,[`googleMaps`],nr(s));let c=N(e,[`googleSearch`]);c!=null&&M(t,[`googleSearch`],rr(c));let l=N(e,[`urlContext`]);return l!=null&&M(t,[`urlContext`],l),t}var Y;(function(e){e.PAGED_ITEM_BATCH_JOBS=`batchJobs`,e.PAGED_ITEM_MODELS=`models`,e.PAGED_ITEM_TUNING_JOBS=`tuningJobs`,e.PAGED_ITEM_FILES=`files`,e.PAGED_ITEM_CACHED_CONTENTS=`cachedContents`,e.PAGED_ITEM_FILE_SEARCH_STORES=`fileSearchStores`,e.PAGED_ITEM_DOCUMENTS=`documents`})(Y||={});var X=class{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t?.sdkHttpResponse,this.idxInternal=0;let r={config:{}};r=!n||Object.keys(n).length===0?{config:{}}:typeof n==`object`?Object.assign({},n):n,r.config&&(r.config.pageToken=t.nextPageToken),this.paramsInternal=r,this.pageInternalSize=r.config?.pageSize??this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw Error(`No more pages to fetch.`);let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){return this.params.config?.pageToken!==void 0}},_r=class extends A{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new X(Y.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn(`batches.createEmbeddings() is experimental and may change without notice.`),this.apiClient.isVertexAI())throw Error(`Vertex AI does not support batches.createEmbeddings.`);return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){let t=Rn(this.apiClient,e),n=t._url,r=j(`{model}:batchGenerateContent`,n),i=t.batch.inputConfig.requests,a=i.requests,o=[];for(let e of a){let t=Object.assign({},e);if(t.systemInstruction){let e=t.systemInstruction;delete t.systemInstruction;let n=t.request;n.systemInstruction=e,t.request=n}o.push(t)}return i.requests=o,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e==`string`)return e.startsWith(`gs://`)?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e==`string`)return e.startsWith(`bq://`)?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){let n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||=`genaiBatchJob_${r}`,n.dest===void 0){let t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(`.jsonl`)?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else if(i)n.dest=`${i}_dest_${r}`;else throw Error(`Unsupported source for Vertex AI: No GCS or BigQuery URI found.`)}return n}async createInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=zn(this.apiClient,e);return n=j(`batchPredictionJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>En(e))}else{let i=Rn(this.apiClient,e);return n=j(`{model}:batchGenerateContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>Tn(e))}}async createEmbeddingsInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Vn(this.apiClient,e);return n=j(`{model}:asyncBatchEmbedContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>Tn(e))}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=tr(this.apiClient,e);return n=j(`batchPredictionJobs/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>En(e))}else{let i=er(this.apiClient,e);return n=j(`batches/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>Tn(e))}}async cancel(e){let t=``,n={};if(this.apiClient.isVertexAI()){let r=Mn(this.apiClient,e);t=j(`batchPredictionJobs/{name}:cancel`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}else{let r=jn(this.apiClient,e);t=j(`batches/{name}:cancel`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=ur(e);return n=j(`batchPredictionJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=fr(e),n=new Lt;return Object.assign(n,t),n})}else{let i=lr(e);return n=j(`batches`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=dr(e),n=new Lt;return Object.assign(n,t),n})}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Un(this.apiClient,e);return n=j(`batchPredictionJobs/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Gn(e))}else{let i=Hn(this.apiClient,e);return n=j(`batches/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Wn(e))}}};function vr(e){let t={},n=N(e,[`data`]);if(n!=null&&M(t,[`data`],n),N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function yr(e){let t={},n=N(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Hr(e))),M(t,[`parts`],e)}let r=N(e,[`role`]);return r!=null&&M(t,[`role`],r),t}function br(e,t){let n={},r=N(e,[`ttl`]);t!==void 0&&r!=null&&M(t,[`ttl`],r);let i=N(e,[`expireTime`]);t!==void 0&&i!=null&&M(t,[`expireTime`],i);let a=N(e,[`displayName`]);t!==void 0&&a!=null&&M(t,[`displayName`],a);let o=N(e,[`contents`]);if(t!==void 0&&o!=null){let e=K(o);Array.isArray(e)&&(e=e.map(e=>yr(e))),M(t,[`contents`],e)}let s=N(e,[`systemInstruction`]);t!==void 0&&s!=null&&M(t,[`systemInstruction`],yr(G(s)));let c=N(e,[`tools`]);if(t!==void 0&&c!=null){let e=c;Array.isArray(e)&&(e=e.map(e=>Wr(e))),M(t,[`tools`],e)}let l=N(e,[`toolConfig`]);if(t!==void 0&&l!=null&&M(t,[`toolConfig`],Ur(l)),N(e,[`kmsKeyName`])!==void 0)throw Error(`kmsKeyName parameter is not supported in Gemini API.`);return n}function xr(e,t){let n={},r=N(e,[`ttl`]);t!==void 0&&r!=null&&M(t,[`ttl`],r);let i=N(e,[`expireTime`]);t!==void 0&&i!=null&&M(t,[`expireTime`],i);let a=N(e,[`displayName`]);t!==void 0&&a!=null&&M(t,[`displayName`],a);let o=N(e,[`contents`]);if(t!==void 0&&o!=null){let e=K(o);Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`contents`],e)}let s=N(e,[`systemInstruction`]);t!==void 0&&s!=null&&M(t,[`systemInstruction`],G(s));let c=N(e,[`tools`]);if(t!==void 0&&c!=null){let e=c;Array.isArray(e)&&(e=e.map(e=>Gr(e))),M(t,[`tools`],e)}let l=N(e,[`toolConfig`]);t!==void 0&&l!=null&&M(t,[`toolConfig`],l);let u=N(e,[`kmsKeyName`]);return t!==void 0&&u!=null&&M(t,[`encryption_spec`,`kmsKeyName`],u),n}function Sr(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`model`],Vt(e,r));let i=N(t,[`config`]);return i!=null&&br(i,n),n}function Cr(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`model`],Vt(e,r));let i=N(t,[`config`]);return i!=null&&xr(i,n),n}function wr(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],q(e,r)),n}function Tr(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],q(e,r)),n}function Er(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}function Dr(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}function Or(e){let t={};if(N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=N(e,[`fileUri`]);n!=null&&M(t,[`fileUri`],n);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function kr(e){let t={},n=N(e,[`id`]);n!=null&&M(t,[`id`],n);let r=N(e,[`args`]);r!=null&&M(t,[`args`],r);let i=N(e,[`name`]);if(i!=null&&M(t,[`name`],i),N(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(N(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function Ar(e){let t={},n=N(e,[`mode`]);n!=null&&M(t,[`mode`],n);let r=N(e,[`allowedFunctionNames`]);if(r!=null&&M(t,[`allowedFunctionNames`],r),N(e,[`streamFunctionCallArguments`])!==void 0)throw Error(`streamFunctionCallArguments parameter is not supported in Gemini API.`);return t}function jr(e){let t={};if(N(e,[`behavior`])!==void 0)throw Error(`behavior parameter is not supported in Vertex AI.`);let n=N(e,[`description`]);n!=null&&M(t,[`description`],n);let r=N(e,[`name`]);r!=null&&M(t,[`name`],r);let i=N(e,[`parameters`]);i!=null&&M(t,[`parameters`],i);let a=N(e,[`parametersJsonSchema`]);a!=null&&M(t,[`parametersJsonSchema`],a);let o=N(e,[`response`]);o!=null&&M(t,[`response`],o);let s=N(e,[`responseJsonSchema`]);return s!=null&&M(t,[`responseJsonSchema`],s),t}function Mr(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],q(e,r)),n}function Nr(e,t){let n={},r=N(t,[`name`]);return r!=null&&M(n,[`_url`,`name`],q(e,r)),n}function Pr(e){let t={};if(N(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=N(e,[`enableWidget`]);return n!=null&&M(t,[`enableWidget`],n),t}function Fr(e){let t={};if(N(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(N(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=N(e,[`timeRangeFilter`]);return n!=null&&M(t,[`timeRangeFilter`],n),t}function Ir(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);return t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i),n}function Lr(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);return t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i),n}function Rr(e){let t={},n=N(e,[`config`]);return n!=null&&Ir(n,t),t}function zr(e){let t={},n=N(e,[`config`]);return n!=null&&Lr(n,t),t}function Br(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`cachedContents`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`cachedContents`],e)}return t}function Vr(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`cachedContents`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`cachedContents`],e)}return t}function Hr(e){let t={},n=N(e,[`mediaResolution`]);n!=null&&M(t,[`mediaResolution`],n);let r=N(e,[`codeExecutionResult`]);r!=null&&M(t,[`codeExecutionResult`],r);let i=N(e,[`executableCode`]);i!=null&&M(t,[`executableCode`],i);let a=N(e,[`fileData`]);a!=null&&M(t,[`fileData`],Or(a));let o=N(e,[`functionCall`]);o!=null&&M(t,[`functionCall`],kr(o));let s=N(e,[`functionResponse`]);s!=null&&M(t,[`functionResponse`],s);let c=N(e,[`inlineData`]);c!=null&&M(t,[`inlineData`],vr(c));let l=N(e,[`text`]);l!=null&&M(t,[`text`],l);let u=N(e,[`thought`]);u!=null&&M(t,[`thought`],u);let d=N(e,[`thoughtSignature`]);d!=null&&M(t,[`thoughtSignature`],d);let f=N(e,[`videoMetadata`]);return f!=null&&M(t,[`videoMetadata`],f),t}function Ur(e){let t={},n=N(e,[`functionCallingConfig`]);n!=null&&M(t,[`functionCallingConfig`],Ar(n));let r=N(e,[`retrievalConfig`]);return r!=null&&M(t,[`retrievalConfig`],r),t}function Wr(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`functionDeclarations`],e)}if(N(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let r=N(e,[`googleSearchRetrieval`]);r!=null&&M(t,[`googleSearchRetrieval`],r);let i=N(e,[`computerUse`]);i!=null&&M(t,[`computerUse`],i);let a=N(e,[`fileSearch`]);a!=null&&M(t,[`fileSearch`],a);let o=N(e,[`codeExecution`]);if(o!=null&&M(t,[`codeExecution`],o),N(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let s=N(e,[`googleMaps`]);s!=null&&M(t,[`googleMaps`],Pr(s));let c=N(e,[`googleSearch`]);c!=null&&M(t,[`googleSearch`],Fr(c));let l=N(e,[`urlContext`]);return l!=null&&M(t,[`urlContext`],l),t}function Gr(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>jr(e))),M(t,[`functionDeclarations`],e)}let r=N(e,[`retrieval`]);r!=null&&M(t,[`retrieval`],r);let i=N(e,[`googleSearchRetrieval`]);i!=null&&M(t,[`googleSearchRetrieval`],i);let a=N(e,[`computerUse`]);if(a!=null&&M(t,[`computerUse`],a),N(e,[`fileSearch`])!==void 0)throw Error(`fileSearch parameter is not supported in Vertex AI.`);let o=N(e,[`codeExecution`]);o!=null&&M(t,[`codeExecution`],o);let s=N(e,[`enterpriseWebSearch`]);s!=null&&M(t,[`enterpriseWebSearch`],s);let c=N(e,[`googleMaps`]);c!=null&&M(t,[`googleMaps`],c);let l=N(e,[`googleSearch`]);l!=null&&M(t,[`googleSearch`],l);let u=N(e,[`urlContext`]);return u!=null&&M(t,[`urlContext`],u),t}function Kr(e,t){let n={},r=N(e,[`ttl`]);t!==void 0&&r!=null&&M(t,[`ttl`],r);let i=N(e,[`expireTime`]);return t!==void 0&&i!=null&&M(t,[`expireTime`],i),n}function qr(e,t){let n={},r=N(e,[`ttl`]);t!==void 0&&r!=null&&M(t,[`ttl`],r);let i=N(e,[`expireTime`]);return t!==void 0&&i!=null&&M(t,[`expireTime`],i),n}function Jr(e,t){let n={},r=N(t,[`name`]);r!=null&&M(n,[`_url`,`name`],q(e,r));let i=N(t,[`config`]);return i!=null&&Kr(i,n),n}function Yr(e,t){let n={},r=N(t,[`name`]);r!=null&&M(n,[`_url`,`name`],q(e,r));let i=N(t,[`config`]);return i!=null&&qr(i,n),n}var Xr=class extends A{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new X(Y.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Cr(this.apiClient,e);return n=j(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}else{let i=Sr(this.apiClient,e);return n=j(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Nr(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}else{let i=Mr(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Tr(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Dr(e),n=new Ot;return Object.assign(n,t),n})}else{let i=wr(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Er(e),n=new Ot;return Object.assign(n,t),n})}}async update(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Yr(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}else{let i=Jr(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=zr(e);return n=j(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Vr(e),n=new kt;return Object.assign(n,t),n})}else{let i=Rr(e);return n=j(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Br(e),n=new kt;return Object.assign(n,t),n})}}};function Zr(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function Z(e){return this instanceof Z?(this.v=e,this):new Z(e)}function Qr(e,t,n){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator==`function`?AsyncIterator:Object).prototype),s(`next`),s(`throw`),s(`return`,o),i[Symbol.asyncIterator]=function(){return this},i;function o(e){return function(t){return Promise.resolve(t).then(e,d)}}function s(e,t){r[e]&&(i[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||c(e,t)})},t&&(i[e]=t(i[e])))}function c(e,t){try{l(r[e](t))}catch(e){f(a[0][3],e)}}function l(e){e.value instanceof Z?Promise.resolve(e.value.v).then(u,d):f(a[0][2],e)}function u(e){c(`next`,e)}function d(e){c(`throw`,e)}function f(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function $r(e){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zr==`function`?Zr(e):e[Symbol.iterator](),n={},r(`next`),r(`throw`),r(`return`),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise(function(r,a){n=e[t](n),i(r,a,n.done,n.value)})}}function i(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}}function ei(e){if(e.candidates==null||e.candidates.length===0)return!1;let t=e.candidates[0]?.content;return t===void 0?!1:ti(t)}function ti(e){if(e.parts===void 0||e.parts.length===0)return!1;for(let t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function ni(e){if(e.length!==0){for(let t of e)if(t.role!==`user`&&t.role!==`model`)throw Error(`Role must be user or model, but got ${t.role}.`)}}function ri(e){if(e===void 0||e.length===0)return[];let t=[],n=e.length,r=0;for(;r<n;)if(e[r].role===`user`)t.push(e[r]),r++;else{let i=[],a=!0;for(;r<n&&e[r].role===`model`;)i.push(e[r]),a&&!ti(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}var ii=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ai(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},ai=class{constructor(e,t,n,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),ni(i)}async sendMessage(e){await this.sendPromise;let t=G(e.message),n=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(t),config:e.config??this.config});return this.sendPromise=(async()=>{let e=await n,r=e.candidates?.[0]?.content,i=e.automaticFunctionCallingHistory,a=this.getHistory(!0).length,o=[];i!=null&&(o=i.slice(a)??[]);let s=r?[r]:[];this.recordHistory(t,s,o)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),n}async sendMessageStream(e){await this.sendPromise;let t=G(e.message),n=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(t),config:e.config??this.config});this.sendPromise=n.then(()=>void 0).catch(()=>void 0);let r=await n;return this.processStreamResponse(r,t)}getHistory(e=!1){let t=e?ri(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Qr(this,arguments,function*(){var n,r,i,a;let o=[];try{for(var s=!0,c=$r(e),l;l=yield Z(c.next()),n=l.done,!n;s=!0){a=l.value,s=!1;let e=a;if(ei(e)){let t=e.candidates?.[0]?.content;t!==void 0&&o.push(t)}yield yield Z(e)}}catch(e){r={error:e}}finally{try{!s&&!n&&(i=c.return)&&(yield Z(i.call(c)))}finally{if(r)throw r.error}}this.recordHistory(t,o)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>e.role!==void 0)?r=t:r.push({role:`model`,parts:[]}),n&&n.length>0?this.history.push(...ri(n)):this.history.push(e),this.history.push(...r)}},oi=class e extends Error{constructor(t){super(t.message),this.name=`ApiError`,this.status=t.status,Object.setPrototypeOf(this,e.prototype)}};function si(e){let t={},n=N(e,[`file`]);return n!=null&&M(t,[`file`],n),t}function ci(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}function li(e){let t={},n=N(e,[`name`]);return n!=null&&M(t,[`_url`,`file`],dn(n)),t}function ui(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}function di(e){let t={},n=N(e,[`name`]);return n!=null&&M(t,[`_url`,`file`],dn(n)),t}function fi(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);return t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i),n}function pi(e){let t={},n=N(e,[`config`]);return n!=null&&fi(n,t),t}function mi(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`files`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`files`],e)}return t}var hi=class extends A{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new X(Y.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw Error(`Vertex AI does not support uploading files. You can share files through a GCS bucket.`);return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=pi(e);return n=j(`files`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=mi(e),n=new Pt;return Object.assign(n,t),n})}}async createInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=si(e);return n=j(`upload/v1beta/files`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=ci(e),n=new Ft;return Object.assign(n,t),n})}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=di(e);return n=j(`files/{file}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=li(e);return n=j(`files/{file}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ui(e),n=new It;return Object.assign(n,t),n})}}};function gi(e){let t={},n=N(e,[`data`]);if(n!=null&&M(t,[`data`],n),N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function _i(e){let t={},n=N(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Ni(e))),M(t,[`parts`],e)}let r=N(e,[`role`]);return r!=null&&M(t,[`role`],r),t}function vi(e){let t={};if(N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=N(e,[`fileUri`]);n!=null&&M(t,[`fileUri`],n);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function yi(e){let t={},n=N(e,[`id`]);n!=null&&M(t,[`id`],n);let r=N(e,[`args`]);r!=null&&M(t,[`args`],r);let i=N(e,[`name`]);if(i!=null&&M(t,[`name`],i),N(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(N(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function bi(e){let t={};if(N(e,[`behavior`])!==void 0)throw Error(`behavior parameter is not supported in Vertex AI.`);let n=N(e,[`description`]);n!=null&&M(t,[`description`],n);let r=N(e,[`name`]);r!=null&&M(t,[`name`],r);let i=N(e,[`parameters`]);i!=null&&M(t,[`parameters`],i);let a=N(e,[`parametersJsonSchema`]);a!=null&&M(t,[`parametersJsonSchema`],a);let o=N(e,[`response`]);o!=null&&M(t,[`response`],o);let s=N(e,[`responseJsonSchema`]);return s!=null&&M(t,[`responseJsonSchema`],s),t}function xi(e){let t={},n=N(e,[`modelSelectionConfig`]);n!=null&&M(t,[`modelConfig`],n);let r=N(e,[`responseJsonSchema`]);r!=null&&M(t,[`responseJsonSchema`],r);let i=N(e,[`audioTimestamp`]);i!=null&&M(t,[`audioTimestamp`],i);let a=N(e,[`candidateCount`]);a!=null&&M(t,[`candidateCount`],a);let o=N(e,[`enableAffectiveDialog`]);o!=null&&M(t,[`enableAffectiveDialog`],o);let s=N(e,[`frequencyPenalty`]);s!=null&&M(t,[`frequencyPenalty`],s);let c=N(e,[`logprobs`]);c!=null&&M(t,[`logprobs`],c);let l=N(e,[`maxOutputTokens`]);l!=null&&M(t,[`maxOutputTokens`],l);let u=N(e,[`mediaResolution`]);u!=null&&M(t,[`mediaResolution`],u);let d=N(e,[`presencePenalty`]);d!=null&&M(t,[`presencePenalty`],d);let f=N(e,[`responseLogprobs`]);f!=null&&M(t,[`responseLogprobs`],f);let p=N(e,[`responseMimeType`]);p!=null&&M(t,[`responseMimeType`],p);let m=N(e,[`responseModalities`]);m!=null&&M(t,[`responseModalities`],m);let h=N(e,[`responseSchema`]);h!=null&&M(t,[`responseSchema`],h);let g=N(e,[`routingConfig`]);g!=null&&M(t,[`routingConfig`],g);let _=N(e,[`seed`]);_!=null&&M(t,[`seed`],_);let v=N(e,[`speechConfig`]);v!=null&&M(t,[`speechConfig`],Fi(v));let y=N(e,[`stopSequences`]);y!=null&&M(t,[`stopSequences`],y);let b=N(e,[`temperature`]);b!=null&&M(t,[`temperature`],b);let x=N(e,[`thinkingConfig`]);x!=null&&M(t,[`thinkingConfig`],x);let S=N(e,[`topK`]);S!=null&&M(t,[`topK`],S);let C=N(e,[`topP`]);if(C!=null&&M(t,[`topP`],C),N(e,[`enableEnhancedCivicAnswers`])!==void 0)throw Error(`enableEnhancedCivicAnswers parameter is not supported in Vertex AI.`);return t}function Si(e){let t={};if(N(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=N(e,[`enableWidget`]);return n!=null&&M(t,[`enableWidget`],n),t}function Ci(e){let t={};if(N(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(N(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=N(e,[`timeRangeFilter`]);return n!=null&&M(t,[`timeRangeFilter`],n),t}function wi(e,t){let n={},r=N(e,[`generationConfig`]);t!==void 0&&r!=null&&M(t,[`setup`,`generationConfig`],r);let i=N(e,[`responseModalities`]);t!==void 0&&i!=null&&M(t,[`setup`,`generationConfig`,`responseModalities`],i);let a=N(e,[`temperature`]);t!==void 0&&a!=null&&M(t,[`setup`,`generationConfig`,`temperature`],a);let o=N(e,[`topP`]);t!==void 0&&o!=null&&M(t,[`setup`,`generationConfig`,`topP`],o);let s=N(e,[`topK`]);t!==void 0&&s!=null&&M(t,[`setup`,`generationConfig`,`topK`],s);let c=N(e,[`maxOutputTokens`]);t!==void 0&&c!=null&&M(t,[`setup`,`generationConfig`,`maxOutputTokens`],c);let l=N(e,[`mediaResolution`]);t!==void 0&&l!=null&&M(t,[`setup`,`generationConfig`,`mediaResolution`],l);let u=N(e,[`seed`]);t!==void 0&&u!=null&&M(t,[`setup`,`generationConfig`,`seed`],u);let d=N(e,[`speechConfig`]);t!==void 0&&d!=null&&M(t,[`setup`,`generationConfig`,`speechConfig`],nn(d));let f=N(e,[`thinkingConfig`]);t!==void 0&&f!=null&&M(t,[`setup`,`generationConfig`,`thinkingConfig`],f);let p=N(e,[`enableAffectiveDialog`]);t!==void 0&&p!=null&&M(t,[`setup`,`generationConfig`,`enableAffectiveDialog`],p);let m=N(e,[`systemInstruction`]);t!==void 0&&m!=null&&M(t,[`setup`,`systemInstruction`],_i(G(m)));let h=N(e,[`tools`]);if(t!==void 0&&h!=null){let e=an(h);Array.isArray(e)&&(e=e.map(e=>Ii(rn(e)))),M(t,[`setup`,`tools`],e)}let g=N(e,[`sessionResumption`]);t!==void 0&&g!=null&&M(t,[`setup`,`sessionResumption`],Pi(g));let _=N(e,[`inputAudioTranscription`]);t!==void 0&&_!=null&&M(t,[`setup`,`inputAudioTranscription`],_);let v=N(e,[`outputAudioTranscription`]);t!==void 0&&v!=null&&M(t,[`setup`,`outputAudioTranscription`],v);let y=N(e,[`realtimeInputConfig`]);t!==void 0&&y!=null&&M(t,[`setup`,`realtimeInputConfig`],y);let b=N(e,[`contextWindowCompression`]);t!==void 0&&b!=null&&M(t,[`setup`,`contextWindowCompression`],b);let x=N(e,[`proactivity`]);return t!==void 0&&x!=null&&M(t,[`setup`,`proactivity`],x),n}function Ti(e,t){let n={},r=N(e,[`generationConfig`]);t!==void 0&&r!=null&&M(t,[`setup`,`generationConfig`],xi(r));let i=N(e,[`responseModalities`]);t!==void 0&&i!=null&&M(t,[`setup`,`generationConfig`,`responseModalities`],i);let a=N(e,[`temperature`]);t!==void 0&&a!=null&&M(t,[`setup`,`generationConfig`,`temperature`],a);let o=N(e,[`topP`]);t!==void 0&&o!=null&&M(t,[`setup`,`generationConfig`,`topP`],o);let s=N(e,[`topK`]);t!==void 0&&s!=null&&M(t,[`setup`,`generationConfig`,`topK`],s);let c=N(e,[`maxOutputTokens`]);t!==void 0&&c!=null&&M(t,[`setup`,`generationConfig`,`maxOutputTokens`],c);let l=N(e,[`mediaResolution`]);t!==void 0&&l!=null&&M(t,[`setup`,`generationConfig`,`mediaResolution`],l);let u=N(e,[`seed`]);t!==void 0&&u!=null&&M(t,[`setup`,`generationConfig`,`seed`],u);let d=N(e,[`speechConfig`]);t!==void 0&&d!=null&&M(t,[`setup`,`generationConfig`,`speechConfig`],Fi(nn(d)));let f=N(e,[`thinkingConfig`]);t!==void 0&&f!=null&&M(t,[`setup`,`generationConfig`,`thinkingConfig`],f);let p=N(e,[`enableAffectiveDialog`]);t!==void 0&&p!=null&&M(t,[`setup`,`generationConfig`,`enableAffectiveDialog`],p);let m=N(e,[`systemInstruction`]);t!==void 0&&m!=null&&M(t,[`setup`,`systemInstruction`],G(m));let h=N(e,[`tools`]);if(t!==void 0&&h!=null){let e=an(h);Array.isArray(e)&&(e=e.map(e=>Li(rn(e)))),M(t,[`setup`,`tools`],e)}let g=N(e,[`sessionResumption`]);t!==void 0&&g!=null&&M(t,[`setup`,`sessionResumption`],g);let _=N(e,[`inputAudioTranscription`]);t!==void 0&&_!=null&&M(t,[`setup`,`inputAudioTranscription`],_);let v=N(e,[`outputAudioTranscription`]);t!==void 0&&v!=null&&M(t,[`setup`,`outputAudioTranscription`],v);let y=N(e,[`realtimeInputConfig`]);t!==void 0&&y!=null&&M(t,[`setup`,`realtimeInputConfig`],y);let b=N(e,[`contextWindowCompression`]);t!==void 0&&b!=null&&M(t,[`setup`,`contextWindowCompression`],b);let x=N(e,[`proactivity`]);return t!==void 0&&x!=null&&M(t,[`setup`,`proactivity`],x),n}function Ei(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`setup`,`model`],W(e,r));let i=N(t,[`config`]);return i!=null&&M(n,[`config`],wi(i,n)),n}function Di(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`setup`,`model`],W(e,r));let i=N(t,[`config`]);return i!=null&&M(n,[`config`],Ti(i,n)),n}function Oi(e){let t={},n=N(e,[`musicGenerationConfig`]);return n!=null&&M(t,[`musicGenerationConfig`],n),t}function ki(e){let t={},n=N(e,[`weightedPrompts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`weightedPrompts`],e)}return t}function Ai(e){let t={},n=N(e,[`media`]);if(n!=null){let e=Ht(n);Array.isArray(e)&&(e=e.map(e=>gi(e))),M(t,[`mediaChunks`],e)}let r=N(e,[`audio`]);r!=null&&M(t,[`audio`],gi(Gt(r)));let i=N(e,[`audioStreamEnd`]);i!=null&&M(t,[`audioStreamEnd`],i);let a=N(e,[`video`]);a!=null&&M(t,[`video`],gi(Wt(a)));let o=N(e,[`text`]);o!=null&&M(t,[`text`],o);let s=N(e,[`activityStart`]);s!=null&&M(t,[`activityStart`],s);let c=N(e,[`activityEnd`]);return c!=null&&M(t,[`activityEnd`],c),t}function ji(e){let t={},n=N(e,[`media`]);if(n!=null){let e=Ht(n);Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`mediaChunks`],e)}let r=N(e,[`audio`]);r!=null&&M(t,[`audio`],Gt(r));let i=N(e,[`audioStreamEnd`]);i!=null&&M(t,[`audioStreamEnd`],i);let a=N(e,[`video`]);a!=null&&M(t,[`video`],Wt(a));let o=N(e,[`text`]);o!=null&&M(t,[`text`],o);let s=N(e,[`activityStart`]);s!=null&&M(t,[`activityStart`],s);let c=N(e,[`activityEnd`]);return c!=null&&M(t,[`activityEnd`],c),t}function Mi(e){let t={},n=N(e,[`setupComplete`]);n!=null&&M(t,[`setupComplete`],n);let r=N(e,[`serverContent`]);r!=null&&M(t,[`serverContent`],r);let i=N(e,[`toolCall`]);i!=null&&M(t,[`toolCall`],i);let a=N(e,[`toolCallCancellation`]);a!=null&&M(t,[`toolCallCancellation`],a);let o=N(e,[`usageMetadata`]);o!=null&&M(t,[`usageMetadata`],Ri(o));let s=N(e,[`goAway`]);s!=null&&M(t,[`goAway`],s);let c=N(e,[`sessionResumptionUpdate`]);return c!=null&&M(t,[`sessionResumptionUpdate`],c),t}function Ni(e){let t={},n=N(e,[`mediaResolution`]);n!=null&&M(t,[`mediaResolution`],n);let r=N(e,[`codeExecutionResult`]);r!=null&&M(t,[`codeExecutionResult`],r);let i=N(e,[`executableCode`]);i!=null&&M(t,[`executableCode`],i);let a=N(e,[`fileData`]);a!=null&&M(t,[`fileData`],vi(a));let o=N(e,[`functionCall`]);o!=null&&M(t,[`functionCall`],yi(o));let s=N(e,[`functionResponse`]);s!=null&&M(t,[`functionResponse`],s);let c=N(e,[`inlineData`]);c!=null&&M(t,[`inlineData`],gi(c));let l=N(e,[`text`]);l!=null&&M(t,[`text`],l);let u=N(e,[`thought`]);u!=null&&M(t,[`thought`],u);let d=N(e,[`thoughtSignature`]);d!=null&&M(t,[`thoughtSignature`],d);let f=N(e,[`videoMetadata`]);return f!=null&&M(t,[`videoMetadata`],f),t}function Pi(e){let t={},n=N(e,[`handle`]);if(n!=null&&M(t,[`handle`],n),N(e,[`transparent`])!==void 0)throw Error(`transparent parameter is not supported in Gemini API.`);return t}function Fi(e){let t={},n=N(e,[`languageCode`]);n!=null&&M(t,[`languageCode`],n);let r=N(e,[`voiceConfig`]);if(r!=null&&M(t,[`voiceConfig`],r),N(e,[`multiSpeakerVoiceConfig`])!==void 0)throw Error(`multiSpeakerVoiceConfig parameter is not supported in Vertex AI.`);return t}function Ii(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`functionDeclarations`],e)}if(N(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let r=N(e,[`googleSearchRetrieval`]);r!=null&&M(t,[`googleSearchRetrieval`],r);let i=N(e,[`computerUse`]);i!=null&&M(t,[`computerUse`],i);let a=N(e,[`fileSearch`]);a!=null&&M(t,[`fileSearch`],a);let o=N(e,[`codeExecution`]);if(o!=null&&M(t,[`codeExecution`],o),N(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let s=N(e,[`googleMaps`]);s!=null&&M(t,[`googleMaps`],Si(s));let c=N(e,[`googleSearch`]);c!=null&&M(t,[`googleSearch`],Ci(c));let l=N(e,[`urlContext`]);return l!=null&&M(t,[`urlContext`],l),t}function Li(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>bi(e))),M(t,[`functionDeclarations`],e)}let r=N(e,[`retrieval`]);r!=null&&M(t,[`retrieval`],r);let i=N(e,[`googleSearchRetrieval`]);i!=null&&M(t,[`googleSearchRetrieval`],i);let a=N(e,[`computerUse`]);if(a!=null&&M(t,[`computerUse`],a),N(e,[`fileSearch`])!==void 0)throw Error(`fileSearch parameter is not supported in Vertex AI.`);let o=N(e,[`codeExecution`]);o!=null&&M(t,[`codeExecution`],o);let s=N(e,[`enterpriseWebSearch`]);s!=null&&M(t,[`enterpriseWebSearch`],s);let c=N(e,[`googleMaps`]);c!=null&&M(t,[`googleMaps`],c);let l=N(e,[`googleSearch`]);l!=null&&M(t,[`googleSearch`],l);let u=N(e,[`urlContext`]);return u!=null&&M(t,[`urlContext`],u),t}function Ri(e){let t={},n=N(e,[`promptTokenCount`]);n!=null&&M(t,[`promptTokenCount`],n);let r=N(e,[`cachedContentTokenCount`]);r!=null&&M(t,[`cachedContentTokenCount`],r);let i=N(e,[`candidatesTokenCount`]);i!=null&&M(t,[`responseTokenCount`],i);let a=N(e,[`toolUsePromptTokenCount`]);a!=null&&M(t,[`toolUsePromptTokenCount`],a);let o=N(e,[`thoughtsTokenCount`]);o!=null&&M(t,[`thoughtsTokenCount`],o);let s=N(e,[`totalTokenCount`]);s!=null&&M(t,[`totalTokenCount`],s);let c=N(e,[`promptTokensDetails`]);if(c!=null){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`promptTokensDetails`],e)}let l=N(e,[`cacheTokensDetails`]);if(l!=null){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`cacheTokensDetails`],e)}let u=N(e,[`candidatesTokensDetails`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`responseTokensDetails`],e)}let d=N(e,[`toolUsePromptTokensDetails`]);if(d!=null){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`toolUsePromptTokensDetails`],e)}let f=N(e,[`trafficType`]);return f!=null&&M(t,[`trafficType`],f),t}function zi(e){let t={},n=N(e,[`data`]);if(n!=null&&M(t,[`data`],n),N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function Bi(e){let t={},n=N(e,[`content`]);n!=null&&M(t,[`content`],n);let r=N(e,[`citationMetadata`]);r!=null&&M(t,[`citationMetadata`],Vi(r));let i=N(e,[`tokenCount`]);i!=null&&M(t,[`tokenCount`],i);let a=N(e,[`finishReason`]);a!=null&&M(t,[`finishReason`],a);let o=N(e,[`avgLogprobs`]);o!=null&&M(t,[`avgLogprobs`],o);let s=N(e,[`groundingMetadata`]);s!=null&&M(t,[`groundingMetadata`],s);let c=N(e,[`index`]);c!=null&&M(t,[`index`],c);let l=N(e,[`logprobsResult`]);l!=null&&M(t,[`logprobsResult`],l);let u=N(e,[`safetyRatings`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`safetyRatings`],e)}let d=N(e,[`urlContextMetadata`]);return d!=null&&M(t,[`urlContextMetadata`],d),t}function Vi(e){let t={},n=N(e,[`citationSources`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`citations`],e)}return t}function Hi(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let e=K(i);Array.isArray(e)&&(e=e.map(e=>e)),M(n,[`contents`],e)}return n}function Ui(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`tokensInfo`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`tokensInfo`],e)}return t}function Wi(e){let t={},n=N(e,[`values`]);n!=null&&M(t,[`values`],n);let r=N(e,[`statistics`]);return r!=null&&M(t,[`statistics`],Gi(r)),t}function Gi(e){let t={},n=N(e,[`truncated`]);n!=null&&M(t,[`truncated`],n);let r=N(e,[`token_count`]);return r!=null&&M(t,[`tokenCount`],r),t}function Ki(e){let t={},n=N(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>uo(e))),M(t,[`parts`],e)}let r=N(e,[`role`]);return r!=null&&M(t,[`role`],r),t}function qi(e){let t={},n=N(e,[`controlType`]);n!=null&&M(t,[`controlType`],n);let r=N(e,[`enableControlImageComputation`]);return r!=null&&M(t,[`computeControl`],r),t}function Ji(e){let t={};if(N(e,[`systemInstruction`])!==void 0)throw Error(`systemInstruction parameter is not supported in Gemini API.`);if(N(e,[`tools`])!==void 0)throw Error(`tools parameter is not supported in Gemini API.`);if(N(e,[`generationConfig`])!==void 0)throw Error(`generationConfig parameter is not supported in Gemini API.`);return t}function Yi(e,t){let n={},r=N(e,[`systemInstruction`]);t!==void 0&&r!=null&&M(t,[`systemInstruction`],G(r));let i=N(e,[`tools`]);if(t!==void 0&&i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>ko(e))),M(t,[`tools`],e)}let a=N(e,[`generationConfig`]);return t!==void 0&&a!=null&&M(t,[`generationConfig`],Ga(a)),n}function Xi(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let e=K(i);Array.isArray(e)&&(e=e.map(e=>Ki(e))),M(n,[`contents`],e)}let a=N(t,[`config`]);return a!=null&&Ji(a),n}function Zi(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let e=K(i);Array.isArray(e)&&(e=e.map(e=>e)),M(n,[`contents`],e)}let a=N(t,[`config`]);return a!=null&&Yi(a,n),n}function Qi(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`totalTokens`]);r!=null&&M(t,[`totalTokens`],r);let i=N(e,[`cachedContentTokenCount`]);return i!=null&&M(t,[`cachedContentTokenCount`],i),t}function $i(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`totalTokens`]);return r!=null&&M(t,[`totalTokens`],r),t}function ea(e,t){let n={},r=N(t,[`model`]);return r!=null&&M(n,[`_url`,`name`],W(e,r)),n}function ta(e,t){let n={},r=N(t,[`model`]);return r!=null&&M(n,[`_url`,`name`],W(e,r)),n}function na(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}function ra(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}function ia(e,t){let n={},r=N(e,[`outputGcsUri`]);t!==void 0&&r!=null&&M(t,[`parameters`,`storageUri`],r);let i=N(e,[`negativePrompt`]);t!==void 0&&i!=null&&M(t,[`parameters`,`negativePrompt`],i);let a=N(e,[`numberOfImages`]);t!==void 0&&a!=null&&M(t,[`parameters`,`sampleCount`],a);let o=N(e,[`aspectRatio`]);t!==void 0&&o!=null&&M(t,[`parameters`,`aspectRatio`],o);let s=N(e,[`guidanceScale`]);t!==void 0&&s!=null&&M(t,[`parameters`,`guidanceScale`],s);let c=N(e,[`seed`]);t!==void 0&&c!=null&&M(t,[`parameters`,`seed`],c);let l=N(e,[`safetyFilterLevel`]);t!==void 0&&l!=null&&M(t,[`parameters`,`safetySetting`],l);let u=N(e,[`personGeneration`]);t!==void 0&&u!=null&&M(t,[`parameters`,`personGeneration`],u);let d=N(e,[`includeSafetyAttributes`]);t!==void 0&&d!=null&&M(t,[`parameters`,`includeSafetyAttributes`],d);let f=N(e,[`includeRaiReason`]);t!==void 0&&f!=null&&M(t,[`parameters`,`includeRaiReason`],f);let p=N(e,[`language`]);t!==void 0&&p!=null&&M(t,[`parameters`,`language`],p);let m=N(e,[`outputMimeType`]);t!==void 0&&m!=null&&M(t,[`parameters`,`outputOptions`,`mimeType`],m);let h=N(e,[`outputCompressionQuality`]);t!==void 0&&h!=null&&M(t,[`parameters`,`outputOptions`,`compressionQuality`],h);let g=N(e,[`addWatermark`]);t!==void 0&&g!=null&&M(t,[`parameters`,`addWatermark`],g);let _=N(e,[`labels`]);t!==void 0&&_!=null&&M(t,[`labels`],_);let v=N(e,[`editMode`]);t!==void 0&&v!=null&&M(t,[`parameters`,`editMode`],v);let y=N(e,[`baseSteps`]);return t!==void 0&&y!=null&&M(t,[`parameters`,`editConfig`,`baseSteps`],y),n}function aa(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`prompt`]);i!=null&&M(n,[`instances[0]`,`prompt`],i);let a=N(t,[`referenceImages`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>_o(e))),M(n,[`instances[0]`,`referenceImages`],e)}let o=N(t,[`config`]);return o!=null&&ia(o,n),n}function oa(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Va(e))),M(t,[`generatedImages`],e)}return t}function sa(e,t){let n={},r=N(e,[`taskType`]);t!==void 0&&r!=null&&M(t,[`requests[]`,`taskType`],r);let i=N(e,[`title`]);t!==void 0&&i!=null&&M(t,[`requests[]`,`title`],i);let a=N(e,[`outputDimensionality`]);if(t!==void 0&&a!=null&&M(t,[`requests[]`,`outputDimensionality`],a),N(e,[`mimeType`])!==void 0)throw Error(`mimeType parameter is not supported in Gemini API.`);if(N(e,[`autoTruncate`])!==void 0)throw Error(`autoTruncate parameter is not supported in Gemini API.`);return n}function ca(e,t){let n={},r=N(e,[`taskType`]);t!==void 0&&r!=null&&M(t,[`instances[]`,`task_type`],r);let i=N(e,[`title`]);t!==void 0&&i!=null&&M(t,[`instances[]`,`title`],i);let a=N(e,[`outputDimensionality`]);t!==void 0&&a!=null&&M(t,[`parameters`,`outputDimensionality`],a);let o=N(e,[`mimeType`]);t!==void 0&&o!=null&&M(t,[`instances[]`,`mimeType`],o);let s=N(e,[`autoTruncate`]);return t!==void 0&&s!=null&&M(t,[`parameters`,`autoTruncate`],s),n}function la(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let t=Zt(e,i);Array.isArray(t)&&(t=t.map(e=>e)),M(n,[`requests[]`,`content`],t)}let a=N(t,[`config`]);a!=null&&sa(a,n);let o=N(t,[`model`]);return o!==void 0&&M(n,[`requests[]`,`model`],W(e,o)),n}function ua(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let t=Zt(e,i);Array.isArray(t)&&(t=t.map(e=>e)),M(n,[`instances[]`,`content`],t)}let a=N(t,[`config`]);return a!=null&&ca(a,n),n}function da(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`embeddings`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`embeddings`],e)}let i=N(e,[`metadata`]);return i!=null&&M(t,[`metadata`],i),t}function fa(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`predictions[]`,`embeddings`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Wi(e))),M(t,[`embeddings`],e)}let i=N(e,[`metadata`]);return i!=null&&M(t,[`metadata`],i),t}function pa(e){let t={},n=N(e,[`endpoint`]);n!=null&&M(t,[`name`],n);let r=N(e,[`deployedModelId`]);return r!=null&&M(t,[`deployedModelId`],r),t}function ma(e){let t={};if(N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=N(e,[`fileUri`]);n!=null&&M(t,[`fileUri`],n);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function ha(e){let t={},n=N(e,[`id`]);n!=null&&M(t,[`id`],n);let r=N(e,[`args`]);r!=null&&M(t,[`args`],r);let i=N(e,[`name`]);if(i!=null&&M(t,[`name`],i),N(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(N(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function ga(e){let t={},n=N(e,[`mode`]);n!=null&&M(t,[`mode`],n);let r=N(e,[`allowedFunctionNames`]);if(r!=null&&M(t,[`allowedFunctionNames`],r),N(e,[`streamFunctionCallArguments`])!==void 0)throw Error(`streamFunctionCallArguments parameter is not supported in Gemini API.`);return t}function _a(e){let t={};if(N(e,[`behavior`])!==void 0)throw Error(`behavior parameter is not supported in Vertex AI.`);let n=N(e,[`description`]);n!=null&&M(t,[`description`],n);let r=N(e,[`name`]);r!=null&&M(t,[`name`],r);let i=N(e,[`parameters`]);i!=null&&M(t,[`parameters`],i);let a=N(e,[`parametersJsonSchema`]);a!=null&&M(t,[`parametersJsonSchema`],a);let o=N(e,[`response`]);o!=null&&M(t,[`response`],o);let s=N(e,[`responseJsonSchema`]);return s!=null&&M(t,[`responseJsonSchema`],s),t}function va(e,t,n){let r={},i=N(t,[`systemInstruction`]);n!==void 0&&i!=null&&M(n,[`systemInstruction`],Ki(G(i)));let a=N(t,[`temperature`]);a!=null&&M(r,[`temperature`],a);let o=N(t,[`topP`]);o!=null&&M(r,[`topP`],o);let s=N(t,[`topK`]);s!=null&&M(r,[`topK`],s);let c=N(t,[`candidateCount`]);c!=null&&M(r,[`candidateCount`],c);let l=N(t,[`maxOutputTokens`]);l!=null&&M(r,[`maxOutputTokens`],l);let u=N(t,[`stopSequences`]);u!=null&&M(r,[`stopSequences`],u);let d=N(t,[`responseLogprobs`]);d!=null&&M(r,[`responseLogprobs`],d);let f=N(t,[`logprobs`]);f!=null&&M(r,[`logprobs`],f);let p=N(t,[`presencePenalty`]);p!=null&&M(r,[`presencePenalty`],p);let m=N(t,[`frequencyPenalty`]);m!=null&&M(r,[`frequencyPenalty`],m);let h=N(t,[`seed`]);h!=null&&M(r,[`seed`],h);let g=N(t,[`responseMimeType`]);g!=null&&M(r,[`responseMimeType`],g);let _=N(t,[`responseSchema`]);_!=null&&M(r,[`responseSchema`],en(_));let v=N(t,[`responseJsonSchema`]);if(v!=null&&M(r,[`responseJsonSchema`],v),N(t,[`routingConfig`])!==void 0)throw Error(`routingConfig parameter is not supported in Gemini API.`);if(N(t,[`modelSelectionConfig`])!==void 0)throw Error(`modelSelectionConfig parameter is not supported in Gemini API.`);let y=N(t,[`safetySettings`]);if(n!==void 0&&y!=null){let e=y;Array.isArray(e)&&(e=e.map(e=>bo(e))),M(n,[`safetySettings`],e)}let b=N(t,[`tools`]);if(n!==void 0&&b!=null){let e=an(b);Array.isArray(e)&&(e=e.map(e=>Oo(rn(e)))),M(n,[`tools`],e)}let x=N(t,[`toolConfig`]);if(n!==void 0&&x!=null&&M(n,[`toolConfig`],Do(x)),N(t,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);let S=N(t,[`cachedContent`]);n!==void 0&&S!=null&&M(n,[`cachedContent`],q(e,S));let C=N(t,[`responseModalities`]);C!=null&&M(r,[`responseModalities`],C);let w=N(t,[`mediaResolution`]);w!=null&&M(r,[`mediaResolution`],w);let T=N(t,[`speechConfig`]);if(T!=null&&M(r,[`speechConfig`],tn(T)),N(t,[`audioTimestamp`])!==void 0)throw Error(`audioTimestamp parameter is not supported in Gemini API.`);let E=N(t,[`thinkingConfig`]);E!=null&&M(r,[`thinkingConfig`],E);let D=N(t,[`imageConfig`]);return D!=null&&M(r,[`imageConfig`],Xa(D)),r}function ya(e,t,n){let r={},i=N(t,[`systemInstruction`]);n!==void 0&&i!=null&&M(n,[`systemInstruction`],G(i));let a=N(t,[`temperature`]);a!=null&&M(r,[`temperature`],a);let o=N(t,[`topP`]);o!=null&&M(r,[`topP`],o);let s=N(t,[`topK`]);s!=null&&M(r,[`topK`],s);let c=N(t,[`candidateCount`]);c!=null&&M(r,[`candidateCount`],c);let l=N(t,[`maxOutputTokens`]);l!=null&&M(r,[`maxOutputTokens`],l);let u=N(t,[`stopSequences`]);u!=null&&M(r,[`stopSequences`],u);let d=N(t,[`responseLogprobs`]);d!=null&&M(r,[`responseLogprobs`],d);let f=N(t,[`logprobs`]);f!=null&&M(r,[`logprobs`],f);let p=N(t,[`presencePenalty`]);p!=null&&M(r,[`presencePenalty`],p);let m=N(t,[`frequencyPenalty`]);m!=null&&M(r,[`frequencyPenalty`],m);let h=N(t,[`seed`]);h!=null&&M(r,[`seed`],h);let g=N(t,[`responseMimeType`]);g!=null&&M(r,[`responseMimeType`],g);let _=N(t,[`responseSchema`]);_!=null&&M(r,[`responseSchema`],en(_));let v=N(t,[`responseJsonSchema`]);v!=null&&M(r,[`responseJsonSchema`],v);let y=N(t,[`routingConfig`]);y!=null&&M(r,[`routingConfig`],y);let b=N(t,[`modelSelectionConfig`]);b!=null&&M(r,[`modelConfig`],b);let x=N(t,[`safetySettings`]);if(n!==void 0&&x!=null){let e=x;Array.isArray(e)&&(e=e.map(e=>e)),M(n,[`safetySettings`],e)}let S=N(t,[`tools`]);if(n!==void 0&&S!=null){let e=an(S);Array.isArray(e)&&(e=e.map(e=>ko(rn(e)))),M(n,[`tools`],e)}let C=N(t,[`toolConfig`]);n!==void 0&&C!=null&&M(n,[`toolConfig`],C);let w=N(t,[`labels`]);n!==void 0&&w!=null&&M(n,[`labels`],w);let T=N(t,[`cachedContent`]);n!==void 0&&T!=null&&M(n,[`cachedContent`],q(e,T));let E=N(t,[`responseModalities`]);E!=null&&M(r,[`responseModalities`],E);let D=N(t,[`mediaResolution`]);D!=null&&M(r,[`mediaResolution`],D);let ee=N(t,[`speechConfig`]);ee!=null&&M(r,[`speechConfig`],Eo(tn(ee)));let O=N(t,[`audioTimestamp`]);O!=null&&M(r,[`audioTimestamp`],O);let te=N(t,[`thinkingConfig`]);te!=null&&M(r,[`thinkingConfig`],te);let k=N(t,[`imageConfig`]);return k!=null&&M(r,[`imageConfig`],Za(k)),r}function ba(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let e=K(i);Array.isArray(e)&&(e=e.map(e=>Ki(e))),M(n,[`contents`],e)}let a=N(t,[`config`]);return a!=null&&M(n,[`generationConfig`],va(e,a,n)),n}function xa(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`contents`]);if(i!=null){let e=K(i);Array.isArray(e)&&(e=e.map(e=>e)),M(n,[`contents`],e)}let a=N(t,[`config`]);return a!=null&&M(n,[`generationConfig`],ya(e,a,n)),n}function Sa(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`candidates`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Bi(e))),M(t,[`candidates`],e)}let i=N(e,[`modelVersion`]);i!=null&&M(t,[`modelVersion`],i);let a=N(e,[`promptFeedback`]);a!=null&&M(t,[`promptFeedback`],a);let o=N(e,[`responseId`]);o!=null&&M(t,[`responseId`],o);let s=N(e,[`usageMetadata`]);return s!=null&&M(t,[`usageMetadata`],s),t}function Ca(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`candidates`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`candidates`],e)}let i=N(e,[`createTime`]);i!=null&&M(t,[`createTime`],i);let a=N(e,[`modelVersion`]);a!=null&&M(t,[`modelVersion`],a);let o=N(e,[`promptFeedback`]);o!=null&&M(t,[`promptFeedback`],o);let s=N(e,[`responseId`]);s!=null&&M(t,[`responseId`],s);let c=N(e,[`usageMetadata`]);return c!=null&&M(t,[`usageMetadata`],c),t}function wa(e,t){let n={};if(N(e,[`outputGcsUri`])!==void 0)throw Error(`outputGcsUri parameter is not supported in Gemini API.`);if(N(e,[`negativePrompt`])!==void 0)throw Error(`negativePrompt parameter is not supported in Gemini API.`);let r=N(e,[`numberOfImages`]);t!==void 0&&r!=null&&M(t,[`parameters`,`sampleCount`],r);let i=N(e,[`aspectRatio`]);t!==void 0&&i!=null&&M(t,[`parameters`,`aspectRatio`],i);let a=N(e,[`guidanceScale`]);if(t!==void 0&&a!=null&&M(t,[`parameters`,`guidanceScale`],a),N(e,[`seed`])!==void 0)throw Error(`seed parameter is not supported in Gemini API.`);let o=N(e,[`safetyFilterLevel`]);t!==void 0&&o!=null&&M(t,[`parameters`,`safetySetting`],o);let s=N(e,[`personGeneration`]);t!==void 0&&s!=null&&M(t,[`parameters`,`personGeneration`],s);let c=N(e,[`includeSafetyAttributes`]);t!==void 0&&c!=null&&M(t,[`parameters`,`includeSafetyAttributes`],c);let l=N(e,[`includeRaiReason`]);t!==void 0&&l!=null&&M(t,[`parameters`,`includeRaiReason`],l);let u=N(e,[`language`]);t!==void 0&&u!=null&&M(t,[`parameters`,`language`],u);let d=N(e,[`outputMimeType`]);t!==void 0&&d!=null&&M(t,[`parameters`,`outputOptions`,`mimeType`],d);let f=N(e,[`outputCompressionQuality`]);if(t!==void 0&&f!=null&&M(t,[`parameters`,`outputOptions`,`compressionQuality`],f),N(e,[`addWatermark`])!==void 0)throw Error(`addWatermark parameter is not supported in Gemini API.`);if(N(e,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);let p=N(e,[`imageSize`]);if(t!==void 0&&p!=null&&M(t,[`parameters`,`sampleImageSize`],p),N(e,[`enhancePrompt`])!==void 0)throw Error(`enhancePrompt parameter is not supported in Gemini API.`);return n}function Ta(e,t){let n={},r=N(e,[`outputGcsUri`]);t!==void 0&&r!=null&&M(t,[`parameters`,`storageUri`],r);let i=N(e,[`negativePrompt`]);t!==void 0&&i!=null&&M(t,[`parameters`,`negativePrompt`],i);let a=N(e,[`numberOfImages`]);t!==void 0&&a!=null&&M(t,[`parameters`,`sampleCount`],a);let o=N(e,[`aspectRatio`]);t!==void 0&&o!=null&&M(t,[`parameters`,`aspectRatio`],o);let s=N(e,[`guidanceScale`]);t!==void 0&&s!=null&&M(t,[`parameters`,`guidanceScale`],s);let c=N(e,[`seed`]);t!==void 0&&c!=null&&M(t,[`parameters`,`seed`],c);let l=N(e,[`safetyFilterLevel`]);t!==void 0&&l!=null&&M(t,[`parameters`,`safetySetting`],l);let u=N(e,[`personGeneration`]);t!==void 0&&u!=null&&M(t,[`parameters`,`personGeneration`],u);let d=N(e,[`includeSafetyAttributes`]);t!==void 0&&d!=null&&M(t,[`parameters`,`includeSafetyAttributes`],d);let f=N(e,[`includeRaiReason`]);t!==void 0&&f!=null&&M(t,[`parameters`,`includeRaiReason`],f);let p=N(e,[`language`]);t!==void 0&&p!=null&&M(t,[`parameters`,`language`],p);let m=N(e,[`outputMimeType`]);t!==void 0&&m!=null&&M(t,[`parameters`,`outputOptions`,`mimeType`],m);let h=N(e,[`outputCompressionQuality`]);t!==void 0&&h!=null&&M(t,[`parameters`,`outputOptions`,`compressionQuality`],h);let g=N(e,[`addWatermark`]);t!==void 0&&g!=null&&M(t,[`parameters`,`addWatermark`],g);let _=N(e,[`labels`]);t!==void 0&&_!=null&&M(t,[`labels`],_);let v=N(e,[`imageSize`]);t!==void 0&&v!=null&&M(t,[`parameters`,`sampleImageSize`],v);let y=N(e,[`enhancePrompt`]);return t!==void 0&&y!=null&&M(t,[`parameters`,`enhancePrompt`],y),n}function Ea(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`prompt`]);i!=null&&M(n,[`instances[0]`,`prompt`],i);let a=N(t,[`config`]);return a!=null&&wa(a,n),n}function Da(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`prompt`]);i!=null&&M(n,[`instances[0]`,`prompt`],i);let a=N(t,[`config`]);return a!=null&&Ta(a,n),n}function Oa(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Ba(e))),M(t,[`generatedImages`],e)}let i=N(e,[`positivePromptSafetyAttributes`]);return i!=null&&M(t,[`positivePromptSafetyAttributes`],vo(i)),t}function ka(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Va(e))),M(t,[`generatedImages`],e)}let i=N(e,[`positivePromptSafetyAttributes`]);return i!=null&&M(t,[`positivePromptSafetyAttributes`],yo(i)),t}function Aa(e,t){let n={},r=N(e,[`numberOfVideos`]);if(t!==void 0&&r!=null&&M(t,[`parameters`,`sampleCount`],r),N(e,[`outputGcsUri`])!==void 0)throw Error(`outputGcsUri parameter is not supported in Gemini API.`);if(N(e,[`fps`])!==void 0)throw Error(`fps parameter is not supported in Gemini API.`);let i=N(e,[`durationSeconds`]);if(t!==void 0&&i!=null&&M(t,[`parameters`,`durationSeconds`],i),N(e,[`seed`])!==void 0)throw Error(`seed parameter is not supported in Gemini API.`);let a=N(e,[`aspectRatio`]);t!==void 0&&a!=null&&M(t,[`parameters`,`aspectRatio`],a);let o=N(e,[`resolution`]);t!==void 0&&o!=null&&M(t,[`parameters`,`resolution`],o);let s=N(e,[`personGeneration`]);if(t!==void 0&&s!=null&&M(t,[`parameters`,`personGeneration`],s),N(e,[`pubsubTopic`])!==void 0)throw Error(`pubsubTopic parameter is not supported in Gemini API.`);let c=N(e,[`negativePrompt`]);t!==void 0&&c!=null&&M(t,[`parameters`,`negativePrompt`],c);let l=N(e,[`enhancePrompt`]);if(t!==void 0&&l!=null&&M(t,[`parameters`,`enhancePrompt`],l),N(e,[`generateAudio`])!==void 0)throw Error(`generateAudio parameter is not supported in Gemini API.`);let u=N(e,[`lastFrame`]);t!==void 0&&u!=null&&M(t,[`instances[0]`,`lastFrame`],eo(u));let d=N(e,[`referenceImages`]);if(t!==void 0&&d!=null){let e=d;Array.isArray(e)&&(e=e.map(e=>Ho(e))),M(t,[`instances[0]`,`referenceImages`],e)}if(N(e,[`mask`])!==void 0)throw Error(`mask parameter is not supported in Gemini API.`);if(N(e,[`compressionQuality`])!==void 0)throw Error(`compressionQuality parameter is not supported in Gemini API.`);return n}function ja(e,t){let n={},r=N(e,[`numberOfVideos`]);t!==void 0&&r!=null&&M(t,[`parameters`,`sampleCount`],r);let i=N(e,[`outputGcsUri`]);t!==void 0&&i!=null&&M(t,[`parameters`,`storageUri`],i);let a=N(e,[`fps`]);t!==void 0&&a!=null&&M(t,[`parameters`,`fps`],a);let o=N(e,[`durationSeconds`]);t!==void 0&&o!=null&&M(t,[`parameters`,`durationSeconds`],o);let s=N(e,[`seed`]);t!==void 0&&s!=null&&M(t,[`parameters`,`seed`],s);let c=N(e,[`aspectRatio`]);t!==void 0&&c!=null&&M(t,[`parameters`,`aspectRatio`],c);let l=N(e,[`resolution`]);t!==void 0&&l!=null&&M(t,[`parameters`,`resolution`],l);let u=N(e,[`personGeneration`]);t!==void 0&&u!=null&&M(t,[`parameters`,`personGeneration`],u);let d=N(e,[`pubsubTopic`]);t!==void 0&&d!=null&&M(t,[`parameters`,`pubsubTopic`],d);let f=N(e,[`negativePrompt`]);t!==void 0&&f!=null&&M(t,[`parameters`,`negativePrompt`],f);let p=N(e,[`enhancePrompt`]);t!==void 0&&p!=null&&M(t,[`parameters`,`enhancePrompt`],p);let m=N(e,[`generateAudio`]);t!==void 0&&m!=null&&M(t,[`parameters`,`generateAudio`],m);let h=N(e,[`lastFrame`]);t!==void 0&&h!=null&&M(t,[`instances[0]`,`lastFrame`],Q(h));let g=N(e,[`referenceImages`]);if(t!==void 0&&g!=null){let e=g;Array.isArray(e)&&(e=e.map(e=>Uo(e))),M(t,[`instances[0]`,`referenceImages`],e)}let _=N(e,[`mask`]);t!==void 0&&_!=null&&M(t,[`instances[0]`,`mask`],Vo(_));let v=N(e,[`compressionQuality`]);return t!==void 0&&v!=null&&M(t,[`parameters`,`compressionQuality`],v),n}function Ma(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`,`generateVideoResponse`]);return o!=null&&M(t,[`response`],Ia(o)),t}function Na(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`]);return o!=null&&M(t,[`response`],La(o)),t}function Pa(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`prompt`]);i!=null&&M(n,[`instances[0]`,`prompt`],i);let a=N(t,[`image`]);a!=null&&M(n,[`instances[0]`,`image`],eo(a));let o=N(t,[`video`]);o!=null&&M(n,[`instances[0]`,`video`],Wo(o));let s=N(t,[`source`]);s!=null&&Ra(s,n);let c=N(t,[`config`]);return c!=null&&Aa(c,n),n}function Fa(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`prompt`]);i!=null&&M(n,[`instances[0]`,`prompt`],i);let a=N(t,[`image`]);a!=null&&M(n,[`instances[0]`,`image`],Q(a));let o=N(t,[`video`]);o!=null&&M(n,[`instances[0]`,`video`],Go(o));let s=N(t,[`source`]);s!=null&&za(s,n);let c=N(t,[`config`]);return c!=null&&ja(c,n),n}function Ia(e){let t={},n=N(e,[`generatedSamples`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Ua(e))),M(t,[`generatedVideos`],e)}let r=N(e,[`raiMediaFilteredCount`]);r!=null&&M(t,[`raiMediaFilteredCount`],r);let i=N(e,[`raiMediaFilteredReasons`]);return i!=null&&M(t,[`raiMediaFilteredReasons`],i),t}function La(e){let t={},n=N(e,[`videos`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Wa(e))),M(t,[`generatedVideos`],e)}let r=N(e,[`raiMediaFilteredCount`]);r!=null&&M(t,[`raiMediaFilteredCount`],r);let i=N(e,[`raiMediaFilteredReasons`]);return i!=null&&M(t,[`raiMediaFilteredReasons`],i),t}function Ra(e,t){let n={},r=N(e,[`prompt`]);t!==void 0&&r!=null&&M(t,[`instances[0]`,`prompt`],r);let i=N(e,[`image`]);t!==void 0&&i!=null&&M(t,[`instances[0]`,`image`],eo(i));let a=N(e,[`video`]);return t!==void 0&&a!=null&&M(t,[`instances[0]`,`video`],Wo(a)),n}function za(e,t){let n={},r=N(e,[`prompt`]);t!==void 0&&r!=null&&M(t,[`instances[0]`,`prompt`],r);let i=N(e,[`image`]);t!==void 0&&i!=null&&M(t,[`instances[0]`,`image`],Q(i));let a=N(e,[`video`]);return t!==void 0&&a!=null&&M(t,[`instances[0]`,`video`],Go(a)),n}function Ba(e){let t={},n=N(e,[`_self`]);n!=null&&M(t,[`image`],Qa(n));let r=N(e,[`raiFilteredReason`]);r!=null&&M(t,[`raiFilteredReason`],r);let i=N(e,[`_self`]);return i!=null&&M(t,[`safetyAttributes`],vo(i)),t}function Va(e){let t={},n=N(e,[`_self`]);n!=null&&M(t,[`image`],$a(n));let r=N(e,[`raiFilteredReason`]);r!=null&&M(t,[`raiFilteredReason`],r);let i=N(e,[`_self`]);i!=null&&M(t,[`safetyAttributes`],yo(i));let a=N(e,[`prompt`]);return a!=null&&M(t,[`enhancedPrompt`],a),t}function Ha(e){let t={},n=N(e,[`_self`]);n!=null&&M(t,[`mask`],$a(n));let r=N(e,[`labels`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`labels`],e)}return t}function Ua(e){let t={},n=N(e,[`video`]);return n!=null&&M(t,[`video`],zo(n)),t}function Wa(e){let t={},n=N(e,[`_self`]);return n!=null&&M(t,[`video`],Bo(n)),t}function Ga(e){let t={},n=N(e,[`modelSelectionConfig`]);n!=null&&M(t,[`modelConfig`],n);let r=N(e,[`responseJsonSchema`]);r!=null&&M(t,[`responseJsonSchema`],r);let i=N(e,[`audioTimestamp`]);i!=null&&M(t,[`audioTimestamp`],i);let a=N(e,[`candidateCount`]);a!=null&&M(t,[`candidateCount`],a);let o=N(e,[`enableAffectiveDialog`]);o!=null&&M(t,[`enableAffectiveDialog`],o);let s=N(e,[`frequencyPenalty`]);s!=null&&M(t,[`frequencyPenalty`],s);let c=N(e,[`logprobs`]);c!=null&&M(t,[`logprobs`],c);let l=N(e,[`maxOutputTokens`]);l!=null&&M(t,[`maxOutputTokens`],l);let u=N(e,[`mediaResolution`]);u!=null&&M(t,[`mediaResolution`],u);let d=N(e,[`presencePenalty`]);d!=null&&M(t,[`presencePenalty`],d);let f=N(e,[`responseLogprobs`]);f!=null&&M(t,[`responseLogprobs`],f);let p=N(e,[`responseMimeType`]);p!=null&&M(t,[`responseMimeType`],p);let m=N(e,[`responseModalities`]);m!=null&&M(t,[`responseModalities`],m);let h=N(e,[`responseSchema`]);h!=null&&M(t,[`responseSchema`],h);let g=N(e,[`routingConfig`]);g!=null&&M(t,[`routingConfig`],g);let _=N(e,[`seed`]);_!=null&&M(t,[`seed`],_);let v=N(e,[`speechConfig`]);v!=null&&M(t,[`speechConfig`],Eo(v));let y=N(e,[`stopSequences`]);y!=null&&M(t,[`stopSequences`],y);let b=N(e,[`temperature`]);b!=null&&M(t,[`temperature`],b);let x=N(e,[`thinkingConfig`]);x!=null&&M(t,[`thinkingConfig`],x);let S=N(e,[`topK`]);S!=null&&M(t,[`topK`],S);let C=N(e,[`topP`]);if(C!=null&&M(t,[`topP`],C),N(e,[`enableEnhancedCivicAnswers`])!==void 0)throw Error(`enableEnhancedCivicAnswers parameter is not supported in Vertex AI.`);return t}function Ka(e,t){let n={},r=N(t,[`model`]);return r!=null&&M(n,[`_url`,`name`],W(e,r)),n}function qa(e,t){let n={},r=N(t,[`model`]);return r!=null&&M(n,[`_url`,`name`],W(e,r)),n}function Ja(e){let t={};if(N(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=N(e,[`enableWidget`]);return n!=null&&M(t,[`enableWidget`],n),t}function Ya(e){let t={};if(N(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(N(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=N(e,[`timeRangeFilter`]);return n!=null&&M(t,[`timeRangeFilter`],n),t}function Xa(e){let t={},n=N(e,[`aspectRatio`]);n!=null&&M(t,[`aspectRatio`],n);let r=N(e,[`imageSize`]);if(r!=null&&M(t,[`imageSize`],r),N(e,[`outputMimeType`])!==void 0)throw Error(`outputMimeType parameter is not supported in Gemini API.`);if(N(e,[`outputCompressionQuality`])!==void 0)throw Error(`outputCompressionQuality parameter is not supported in Gemini API.`);return t}function Za(e){let t={},n=N(e,[`aspectRatio`]);n!=null&&M(t,[`aspectRatio`],n);let r=N(e,[`imageSize`]);r!=null&&M(t,[`imageSize`],r);let i=N(e,[`outputMimeType`]);i!=null&&M(t,[`imageOutputOptions`,`mimeType`],i);let a=N(e,[`outputCompressionQuality`]);return a!=null&&M(t,[`imageOutputOptions`,`compressionQuality`],a),t}function Qa(e){let t={},n=N(e,[`bytesBase64Encoded`]);n!=null&&M(t,[`imageBytes`],J(n));let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function $a(e){let t={},n=N(e,[`gcsUri`]);n!=null&&M(t,[`gcsUri`],n);let r=N(e,[`bytesBase64Encoded`]);r!=null&&M(t,[`imageBytes`],J(r));let i=N(e,[`mimeType`]);return i!=null&&M(t,[`mimeType`],i),t}function eo(e){let t={};if(N(e,[`gcsUri`])!==void 0)throw Error(`gcsUri parameter is not supported in Gemini API.`);let n=N(e,[`imageBytes`]);n!=null&&M(t,[`bytesBase64Encoded`],J(n));let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function Q(e){let t={},n=N(e,[`gcsUri`]);n!=null&&M(t,[`gcsUri`],n);let r=N(e,[`imageBytes`]);r!=null&&M(t,[`bytesBase64Encoded`],J(r));let i=N(e,[`mimeType`]);return i!=null&&M(t,[`mimeType`],i),t}function to(e,t,n){let r={},i=N(t,[`pageSize`]);n!==void 0&&i!=null&&M(n,[`_query`,`pageSize`],i);let a=N(t,[`pageToken`]);n!==void 0&&a!=null&&M(n,[`_query`,`pageToken`],a);let o=N(t,[`filter`]);n!==void 0&&o!=null&&M(n,[`_query`,`filter`],o);let s=N(t,[`queryBase`]);return n!==void 0&&s!=null&&M(n,[`_url`,`models_url`],fn(e,s)),r}function no(e,t,n){let r={},i=N(t,[`pageSize`]);n!==void 0&&i!=null&&M(n,[`_query`,`pageSize`],i);let a=N(t,[`pageToken`]);n!==void 0&&a!=null&&M(n,[`_query`,`pageToken`],a);let o=N(t,[`filter`]);n!==void 0&&o!=null&&M(n,[`_query`,`filter`],o);let s=N(t,[`queryBase`]);return n!==void 0&&s!=null&&M(n,[`_url`,`models_url`],fn(e,s)),r}function ro(e,t){let n={},r=N(t,[`config`]);return r!=null&&to(e,r,n),n}function io(e,t){let n={},r=N(t,[`config`]);return r!=null&&no(e,r,n),n}function ao(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`_self`]);if(i!=null){let e=pn(i);Array.isArray(e)&&(e=e.map(e=>co(e))),M(t,[`models`],e)}return t}function oo(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`_self`]);if(i!=null){let e=pn(i);Array.isArray(e)&&(e=e.map(e=>lo(e))),M(t,[`models`],e)}return t}function so(e){let t={},n=N(e,[`maskMode`]);n!=null&&M(t,[`maskMode`],n);let r=N(e,[`segmentationClasses`]);r!=null&&M(t,[`maskClasses`],r);let i=N(e,[`maskDilation`]);return i!=null&&M(t,[`dilation`],i),t}function co(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`displayName`]);r!=null&&M(t,[`displayName`],r);let i=N(e,[`description`]);i!=null&&M(t,[`description`],i);let a=N(e,[`version`]);a!=null&&M(t,[`version`],a);let o=N(e,[`_self`]);o!=null&&M(t,[`tunedModelInfo`],Ao(o));let s=N(e,[`inputTokenLimit`]);s!=null&&M(t,[`inputTokenLimit`],s);let c=N(e,[`outputTokenLimit`]);c!=null&&M(t,[`outputTokenLimit`],c);let l=N(e,[`supportedGenerationMethods`]);l!=null&&M(t,[`supportedActions`],l);let u=N(e,[`temperature`]);u!=null&&M(t,[`temperature`],u);let d=N(e,[`maxTemperature`]);d!=null&&M(t,[`maxTemperature`],d);let f=N(e,[`topP`]);f!=null&&M(t,[`topP`],f);let p=N(e,[`topK`]);p!=null&&M(t,[`topK`],p);let m=N(e,[`thinking`]);return m!=null&&M(t,[`thinking`],m),t}function lo(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`displayName`]);r!=null&&M(t,[`displayName`],r);let i=N(e,[`description`]);i!=null&&M(t,[`description`],i);let a=N(e,[`versionId`]);a!=null&&M(t,[`version`],a);let o=N(e,[`deployedModels`]);if(o!=null){let e=o;Array.isArray(e)&&(e=e.map(e=>pa(e))),M(t,[`endpoints`],e)}let s=N(e,[`labels`]);s!=null&&M(t,[`labels`],s);let c=N(e,[`_self`]);c!=null&&M(t,[`tunedModelInfo`],jo(c));let l=N(e,[`defaultCheckpointId`]);l!=null&&M(t,[`defaultCheckpointId`],l);let u=N(e,[`checkpoints`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`checkpoints`],e)}return t}function uo(e){let t={},n=N(e,[`mediaResolution`]);n!=null&&M(t,[`mediaResolution`],n);let r=N(e,[`codeExecutionResult`]);r!=null&&M(t,[`codeExecutionResult`],r);let i=N(e,[`executableCode`]);i!=null&&M(t,[`executableCode`],i);let a=N(e,[`fileData`]);a!=null&&M(t,[`fileData`],ma(a));let o=N(e,[`functionCall`]);o!=null&&M(t,[`functionCall`],ha(o));let s=N(e,[`functionResponse`]);s!=null&&M(t,[`functionResponse`],s);let c=N(e,[`inlineData`]);c!=null&&M(t,[`inlineData`],zi(c));let l=N(e,[`text`]);l!=null&&M(t,[`text`],l);let u=N(e,[`thought`]);u!=null&&M(t,[`thought`],u);let d=N(e,[`thoughtSignature`]);d!=null&&M(t,[`thoughtSignature`],d);let f=N(e,[`videoMetadata`]);return f!=null&&M(t,[`videoMetadata`],f),t}function fo(e){let t={},n=N(e,[`productImage`]);return n!=null&&M(t,[`image`],Q(n)),t}function po(e,t){let n={},r=N(e,[`numberOfImages`]);t!==void 0&&r!=null&&M(t,[`parameters`,`sampleCount`],r);let i=N(e,[`baseSteps`]);t!==void 0&&i!=null&&M(t,[`parameters`,`baseSteps`],i);let a=N(e,[`outputGcsUri`]);t!==void 0&&a!=null&&M(t,[`parameters`,`storageUri`],a);let o=N(e,[`seed`]);t!==void 0&&o!=null&&M(t,[`parameters`,`seed`],o);let s=N(e,[`safetyFilterLevel`]);t!==void 0&&s!=null&&M(t,[`parameters`,`safetySetting`],s);let c=N(e,[`personGeneration`]);t!==void 0&&c!=null&&M(t,[`parameters`,`personGeneration`],c);let l=N(e,[`addWatermark`]);t!==void 0&&l!=null&&M(t,[`parameters`,`addWatermark`],l);let u=N(e,[`outputMimeType`]);t!==void 0&&u!=null&&M(t,[`parameters`,`outputOptions`,`mimeType`],u);let d=N(e,[`outputCompressionQuality`]);t!==void 0&&d!=null&&M(t,[`parameters`,`outputOptions`,`compressionQuality`],d);let f=N(e,[`enhancePrompt`]);t!==void 0&&f!=null&&M(t,[`parameters`,`enhancePrompt`],f);let p=N(e,[`labels`]);return t!==void 0&&p!=null&&M(t,[`labels`],p),n}function mo(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`source`]);i!=null&&go(i,n);let a=N(t,[`config`]);return a!=null&&po(a,n),n}function ho(e){let t={},n=N(e,[`predictions`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Va(e))),M(t,[`generatedImages`],e)}return t}function go(e,t){let n={},r=N(e,[`prompt`]);t!==void 0&&r!=null&&M(t,[`instances[0]`,`prompt`],r);let i=N(e,[`personImage`]);t!==void 0&&i!=null&&M(t,[`instances[0]`,`personImage`,`image`],Q(i));let a=N(e,[`productImages`]);if(t!==void 0&&a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>fo(e))),M(t,[`instances[0]`,`productImages`],e)}return n}function _o(e){let t={},n=N(e,[`referenceImage`]);n!=null&&M(t,[`referenceImage`],Q(n));let r=N(e,[`referenceId`]);r!=null&&M(t,[`referenceId`],r);let i=N(e,[`referenceType`]);i!=null&&M(t,[`referenceType`],i);let a=N(e,[`maskImageConfig`]);a!=null&&M(t,[`maskImageConfig`],so(a));let o=N(e,[`controlImageConfig`]);o!=null&&M(t,[`controlImageConfig`],qi(o));let s=N(e,[`styleImageConfig`]);s!=null&&M(t,[`styleImageConfig`],s);let c=N(e,[`subjectImageConfig`]);return c!=null&&M(t,[`subjectImageConfig`],c),t}function vo(e){let t={},n=N(e,[`safetyAttributes`,`categories`]);n!=null&&M(t,[`categories`],n);let r=N(e,[`safetyAttributes`,`scores`]);r!=null&&M(t,[`scores`],r);let i=N(e,[`contentType`]);return i!=null&&M(t,[`contentType`],i),t}function yo(e){let t={},n=N(e,[`safetyAttributes`,`categories`]);n!=null&&M(t,[`categories`],n);let r=N(e,[`safetyAttributes`,`scores`]);r!=null&&M(t,[`scores`],r);let i=N(e,[`contentType`]);return i!=null&&M(t,[`contentType`],i),t}function bo(e){let t={},n=N(e,[`category`]);if(n!=null&&M(t,[`category`],n),N(e,[`method`])!==void 0)throw Error(`method parameter is not supported in Gemini API.`);let r=N(e,[`threshold`]);return r!=null&&M(t,[`threshold`],r),t}function xo(e){let t={},n=N(e,[`image`]);return n!=null&&M(t,[`image`],Q(n)),t}function So(e,t){let n={},r=N(e,[`mode`]);t!==void 0&&r!=null&&M(t,[`parameters`,`mode`],r);let i=N(e,[`maxPredictions`]);t!==void 0&&i!=null&&M(t,[`parameters`,`maxPredictions`],i);let a=N(e,[`confidenceThreshold`]);t!==void 0&&a!=null&&M(t,[`parameters`,`confidenceThreshold`],a);let o=N(e,[`maskDilation`]);t!==void 0&&o!=null&&M(t,[`parameters`,`maskDilation`],o);let s=N(e,[`binaryColorThreshold`]);t!==void 0&&s!=null&&M(t,[`parameters`,`binaryColorThreshold`],s);let c=N(e,[`labels`]);return t!==void 0&&c!=null&&M(t,[`labels`],c),n}function Co(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`source`]);i!=null&&To(i,n);let a=N(t,[`config`]);return a!=null&&So(a,n),n}function wo(e){let t={},n=N(e,[`predictions`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Ha(e))),M(t,[`generatedMasks`],e)}return t}function To(e,t){let n={},r=N(e,[`prompt`]);t!==void 0&&r!=null&&M(t,[`instances[0]`,`prompt`],r);let i=N(e,[`image`]);t!==void 0&&i!=null&&M(t,[`instances[0]`,`image`],Q(i));let a=N(e,[`scribbleImage`]);return t!==void 0&&a!=null&&M(t,[`instances[0]`,`scribble`],xo(a)),n}function Eo(e){let t={},n=N(e,[`languageCode`]);n!=null&&M(t,[`languageCode`],n);let r=N(e,[`voiceConfig`]);if(r!=null&&M(t,[`voiceConfig`],r),N(e,[`multiSpeakerVoiceConfig`])!==void 0)throw Error(`multiSpeakerVoiceConfig parameter is not supported in Vertex AI.`);return t}function Do(e){let t={},n=N(e,[`functionCallingConfig`]);n!=null&&M(t,[`functionCallingConfig`],ga(n));let r=N(e,[`retrievalConfig`]);return r!=null&&M(t,[`retrievalConfig`],r),t}function Oo(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`functionDeclarations`],e)}if(N(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let r=N(e,[`googleSearchRetrieval`]);r!=null&&M(t,[`googleSearchRetrieval`],r);let i=N(e,[`computerUse`]);i!=null&&M(t,[`computerUse`],i);let a=N(e,[`fileSearch`]);a!=null&&M(t,[`fileSearch`],a);let o=N(e,[`codeExecution`]);if(o!=null&&M(t,[`codeExecution`],o),N(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let s=N(e,[`googleMaps`]);s!=null&&M(t,[`googleMaps`],Ja(s));let c=N(e,[`googleSearch`]);c!=null&&M(t,[`googleSearch`],Ya(c));let l=N(e,[`urlContext`]);return l!=null&&M(t,[`urlContext`],l),t}function ko(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>_a(e))),M(t,[`functionDeclarations`],e)}let r=N(e,[`retrieval`]);r!=null&&M(t,[`retrieval`],r);let i=N(e,[`googleSearchRetrieval`]);i!=null&&M(t,[`googleSearchRetrieval`],i);let a=N(e,[`computerUse`]);if(a!=null&&M(t,[`computerUse`],a),N(e,[`fileSearch`])!==void 0)throw Error(`fileSearch parameter is not supported in Vertex AI.`);let o=N(e,[`codeExecution`]);o!=null&&M(t,[`codeExecution`],o);let s=N(e,[`enterpriseWebSearch`]);s!=null&&M(t,[`enterpriseWebSearch`],s);let c=N(e,[`googleMaps`]);c!=null&&M(t,[`googleMaps`],c);let l=N(e,[`googleSearch`]);l!=null&&M(t,[`googleSearch`],l);let u=N(e,[`urlContext`]);return u!=null&&M(t,[`urlContext`],u),t}function Ao(e){let t={},n=N(e,[`baseModel`]);n!=null&&M(t,[`baseModel`],n);let r=N(e,[`createTime`]);r!=null&&M(t,[`createTime`],r);let i=N(e,[`updateTime`]);return i!=null&&M(t,[`updateTime`],i),t}function jo(e){let t={},n=N(e,[`labels`,`google-vertex-llm-tuning-base-model-id`]);n!=null&&M(t,[`baseModel`],n);let r=N(e,[`createTime`]);r!=null&&M(t,[`createTime`],r);let i=N(e,[`updateTime`]);return i!=null&&M(t,[`updateTime`],i),t}function Mo(e,t){let n={},r=N(e,[`displayName`]);t!==void 0&&r!=null&&M(t,[`displayName`],r);let i=N(e,[`description`]);t!==void 0&&i!=null&&M(t,[`description`],i);let a=N(e,[`defaultCheckpointId`]);return t!==void 0&&a!=null&&M(t,[`defaultCheckpointId`],a),n}function No(e,t){let n={},r=N(e,[`displayName`]);t!==void 0&&r!=null&&M(t,[`displayName`],r);let i=N(e,[`description`]);t!==void 0&&i!=null&&M(t,[`description`],i);let a=N(e,[`defaultCheckpointId`]);return t!==void 0&&a!=null&&M(t,[`defaultCheckpointId`],a),n}function Po(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`name`],W(e,r));let i=N(t,[`config`]);return i!=null&&Mo(i,n),n}function Fo(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`config`]);return i!=null&&No(i,n),n}function Io(e,t){let n={},r=N(e,[`outputGcsUri`]);t!==void 0&&r!=null&&M(t,[`parameters`,`storageUri`],r);let i=N(e,[`safetyFilterLevel`]);t!==void 0&&i!=null&&M(t,[`parameters`,`safetySetting`],i);let a=N(e,[`personGeneration`]);t!==void 0&&a!=null&&M(t,[`parameters`,`personGeneration`],a);let o=N(e,[`includeRaiReason`]);t!==void 0&&o!=null&&M(t,[`parameters`,`includeRaiReason`],o);let s=N(e,[`outputMimeType`]);t!==void 0&&s!=null&&M(t,[`parameters`,`outputOptions`,`mimeType`],s);let c=N(e,[`outputCompressionQuality`]);t!==void 0&&c!=null&&M(t,[`parameters`,`outputOptions`,`compressionQuality`],c);let l=N(e,[`enhanceInputImage`]);t!==void 0&&l!=null&&M(t,[`parameters`,`upscaleConfig`,`enhanceInputImage`],l);let u=N(e,[`imagePreservationFactor`]);t!==void 0&&u!=null&&M(t,[`parameters`,`upscaleConfig`,`imagePreservationFactor`],u);let d=N(e,[`labels`]);t!==void 0&&d!=null&&M(t,[`labels`],d);let f=N(e,[`numberOfImages`]);t!==void 0&&f!=null&&M(t,[`parameters`,`sampleCount`],f);let p=N(e,[`mode`]);return t!==void 0&&p!=null&&M(t,[`parameters`,`mode`],p),n}function Lo(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`_url`,`model`],W(e,r));let i=N(t,[`image`]);i!=null&&M(n,[`instances[0]`,`image`],Q(i));let a=N(t,[`upscaleFactor`]);a!=null&&M(n,[`parameters`,`upscaleConfig`,`upscaleFactor`],a);let o=N(t,[`config`]);return o!=null&&Io(o,n),n}function Ro(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Va(e))),M(t,[`generatedImages`],e)}return t}function zo(e){let t={},n=N(e,[`uri`]);n!=null&&M(t,[`uri`],n);let r=N(e,[`encodedVideo`]);r!=null&&M(t,[`videoBytes`],J(r));let i=N(e,[`encoding`]);return i!=null&&M(t,[`mimeType`],i),t}function Bo(e){let t={},n=N(e,[`gcsUri`]);n!=null&&M(t,[`uri`],n);let r=N(e,[`bytesBase64Encoded`]);r!=null&&M(t,[`videoBytes`],J(r));let i=N(e,[`mimeType`]);return i!=null&&M(t,[`mimeType`],i),t}function Vo(e){let t={},n=N(e,[`image`]);n!=null&&M(t,[`_self`],Q(n));let r=N(e,[`maskMode`]);return r!=null&&M(t,[`maskMode`],r),t}function Ho(e){let t={},n=N(e,[`image`]);n!=null&&M(t,[`image`],eo(n));let r=N(e,[`referenceType`]);return r!=null&&M(t,[`referenceType`],r),t}function Uo(e){let t={},n=N(e,[`image`]);n!=null&&M(t,[`image`],Q(n));let r=N(e,[`referenceType`]);return r!=null&&M(t,[`referenceType`],r),t}function Wo(e){let t={},n=N(e,[`uri`]);n!=null&&M(t,[`uri`],n);let r=N(e,[`videoBytes`]);r!=null&&M(t,[`encodedVideo`],J(r));let i=N(e,[`mimeType`]);return i!=null&&M(t,[`encoding`],i),t}function Go(e){let t={},n=N(e,[`uri`]);n!=null&&M(t,[`gcsUri`],n);let r=N(e,[`videoBytes`]);r!=null&&M(t,[`bytesBase64Encoded`],J(r));let i=N(e,[`mimeType`]);return i!=null&&M(t,[`mimeType`],i),t}function Ko(e,t){let n={},r=N(e,[`displayName`]);return t!==void 0&&r!=null&&M(t,[`displayName`],r),n}function qo(e){let t={},n=N(e,[`config`]);return n!=null&&Ko(n,t),t}function Jo(e,t){let n={},r=N(e,[`force`]);return t!==void 0&&r!=null&&M(t,[`_query`,`force`],r),n}function Yo(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`_url`,`name`],n);let r=N(e,[`config`]);return r!=null&&Jo(r,t),t}function Xo(e){let t={},n=N(e,[`name`]);return n!=null&&M(t,[`_url`,`name`],n),t}function Zo(e,t){let n={},r=N(e,[`customMetadata`]);if(t!==void 0&&r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`customMetadata`],e)}let i=N(e,[`chunkingConfig`]);return t!==void 0&&i!=null&&M(t,[`chunkingConfig`],i),n}function Qo(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`name`],n);let r=N(e,[`metadata`]);r!=null&&M(t,[`metadata`],r);let i=N(e,[`done`]);i!=null&&M(t,[`done`],i);let a=N(e,[`error`]);a!=null&&M(t,[`error`],a);let o=N(e,[`response`]);return o!=null&&M(t,[`response`],es(o)),t}function $o(e){let t={},n=N(e,[`fileSearchStoreName`]);n!=null&&M(t,[`_url`,`file_search_store_name`],n);let r=N(e,[`fileName`]);r!=null&&M(t,[`fileName`],r);let i=N(e,[`config`]);return i!=null&&Zo(i,t),t}function es(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`parent`]);r!=null&&M(t,[`parent`],r);let i=N(e,[`documentName`]);return i!=null&&M(t,[`documentName`],i),t}function ts(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);return t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i),n}function ns(e){let t={},n=N(e,[`config`]);return n!=null&&ts(n,t),t}function rs(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`fileSearchStores`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`fileSearchStores`],e)}return t}function is(e,t){let n={},r=N(e,[`mimeType`]);t!==void 0&&r!=null&&M(t,[`mimeType`],r);let i=N(e,[`displayName`]);t!==void 0&&i!=null&&M(t,[`displayName`],i);let a=N(e,[`customMetadata`]);if(t!==void 0&&a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`customMetadata`],e)}let o=N(e,[`chunkingConfig`]);return t!==void 0&&o!=null&&M(t,[`chunkingConfig`],o),n}function as(e){let t={},n=N(e,[`fileSearchStoreName`]);n!=null&&M(t,[`_url`,`file_search_store_name`],n);let r=N(e,[`config`]);return r!=null&&is(r,t),t}function os(e){let t={},n=N(e,[`sdkHttpResponse`]);return n!=null&&M(t,[`sdkHttpResponse`],n),t}var ss=`Content-Type`,cs=`X-Server-Timeout`,ls=`User-Agent`,us=`x-goog-api-client`,ds=`google-genai-sdk/1.31.0`,fs=`v1beta1`,ps=`v1beta`,ms=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,hs=class{constructor(e){this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let t={};this.clientOptions.vertexai?(t.apiVersion=this.clientOptions.apiVersion??fs,t.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(t.apiVersion=this.clientOptions.apiVersion??ps,t.baseUrl=`https://generativelanguage.googleapis.com/`),t.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=t,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(t,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!==`global`?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:`https://aiplatform.googleapis.com/`}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){return this.clientOptions.vertexai??!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw Error(`API version is not set.`)}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw Error(`Base URL is not set.`)}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw Error(`Headers are not set.`)}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw Error(`HTTP options are not correctly set.`);let t=[e.baseUrl.endsWith(`/`)?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==``&&t.push(e.apiVersion),t.join(`/`)}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol==`http:`?`ws`:`wss`,t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw Error(`HTTP options are not correctly set.`)}constructUrl(e,t,n){let r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),e!==``&&r.push(e),new URL(`${r.join(`/`)}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith(`projects/`)||e.httpMethod===`GET`&&e.path.startsWith(`publishers/google/models`))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(let[t,n]of Object.entries(e.queryParams))r.searchParams.append(t,String(n));let i={};if(e.httpMethod===`GET`){if(e.body&&e.body!==`{}`)throw Error(`Request body should be empty for GET request, but got non empty request body`)}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){let n=JSON.parse(JSON.stringify(e));for(let[e,r]of Object.entries(t))typeof r==`object`?n[e]=Object.assign(Object.assign({},n[e]),r):r!==void 0&&(n[e]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);(!r.searchParams.has(`alt`)||r.searchParams.get(`alt`)!==`sse`)&&r.searchParams.set(`alt`,`sse`);let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){let n=new AbortController,i=n.signal;if(t.timeout&&t?.timeout>0){let e=setTimeout(()=>n.abort(),t.timeout);e&&typeof e.unref==`function`&&e.unref()}r&&r.addEventListener(`abort`,()=>{n.abort()}),e.signal=i}return t&&t.extraBody!==null&&_s(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await gs(e),new pt(e))).catch(e=>{throw e instanceof Error?e:Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await gs(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:Error(JSON.stringify(e))})}processStreamResponse(e){return Qr(this,arguments,function*(){let t=(e?.body)?.getReader(),n=new TextDecoder(`utf-8`);if(!t)throw Error(`Response body is empty`);try{let r=``;for(;;){let{done:i,value:a}=yield Z(t.read());if(i){if(r.trim().length>0)throw Error(`Incomplete JSON segment at the end`);break}let o=n.decode(a,{stream:!0});try{let e=JSON.parse(o);if(`error`in e){let t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,i=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600)throw new oi({message:i,status:r})}}catch(e){if(e.name===`ApiError`)throw e}r+=o;let s=r.match(ms);for(;s;){let t=s[1];try{yield yield Z(new pt(new Response(t,{headers:e?.headers,status:e?.status,statusText:e?.statusText}))),r=r.slice(s[0].length),s=r.match(ms)}catch(e){throw Error(`exception parsing stream chunk ${t}. ${e}`)}}}}finally{t.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw Error(`exception ${e} sending request`)})}getDefaultHeaders(){let e={},t=ds+` `+this.clientOptions.userAgentExtra;return e[ls]=t,e[us]=t,e[ss]=`application/json`,e}async getHeadersInternal(e,t){let n=new Headers;if(e&&e.headers){for(let[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append(cs,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){let t=``;return typeof e==`string`&&(t=e.replace(/[/\\]+$/,``),t=t.split(/[/\\]/).pop()??``),t}async uploadFile(e,t){let n={};t!=null&&(n.mimeType=t.mimeType,n.name=t.name,n.displayName=t.displayName),n.name&&!n.name.startsWith(`files/`)&&(n.name=`files/${n.name}`);let r=this.clientOptions.uploader,i=await r.stat(e);n.sizeBytes=String(i.size);let a=t?.mimeType??i.type;if(a===void 0||a===``)throw Error(`Can not determine mimeType. Please provide mimeType in the config.`);n.mimeType=a;let o={file:n},s=this.getFileName(e),c=j(`upload/v1beta/files`,o._url),l=await this.fetchUploadUrl(c,n.sizeBytes,n.mimeType,s,o,t?.httpOptions);return r.upload(e,l,this)}async uploadFileToFileSearchStore(e,t,n){let r=this.clientOptions.uploader,i=await r.stat(t),a=String(i.size),o=n?.mimeType??i.type;if(o===void 0||o===``)throw Error(`Can not determine mimeType. Please provide mimeType in the config.`);let s=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),l={};n!=null&&is(n,l);let u=await this.fetchUploadUrl(s,a,o,c,l,n?.httpOptions);return r.uploadToFileSearchStore(t,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,n,r,i,a){let o={};o=a||{apiVersion:``,headers:Object.assign({"Content-Type":`application/json`,"X-Goog-Upload-Protocol":`resumable`,"X-Goog-Upload-Command":`start`,"X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};let s=await this.request({path:e,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:o});if(!s||!s?.headers)throw Error(`Server did not return an HttpResponse or the returned HttpResponse did not have headers.`);let c=s?.headers?.[`x-goog-upload-url`];if(c===void 0)throw Error(`Failed to get upload url. Server did not return the x-google-upload-url in the headers`);return c}};async function gs(e){if(e===void 0)throw Error(`response is undefined`);if(!e.ok){let t=e.status,n;n=e.headers.get(`content-type`)?.includes(`application/json`)?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};let r=JSON.stringify(n);throw t>=400&&t<600?new oi({message:r,status:t}):Error(r)}}function _s(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn(`includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.`);return}let n={};if(typeof e.body==`string`&&e.body.length>0)try{let t=JSON.parse(e.body);if(typeof t==`object`&&t&&!Array.isArray(t))n=t;else{console.warn(`includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.`);return}}catch{console.warn(`includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.`);return}function r(e,t){let n=Object.assign({},e);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let i=t[e],a=n[e];i&&typeof i==`object`&&!Array.isArray(i)&&a&&typeof a==`object`&&!Array.isArray(a)?n[e]=r(a,i):(a&&i&&typeof a!=typeof i&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${e}". Original type: ${typeof a}, New type: ${typeof i}. Overwriting.`),n[e]=i)}return n}let i=r(n,t);e.body=JSON.stringify(i)}var vs=`mcp_used/unknown`,ys=!1;function bs(e){for(let t of e)if(Ss(t)||typeof t==`object`&&`inputSchema`in t)return!0;return ys}function xs(e){e[us]=((e[us]??``)+` ${vs}`).trimStart()}function Ss(e){return typeof e==`object`&&!!e&&e instanceof ws}function Cs(e,t=100){return Qr(this,arguments,function*(){let n,r=0;for(;r<t;){let t=yield Z(e.listTools({cursor:n}));for(let e of t.tools)yield yield Z(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}var ws=class e{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(t,n){return new e(t,n)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;let i={},a=[];for(let l of this.mcpClients)try{for(var o=!0,s=(t=void 0,$r(Cs(l))),c;c=await s.next(),e=c.done,!e;o=!0){r=c.value,o=!1;let e=r;a.push(e);let t=e.name;if(i[t])throw Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);i[t]=l}}catch(e){t={error:e}}finally{try{!o&&!e&&(n=s.return)&&await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),gn(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let n of e)if(n.name in this.functionNameToMcpClient){let e=this.functionNameToMcpClient[n.name],r;this.config.timeout&&(r={timeout:this.config.timeout});let i=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return t}};async function Ts(e,t,n){let r=new zt,i;i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,i),t(r)}var Es=class{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){if(this.apiClient.isVertexAI())throw Error(`Live music is not supported for Vertex AI.`);console.warn(`Live music generation is experimental and may change in future versions.`);let t=this.apiClient.getWebsocketBaseUrl(),n=this.apiClient.getApiVersion(),r=ks(this.apiClient.getDefaultHeaders()),i=`${t}/ws/google.ai.generativelanguage.${n}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`,a=()=>{},o=new Promise(e=>{a=e}),s=e.callbacks,c=function(){a({})},l=this.apiClient,u={onopen:c,onmessage:e=>{Ts(l,s.onmessage,e)},onerror:s?.onerror??function(e){},onclose:s?.onclose??function(e){}},d=this.webSocketFactory.create(i,Os(r),u);d.connect(),await o;let f={setup:{model:W(this.apiClient,e.model)}};return d.send(JSON.stringify(f)),new Ds(d,this.apiClient)}},Ds=class{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw Error(`Weighted prompts must be set and contain at least one entry.`);let t=ki(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||={};let t=Oi(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){let t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ft.PLAY)}pause(){this.sendPlaybackControl(ft.PAUSE)}stop(){this.sendPlaybackControl(ft.STOP)}resetContext(){this.sendPlaybackControl(ft.RESET_CONTEXT)}close(){this.conn.close()}};function Os(e){let t={};return e.forEach((e,n)=>{t[n]=e}),t}function ks(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var As="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function js(e,t,n){let r=new Rt,i;i=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;let a=JSON.parse(i);if(e.isVertexAI()){let e=Mi(a);Object.assign(r,e)}else{let e=a;Object.assign(r,e)}t(r)}var Ms=class{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Es(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){if(e.config&&e.config.httpOptions)throw Error(`The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.`);let t=this.apiClient.getWebsocketBaseUrl(),n=this.apiClient.getApiVersion(),r,i=this.apiClient.getHeaders();e.config&&e.config.tools&&bs(e.config.tools)&&xs(i);let a=Is(i);if(this.apiClient.isVertexAI())r=`${t}/ws/google.cloud.aiplatform.${n}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(a,r);else{let e=this.apiClient.getApiKey(),i=`BidiGenerateContent`,a=`key`;e?.startsWith(`auth_tokens/`)&&(console.warn(`Warning: Ephemeral token support is experimental and may change in future versions.`),n!==`v1alpha`&&console.warn(`Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection.`),i=`BidiGenerateContentConstrained`,a=`access_token`),r=`${t}/ws/google.ai.generativelanguage.${n}.GenerativeService.${i}?${a}=${e}`}let o=()=>{},s=new Promise(e=>{o=e}),c=e.callbacks,l=function(){var e;(e=c?.onopen)==null||e.call(c),o({})},u=this.apiClient,d={onopen:l,onmessage:e=>{js(u,c.onmessage,e)},onerror:c?.onerror??function(e){},onclose:c?.onclose??function(e){}},f=this.webSocketFactory.create(r,Fs(a),d);f.connect(),await s;let p=W(this.apiClient,e.model);this.apiClient.isVertexAI()&&p.startsWith(`publishers/`)&&(p=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+p);let m={};this.apiClient.isVertexAI()&&e.config?.responseModalities===void 0&&(e.config===void 0?e.config={responseModalities:[Fe.AUDIO]}:e.config.responseModalities=[Fe.AUDIO]),e.config?.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let h=e.config?.tools??[],g=[];for(let e of h)if(this.isCallableTool(e)){let t=e;g.push(await t.tool())}else g.push(e);g.length>0&&(e.config.tools=g);let _={model:p,config:e.config,callbacks:e.callbacks};return m=this.apiClient.isVertexAI()?Di(this.apiClient,_):Ei(this.apiClient,_),delete m.config,f.send(JSON.stringify(m)),new Ps(f,this.apiClient)}isCallableTool(e){return`callTool`in e&&typeof e.callTool==`function`}},Ns={turnComplete:!0},Ps=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=K(t.turns),e.isVertexAI()||(n=n.map(e=>Ki(e)))}catch{throw Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null||(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],n.length===0))throw Error(`functionResponses is required.`);for(let t of n){if(typeof t!=`object`||!t||!(`name`in t)||!(`response`in t))throw Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!(`id`in t))throw Error(As)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Ns),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:ji(e)}:{realtimeInput:Ai(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw Error(`Tool response parameters are required.`);let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function Fs(e){let t={};return e.forEach((e,n)=>{t[n]=e}),t}function Is(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var Ls=10;function Rs(e){if(e?.automaticFunctionCalling?.disable)return!0;let t=!1;for(let n of e?.tools??[])if(zs(n)){t=!0;break}if(!t)return!0;let n=e?.automaticFunctionCalling?.maximumRemoteCalls;return n&&(n<0||!Number.isInteger(n))||n==0?(console.warn(`Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:`,n),!0):!1}function zs(e){return`callTool`in e&&typeof e.callTool==`function`}function Bs(e){return(e.config?.tools)?.some(e=>zs(e))??!1}function Vs(e){let t=[];return e?.config?.tools&&e.config.tools.forEach((e,n)=>{if(zs(e))return;let r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&t.push(n)}),t}function Hs(e){return!e?.automaticFunctionCalling?.ignoreCallHistory}var Us=class extends A{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{let t=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!Bs(e)||Rs(e.config))return await this.generateContentInternal(t);let n=Vs(e);if(n.length>0){let e=n.map(e=>`tools[${e}]`).join(`, `);throw Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let r,i,a=K(t.contents),o=t.config?.automaticFunctionCalling?.maximumRemoteCalls??Ls,s=0;for(;s<o&&(r=await this.generateContentInternal(t),!(!r.functionCalls||r.functionCalls.length===0));){let n=r.candidates[0].content,o=[];for(let t of e.config?.tools??[])if(zs(t)){let e=await t.callTool(r.functionCalls);o.push(...e)}s++,i={role:`user`,parts:o},t.contents=K(t.contents),t.contents.push(n),t.contents.push(i),Hs(t.config)&&(a.push(n),a.push(i))}return Hs(t.config)&&(r.automaticFunctionCallingHistory=a),r},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),Rs(e.config)){let t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}let t=Vs(e);if(t.length>0){let e=t.map(e=>`tools[${e}]`).join(`, `);throw Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let n=e?.config?.toolConfig?.functionCallingConfig?.streamFunctionCallArguments,r=e?.config?.automaticFunctionCalling?.disable;if(n&&!r)throw Error(`Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.`);return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{let t,n=[];if(e?.generatedImages)for(let r of e.generatedImages)r&&r?.safetyAttributes&&r?.safetyAttributes?.contentType===`Positive Prompt`?t=r?.safetyAttributes:n.push(r);let r;return r=t?{generatedImages:n,positivePromptSafetyAttributes:t,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:n,sdkHttpResponse:e.sdkHttpResponse},r}),this.list=async e=>{let t={config:Object.assign(Object.assign({},{queryBase:!0}),e?.config)};if(this.apiClient.isVertexAI()&&!t.config.queryBase){if(t.config?.filter)throw Error(`Filtering tuned models list for Vertex AI is not currently supported`);t.config.filter=`labels.tune-type:*`}return new X(Y.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(t),t)},this.editImage=async e=>{let t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:`upscale`};e.config&&(t=Object.assign(Object.assign({},t),e.config));let n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{if((e.prompt||e.image||e.video)&&e.source)throw Error(`Source and prompt/image/video are mutually exclusive. Please only use source.`);return this.apiClient.isVertexAI()||(e.video?.uri&&e.video?.videoBytes?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:e.source?.video?.uri&&e.source?.video?.videoBytes&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes(`$schema`)&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){let t=e.config?.tools;if(!t)return e;let n=await Promise.all(t.map(async e=>zs(e)?await e.tool():e)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:n})};if(r.config.tools=n,e.config&&e.config.tools&&bs(e.config.tools)){let t=e.config.httpOptions?.headers??{},n=Object.assign({},t);Object.keys(n).length===0&&(n=this.apiClient.getDefaultHeaders()),xs(n),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:n})}return r}async initAfcToolsMap(e){let t=new Map;for(let n of e.config?.tools??[])if(zs(n)){let e=n,r=await e.tool();for(let n of r.functionDeclarations??[]){if(!n.name)throw Error(`Function declaration name is required.`);if(t.has(n.name))throw Error(`Duplicate tool declaration name: ${n.name}`);t.set(n.name,e)}}return t}async processAfcStream(e){let t=e.config?.automaticFunctionCalling?.maximumRemoteCalls??Ls,n=!1,r=0,i=await this.initAfcToolsMap(e);return(function(e,i,a){return Qr(this,arguments,function*(){for(var o,s,c,l;r<t;){n&&=(r++,!1);let p=yield Z(e.processParamsMaybeAddMcpUsage(a)),m=yield Z(e.generateContentStreamInternal(p)),h=[],g=[];try{for(var u=!0,d=(s=void 0,$r(m)),f;f=yield Z(d.next()),o=f.done,!o;u=!0){l=f.value,u=!1;let e=l;if(yield yield Z(e),e.candidates&&e.candidates[0]?.content){g.push(e.candidates[0].content);for(let n of e.candidates[0].content.parts??[])if(r<t&&n.functionCall){if(!n.functionCall.name)throw Error(`Function call name was not returned by the model.`);if(i.has(n.functionCall.name)){let e=yield Z(i.get(n.functionCall.name).callTool([n.functionCall]));h.push(...e)}else throw Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${i.keys()}, mising tool: ${n.functionCall.name}`)}}}}catch(e){s={error:e}}finally{try{!u&&!o&&(c=d.return)&&(yield Z(c.call(d)))}finally{if(s)throw s.error}}if(h.length>0){n=!0;let e=new mt;e.candidates=[{content:{role:`user`,parts:h}}],yield yield Z(e);let t=[];t.push(...g),t.push({role:`user`,parts:h}),a.contents=K(a.contents).concat(t)}else break}})})(this,i,e)}async generateContentInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=xa(this.apiClient,e);return n=j(`{model}:generateContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Ca(e),n=new mt;return Object.assign(n,t),n})}else{let i=ba(this.apiClient,e);return n=j(`{model}:generateContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Sa(e),n=new mt;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=xa(this.apiClient,e);return n=j(`{model}:streamGenerateContent?alt=sse`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.requestStream({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}),t.then(function(e){return Qr(this,arguments,function*(){var t,n,r,i;try{for(var a=!0,o=$r(e),s;s=yield Z(o.next()),t=s.done,!t;a=!0){i=s.value,a=!1;let e=i,t=Ca(yield Z(e.json()));t.sdkHttpResponse={headers:e.headers};let n=new mt;Object.assign(n,t),yield yield Z(n)}}catch(e){n={error:e}}finally{try{!a&&!t&&(r=o.return)&&(yield Z(r.call(o)))}finally{if(n)throw n.error}}})})}else{let i=ba(this.apiClient,e);return n=j(`{model}:streamGenerateContent?alt=sse`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.requestStream({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}),t.then(function(e){return Qr(this,arguments,function*(){var t,n,r,i;try{for(var a=!0,o=$r(e),s;s=yield Z(o.next()),t=s.done,!t;a=!0){i=s.value,a=!1;let e=i,t=Sa(yield Z(e.json()));t.sdkHttpResponse={headers:e.headers};let n=new mt;Object.assign(n,t),yield yield Z(n)}}catch(e){n={error:e}}finally{try{!a&&!t&&(r=o.return)&&(yield Z(r.call(o)))}finally{if(n)throw n.error}}})})}}async embedContent(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=ua(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=fa(e),n=new ht;return Object.assign(n,t),n})}else{let i=la(this.apiClient,e);return n=j(`{model}:batchEmbedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=da(e),n=new ht;return Object.assign(n,t),n})}}async generateImagesInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Da(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ka(e),n=new gt;return Object.assign(n,t),n})}else{let i=Ea(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Oa(e),n=new gt;return Object.assign(n,t),n})}}async editImageInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=aa(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=oa(e),n=new _t;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async upscaleImageInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Lo(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Ro(e),n=new vt;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async recontextImage(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=mo(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=ho(e),n=new yt;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async segmentImage(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Co(this.apiClient,e);return n=j(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=wo(e),n=new bt;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=qa(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>lo(e))}else{let i=Ka(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>co(e))}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=io(this.apiClient,e);return n=j(`{models_url}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=oo(e),n=new xt;return Object.assign(n,t),n})}else{let i=ro(this.apiClient,e);return n=j(`{models_url}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ao(e),n=new xt;return Object.assign(n,t),n})}}async update(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Fo(this.apiClient,e);return n=j(`{model}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>lo(e))}else{let i=Po(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>co(e))}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=ta(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ra(e),n=new St;return Object.assign(n,t),n})}else{let i=ea(this.apiClient,e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=na(e),n=new St;return Object.assign(n,t),n})}}async countTokens(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Zi(this.apiClient,e);return n=j(`{model}:countTokens`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=$i(e),n=new Ct;return Object.assign(n,t),n})}else{let i=Xi(this.apiClient,e);return n=j(`{model}:countTokens`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Qi(e),n=new Ct;return Object.assign(n,t),n})}}async computeTokens(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Hi(this.apiClient,e);return n=j(`{model}:computeTokens`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Ui(e),n=new wt;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async generateVideosInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Fa(this.apiClient,e);return n=j(`{model}:predictLongRunning`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=Na(e),n=new Tt;return Object.assign(n,t),n})}else{let i=Pa(this.apiClient,e);return n=j(`{model}:predictLongRunning`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=Ma(e),n=new Tt;return Object.assign(n,t),n})}}},Ws=class extends A{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,n=e.config;if(t.name===void 0||t.name===``)throw Error(`Operation name is required.`);if(this.apiClient.isVertexAI()){let e=t.name.split(`/operations/`)[0],r;n&&`httpOptions`in n&&(r=n.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}else{let e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){let t=e.operation,n=e.config;if(t.name===void 0||t.name===``)throw Error(`Operation name is required.`);if(this.apiClient.isVertexAI()){let e=t.name.split(`/operations/`)[0],r;n&&`httpOptions`in n&&(r=n.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}else{let e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=I(e);return n=j(`{operationName}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t}else{let i=fe(e);return n=j(`{operationName}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t}}async fetchPredictVideosOperationInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=P(e);return n=j(`{resourceName}:fetchPredictOperation`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t}else throw Error(`This method is only supported by the Vertex AI.`)}};function Gs(e){let t={},n=N(e,[`data`]);if(n!=null&&M(t,[`data`],n),N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function Ks(e){let t={},n=N(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>tc(e))),M(t,[`parts`],e)}let r=N(e,[`role`]);return r!=null&&M(t,[`role`],r),t}function qs(e,t,n){let r={},i=N(t,[`expireTime`]);n!==void 0&&i!=null&&M(n,[`expireTime`],i);let a=N(t,[`newSessionExpireTime`]);n!==void 0&&a!=null&&M(n,[`newSessionExpireTime`],a);let o=N(t,[`uses`]);n!==void 0&&o!=null&&M(n,[`uses`],o);let s=N(t,[`liveConnectConstraints`]);n!==void 0&&s!=null&&M(n,[`bidiGenerateContentSetup`],ec(e,s));let c=N(t,[`lockAdditionalFields`]);return n!==void 0&&c!=null&&M(n,[`fieldMask`],c),r}function Js(e,t){let n={},r=N(t,[`config`]);return r!=null&&M(n,[`config`],qs(e,r,n)),n}function Ys(e){let t={};if(N(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=N(e,[`fileUri`]);n!=null&&M(t,[`fileUri`],n);let r=N(e,[`mimeType`]);return r!=null&&M(t,[`mimeType`],r),t}function Xs(e){let t={},n=N(e,[`id`]);n!=null&&M(t,[`id`],n);let r=N(e,[`args`]);r!=null&&M(t,[`args`],r);let i=N(e,[`name`]);if(i!=null&&M(t,[`name`],i),N(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(N(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function Zs(e){let t={};if(N(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=N(e,[`enableWidget`]);return n!=null&&M(t,[`enableWidget`],n),t}function Qs(e){let t={};if(N(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(N(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=N(e,[`timeRangeFilter`]);return n!=null&&M(t,[`timeRangeFilter`],n),t}function $s(e,t){let n={},r=N(e,[`generationConfig`]);t!==void 0&&r!=null&&M(t,[`setup`,`generationConfig`],r);let i=N(e,[`responseModalities`]);t!==void 0&&i!=null&&M(t,[`setup`,`generationConfig`,`responseModalities`],i);let a=N(e,[`temperature`]);t!==void 0&&a!=null&&M(t,[`setup`,`generationConfig`,`temperature`],a);let o=N(e,[`topP`]);t!==void 0&&o!=null&&M(t,[`setup`,`generationConfig`,`topP`],o);let s=N(e,[`topK`]);t!==void 0&&s!=null&&M(t,[`setup`,`generationConfig`,`topK`],s);let c=N(e,[`maxOutputTokens`]);t!==void 0&&c!=null&&M(t,[`setup`,`generationConfig`,`maxOutputTokens`],c);let l=N(e,[`mediaResolution`]);t!==void 0&&l!=null&&M(t,[`setup`,`generationConfig`,`mediaResolution`],l);let u=N(e,[`seed`]);t!==void 0&&u!=null&&M(t,[`setup`,`generationConfig`,`seed`],u);let d=N(e,[`speechConfig`]);t!==void 0&&d!=null&&M(t,[`setup`,`generationConfig`,`speechConfig`],nn(d));let f=N(e,[`thinkingConfig`]);t!==void 0&&f!=null&&M(t,[`setup`,`generationConfig`,`thinkingConfig`],f);let p=N(e,[`enableAffectiveDialog`]);t!==void 0&&p!=null&&M(t,[`setup`,`generationConfig`,`enableAffectiveDialog`],p);let m=N(e,[`systemInstruction`]);t!==void 0&&m!=null&&M(t,[`setup`,`systemInstruction`],Ks(G(m)));let h=N(e,[`tools`]);if(t!==void 0&&h!=null){let e=an(h);Array.isArray(e)&&(e=e.map(e=>rc(rn(e)))),M(t,[`setup`,`tools`],e)}let g=N(e,[`sessionResumption`]);t!==void 0&&g!=null&&M(t,[`setup`,`sessionResumption`],nc(g));let _=N(e,[`inputAudioTranscription`]);t!==void 0&&_!=null&&M(t,[`setup`,`inputAudioTranscription`],_);let v=N(e,[`outputAudioTranscription`]);t!==void 0&&v!=null&&M(t,[`setup`,`outputAudioTranscription`],v);let y=N(e,[`realtimeInputConfig`]);t!==void 0&&y!=null&&M(t,[`setup`,`realtimeInputConfig`],y);let b=N(e,[`contextWindowCompression`]);t!==void 0&&b!=null&&M(t,[`setup`,`contextWindowCompression`],b);let x=N(e,[`proactivity`]);return t!==void 0&&x!=null&&M(t,[`setup`,`proactivity`],x),n}function ec(e,t){let n={},r=N(t,[`model`]);r!=null&&M(n,[`setup`,`model`],W(e,r));let i=N(t,[`config`]);return i!=null&&M(n,[`config`],$s(i,n)),n}function tc(e){let t={},n=N(e,[`mediaResolution`]);n!=null&&M(t,[`mediaResolution`],n);let r=N(e,[`codeExecutionResult`]);r!=null&&M(t,[`codeExecutionResult`],r);let i=N(e,[`executableCode`]);i!=null&&M(t,[`executableCode`],i);let a=N(e,[`fileData`]);a!=null&&M(t,[`fileData`],Ys(a));let o=N(e,[`functionCall`]);o!=null&&M(t,[`functionCall`],Xs(o));let s=N(e,[`functionResponse`]);s!=null&&M(t,[`functionResponse`],s);let c=N(e,[`inlineData`]);c!=null&&M(t,[`inlineData`],Gs(c));let l=N(e,[`text`]);l!=null&&M(t,[`text`],l);let u=N(e,[`thought`]);u!=null&&M(t,[`thought`],u);let d=N(e,[`thoughtSignature`]);d!=null&&M(t,[`thoughtSignature`],d);let f=N(e,[`videoMetadata`]);return f!=null&&M(t,[`videoMetadata`],f),t}function nc(e){let t={},n=N(e,[`handle`]);if(n!=null&&M(t,[`handle`],n),N(e,[`transparent`])!==void 0)throw Error(`transparent parameter is not supported in Gemini API.`);return t}function rc(e){let t={},n=N(e,[`functionDeclarations`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`functionDeclarations`],e)}if(N(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let r=N(e,[`googleSearchRetrieval`]);r!=null&&M(t,[`googleSearchRetrieval`],r);let i=N(e,[`computerUse`]);i!=null&&M(t,[`computerUse`],i);let a=N(e,[`fileSearch`]);a!=null&&M(t,[`fileSearch`],a);let o=N(e,[`codeExecution`]);if(o!=null&&M(t,[`codeExecution`],o),N(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let s=N(e,[`googleMaps`]);s!=null&&M(t,[`googleMaps`],Zs(s));let c=N(e,[`googleSearch`]);c!=null&&M(t,[`googleSearch`],Qs(c));let l=N(e,[`urlContext`]);return l!=null&&M(t,[`urlContext`],l),t}function ic(e){let t=[];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=e[n];if(typeof r==`object`&&r&&Object.keys(r).length>0){let e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(`,`)}function ac(e,t){let n=null,r=e.bidiGenerateContentSetup;if(typeof r==`object`&&r&&`setup`in r){let t=r.setup;typeof t==`object`&&t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;let i=e.fieldMask;if(n){let r=ic(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)r?e.fieldMask=r:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let t=[`temperature`,`topK`,`topP`,`maxOutputTokens`,`responseModalities`,`seed`,`speechConfig`],n=[];i.length>0&&(n=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));let a=[];r&&a.push(r),n.length>0&&a.push(...n),a.length>0?e.fieldMask=a.join(`,`):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(`,`):delete e.fieldMask;return e}var oc=class extends A{constructor(e){super(),this.apiClient=e}async create(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`The client.tokens.create method is only supported by the Gemini Developer API.`);{let i=Js(this.apiClient,e);n=j(`auth_tokens`,i._url),r=i._query,delete i.config,delete i._url,delete i._query;let a=ac(i,e.config);return t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(a),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}};function sc(e,t){let n={},r=N(e,[`force`]);return t!==void 0&&r!=null&&M(t,[`_query`,`force`],r),n}function cc(e){let t={},n=N(e,[`name`]);n!=null&&M(t,[`_url`,`name`],n);let r=N(e,[`config`]);return r!=null&&sc(r,t),t}function lc(e){let t={},n=N(e,[`name`]);return n!=null&&M(t,[`_url`,`name`],n),t}function uc(e,t){let n={},r=N(e,[`pageSize`]);t!==void 0&&r!=null&&M(t,[`_query`,`pageSize`],r);let i=N(e,[`pageToken`]);return t!==void 0&&i!=null&&M(t,[`_query`,`pageToken`],i),n}function dc(e){let t={},n=N(e,[`parent`]);n!=null&&M(t,[`_url`,`parent`],n);let r=N(e,[`config`]);return r!=null&&uc(r,t),t}function fc(e){let t={},n=N(e,[`sdkHttpResponse`]);n!=null&&M(t,[`sdkHttpResponse`],n);let r=N(e,[`nextPageToken`]);r!=null&&M(t,[`nextPageToken`],r);let i=N(e,[`documents`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),M(t,[`documents`],e)}return t}var pc=class extends A{constructor(e){super(),this.apiClient=e,this.list=async e=>new X(Y.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=lc(e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t=``,n={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let r=cc(e);t=j(`{name}`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=dc(e);return n=j(`{parent}/documents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=fc(e),n=new At;return Object.assign(n,t),n})}}},mc=class extends A{constructor(e,t=new pc(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new X(Y.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw Error(`Vertex AI does not support uploading files to a file search store.`);return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=qo(e);return n=j(`fileSearchStores`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Xo(e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t=``,n={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let r=Yo(e);t=j(`{name}`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=ns(e);return n=j(`fileSearchStores`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=rs(e),n=new jt;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=as(e);return n=j(`upload/v1beta/{file_search_store_name}:uploadToFileSearchStore`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=os(e),n=new Mt;return Object.assign(n,t),n})}}async importFile(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=$o(e);return n=j(`{file_search_store_name}:importFile`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=Qo(e),n=new Nt;return Object.assign(n,t),n})}}};function hc(e,t){let n={},r=N(e,[`name`]);return r!=null&&M(n,[`_url`,`name`],r),n}function gc(e,t){let n={},r=N(e,[`name`]);return r!=null&&M(n,[`_url`,`name`],r),n}function _c(e,t){let n={},r=N(e,[`sdkHttpResponse`]);return r!=null&&M(n,[`sdkHttpResponse`],r),n}function vc(e,t){let n={},r=N(e,[`sdkHttpResponse`]);return r!=null&&M(n,[`sdkHttpResponse`],r),n}function yc(e,t,n){let r={};if(N(e,[`validationDataset`])!==void 0)throw Error(`validationDataset parameter is not supported in Gemini API.`);let i=N(e,[`tunedModelDisplayName`]);if(t!==void 0&&i!=null&&M(t,[`displayName`],i),N(e,[`description`])!==void 0)throw Error(`description parameter is not supported in Gemini API.`);let a=N(e,[`epochCount`]);t!==void 0&&a!=null&&M(t,[`tuningTask`,`hyperparameters`,`epochCount`],a);let o=N(e,[`learningRateMultiplier`]);if(o!=null&&M(r,[`tuningTask`,`hyperparameters`,`learningRateMultiplier`],o),N(e,[`exportLastCheckpointOnly`])!==void 0)throw Error(`exportLastCheckpointOnly parameter is not supported in Gemini API.`);if(N(e,[`preTunedModelCheckpointId`])!==void 0)throw Error(`preTunedModelCheckpointId parameter is not supported in Gemini API.`);if(N(e,[`adapterSize`])!==void 0)throw Error(`adapterSize parameter is not supported in Gemini API.`);let s=N(e,[`batchSize`]);t!==void 0&&s!=null&&M(t,[`tuningTask`,`hyperparameters`,`batchSize`],s);let c=N(e,[`learningRate`]);if(t!==void 0&&c!=null&&M(t,[`tuningTask`,`hyperparameters`,`learningRate`],c),N(e,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);if(N(e,[`beta`])!==void 0)throw Error(`beta parameter is not supported in Gemini API.`);return r}function bc(e,t,n){let r={},i=N(n,[`config`,`method`]);if(i===void 0&&(i=`SUPERVISED_FINE_TUNING`),i===`SUPERVISED_FINE_TUNING`){let n=N(e,[`validationDataset`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`],Lc(n))}else if(i===`PREFERENCE_TUNING`){let n=N(e,[`validationDataset`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`],Lc(n))}let a=N(e,[`tunedModelDisplayName`]);t!==void 0&&a!=null&&M(t,[`tunedModelDisplayName`],a);let o=N(e,[`description`]);t!==void 0&&o!=null&&M(t,[`description`],o);let s=N(n,[`config`,`method`]);if(s===void 0&&(s=`SUPERVISED_FINE_TUNING`),s===`SUPERVISED_FINE_TUNING`){let n=N(e,[`epochCount`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`,`hyperParameters`,`epochCount`],n)}else if(s===`PREFERENCE_TUNING`){let n=N(e,[`epochCount`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`,`hyperParameters`,`epochCount`],n)}let c=N(n,[`config`,`method`]);if(c===void 0&&(c=`SUPERVISED_FINE_TUNING`),c===`SUPERVISED_FINE_TUNING`){let n=N(e,[`learningRateMultiplier`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`,`hyperParameters`,`learningRateMultiplier`],n)}else if(c===`PREFERENCE_TUNING`){let n=N(e,[`learningRateMultiplier`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`,`hyperParameters`,`learningRateMultiplier`],n)}let l=N(n,[`config`,`method`]);if(l===void 0&&(l=`SUPERVISED_FINE_TUNING`),l===`SUPERVISED_FINE_TUNING`){let n=N(e,[`exportLastCheckpointOnly`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`,`exportLastCheckpointOnly`],n)}else if(l===`PREFERENCE_TUNING`){let n=N(e,[`exportLastCheckpointOnly`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`,`exportLastCheckpointOnly`],n)}let u=N(n,[`config`,`method`]);if(u===void 0&&(u=`SUPERVISED_FINE_TUNING`),u===`SUPERVISED_FINE_TUNING`){let n=N(e,[`adapterSize`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`,`hyperParameters`,`adapterSize`],n)}else if(u===`PREFERENCE_TUNING`){let n=N(e,[`adapterSize`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`,`hyperParameters`,`adapterSize`],n)}if(N(e,[`batchSize`])!==void 0)throw Error(`batchSize parameter is not supported in Vertex AI.`);if(N(e,[`learningRate`])!==void 0)throw Error(`learningRate parameter is not supported in Vertex AI.`);let d=N(e,[`labels`]);t!==void 0&&d!=null&&M(t,[`labels`],d);let f=N(e,[`beta`]);return t!==void 0&&f!=null&&M(t,[`preferenceOptimizationSpec`,`hyperParameters`,`beta`],f),r}function xc(e,t){let n={},r=N(e,[`baseModel`]);r!=null&&M(n,[`baseModel`],r);let i=N(e,[`preTunedModel`]);i!=null&&M(n,[`preTunedModel`],i);let a=N(e,[`trainingDataset`]);a!=null&&Mc(a);let o=N(e,[`config`]);return o!=null&&yc(o,n),n}function Sc(e,t){let n={},r=N(e,[`baseModel`]);r!=null&&M(n,[`baseModel`],r);let i=N(e,[`preTunedModel`]);i!=null&&M(n,[`preTunedModel`],i);let a=N(e,[`trainingDataset`]);a!=null&&Nc(a,n,t);let o=N(e,[`config`]);return o!=null&&bc(o,n,t),n}function Cc(e,t){let n={},r=N(e,[`name`]);return r!=null&&M(n,[`_url`,`name`],r),n}function wc(e,t){let n={},r=N(e,[`name`]);return r!=null&&M(n,[`_url`,`name`],r),n}function Tc(e,t,n){let r={},i=N(e,[`pageSize`]);t!==void 0&&i!=null&&M(t,[`_query`,`pageSize`],i);let a=N(e,[`pageToken`]);t!==void 0&&a!=null&&M(t,[`_query`,`pageToken`],a);let o=N(e,[`filter`]);return t!==void 0&&o!=null&&M(t,[`_query`,`filter`],o),r}function Ec(e,t,n){let r={},i=N(e,[`pageSize`]);t!==void 0&&i!=null&&M(t,[`_query`,`pageSize`],i);let a=N(e,[`pageToken`]);t!==void 0&&a!=null&&M(t,[`_query`,`pageToken`],a);let o=N(e,[`filter`]);return t!==void 0&&o!=null&&M(t,[`_query`,`filter`],o),r}function Dc(e,t){let n={},r=N(e,[`config`]);return r!=null&&Tc(r,n),n}function Oc(e,t){let n={},r=N(e,[`config`]);return r!=null&&Ec(r,n),n}function kc(e,t){let n={},r=N(e,[`sdkHttpResponse`]);r!=null&&M(n,[`sdkHttpResponse`],r);let i=N(e,[`nextPageToken`]);i!=null&&M(n,[`nextPageToken`],i);let a=N(e,[`tunedModels`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>Pc(e))),M(n,[`tuningJobs`],e)}return n}function Ac(e,t){let n={},r=N(e,[`sdkHttpResponse`]);r!=null&&M(n,[`sdkHttpResponse`],r);let i=N(e,[`nextPageToken`]);i!=null&&M(n,[`nextPageToken`],i);let a=N(e,[`tuningJobs`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>Fc(e))),M(n,[`tuningJobs`],e)}return n}function jc(e,t){let n={},r=N(e,[`name`]);r!=null&&M(n,[`model`],r);let i=N(e,[`name`]);return i!=null&&M(n,[`endpoint`],i),n}function Mc(e,t){let n={};if(N(e,[`gcsUri`])!==void 0)throw Error(`gcsUri parameter is not supported in Gemini API.`);if(N(e,[`vertexDatasetResource`])!==void 0)throw Error(`vertexDatasetResource parameter is not supported in Gemini API.`);let r=N(e,[`examples`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),M(n,[`examples`,`examples`],e)}return n}function Nc(e,t,n){let r={},i=N(n,[`config`,`method`]);if(i===void 0&&(i=`SUPERVISED_FINE_TUNING`),i===`SUPERVISED_FINE_TUNING`){let n=N(e,[`gcsUri`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`,`trainingDatasetUri`],n)}else if(i===`PREFERENCE_TUNING`){let n=N(e,[`gcsUri`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`,`trainingDatasetUri`],n)}let a=N(n,[`config`,`method`]);if(a===void 0&&(a=`SUPERVISED_FINE_TUNING`),a===`SUPERVISED_FINE_TUNING`){let n=N(e,[`vertexDatasetResource`]);t!==void 0&&n!=null&&M(t,[`supervisedTuningSpec`,`trainingDatasetUri`],n)}else if(a===`PREFERENCE_TUNING`){let n=N(e,[`vertexDatasetResource`]);t!==void 0&&n!=null&&M(t,[`preferenceOptimizationSpec`,`trainingDatasetUri`],n)}if(N(e,[`examples`])!==void 0)throw Error(`examples parameter is not supported in Vertex AI.`);return r}function Pc(e,t){let n={},r=N(e,[`sdkHttpResponse`]);r!=null&&M(n,[`sdkHttpResponse`],r);let i=N(e,[`name`]);i!=null&&M(n,[`name`],i);let a=N(e,[`state`]);a!=null&&M(n,[`state`],sn(a));let o=N(e,[`createTime`]);o!=null&&M(n,[`createTime`],o);let s=N(e,[`tuningTask`,`startTime`]);s!=null&&M(n,[`startTime`],s);let c=N(e,[`tuningTask`,`completeTime`]);c!=null&&M(n,[`endTime`],c);let l=N(e,[`updateTime`]);l!=null&&M(n,[`updateTime`],l);let u=N(e,[`description`]);u!=null&&M(n,[`description`],u);let d=N(e,[`baseModel`]);d!=null&&M(n,[`baseModel`],d);let f=N(e,[`_self`]);return f!=null&&M(n,[`tunedModel`],jc(f)),n}function Fc(e,t){let n={},r=N(e,[`sdkHttpResponse`]);r!=null&&M(n,[`sdkHttpResponse`],r);let i=N(e,[`name`]);i!=null&&M(n,[`name`],i);let a=N(e,[`state`]);a!=null&&M(n,[`state`],sn(a));let o=N(e,[`createTime`]);o!=null&&M(n,[`createTime`],o);let s=N(e,[`startTime`]);s!=null&&M(n,[`startTime`],s);let c=N(e,[`endTime`]);c!=null&&M(n,[`endTime`],c);let l=N(e,[`updateTime`]);l!=null&&M(n,[`updateTime`],l);let u=N(e,[`error`]);u!=null&&M(n,[`error`],u);let d=N(e,[`description`]);d!=null&&M(n,[`description`],d);let f=N(e,[`baseModel`]);f!=null&&M(n,[`baseModel`],f);let p=N(e,[`tunedModel`]);p!=null&&M(n,[`tunedModel`],p);let m=N(e,[`preTunedModel`]);m!=null&&M(n,[`preTunedModel`],m);let h=N(e,[`supervisedTuningSpec`]);h!=null&&M(n,[`supervisedTuningSpec`],h);let g=N(e,[`preferenceOptimizationSpec`]);g!=null&&M(n,[`preferenceOptimizationSpec`],g);let _=N(e,[`tuningDataStats`]);_!=null&&M(n,[`tuningDataStats`],_);let v=N(e,[`encryptionSpec`]);v!=null&&M(n,[`encryptionSpec`],v);let y=N(e,[`partnerModelTuningSpec`]);y!=null&&M(n,[`partnerModelTuningSpec`],y);let b=N(e,[`customBaseModel`]);b!=null&&M(n,[`customBaseModel`],b);let x=N(e,[`experiment`]);x!=null&&M(n,[`experiment`],x);let S=N(e,[`labels`]);S!=null&&M(n,[`labels`],S);let C=N(e,[`outputUri`]);C!=null&&M(n,[`outputUri`],C);let w=N(e,[`pipelineJob`]);w!=null&&M(n,[`pipelineJob`],w);let T=N(e,[`serviceAccount`]);T!=null&&M(n,[`serviceAccount`],T);let E=N(e,[`tunedModelDisplayName`]);E!=null&&M(n,[`tunedModelDisplayName`],E);let D=N(e,[`veoTuningSpec`]);return D!=null&&M(n,[`veoTuningSpec`],D),n}function Ic(e,t){let n={},r=N(e,[`sdkHttpResponse`]);r!=null&&M(n,[`sdkHttpResponse`],r);let i=N(e,[`name`]);i!=null&&M(n,[`name`],i);let a=N(e,[`metadata`]);a!=null&&M(n,[`metadata`],a);let o=N(e,[`done`]);o!=null&&M(n,[`done`],o);let s=N(e,[`error`]);return s!=null&&M(n,[`error`],s),n}function Lc(e,t){let n={},r=N(e,[`gcsUri`]);r!=null&&M(n,[`validationDatasetUri`],r);let i=N(e,[`vertexDatasetResource`]);return i!=null&&M(n,[`validationDatasetUri`],i),n}var Rc=class extends A{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new X(Y.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{if(this.apiClient.isVertexAI())if(e.baseModel.startsWith(`projects/`)){let t={tunedModelName:e.baseModel};e.config?.preTunedModelCheckpointId&&(t.checkpointId=e.config.preTunedModelCheckpointId);let n=Object.assign(Object.assign({},e),{preTunedModel:t});return n.baseModel=void 0,await this.tuneInternal(n)}else{let t=Object.assign({},e);return await this.tuneInternal(t)}else{let t=Object.assign({},e),n=await this.tuneMldevInternal(t),r=``;return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?r=n.metadata.tunedModel:n.name!==void 0&&n.name.includes(`/operations/`)&&(r=n.name.split(`/operations/`)[0]),{name:r,state:V.JOB_STATE_QUEUED}}}}async getInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=wc(e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Fc(e))}else{let i=Cc(e);return n=j(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Pc(e))}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Oc(e);return n=j(`tuningJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Ac(e),n=new Et;return Object.assign(n,t),n})}else{let i=Dc(e);return n=j(`tunedModels`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=kc(e),n=new Et;return Object.assign(n,t),n})}}async cancel(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=gc(e);return n=j(`{name}:cancel`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=vc(e),n=new Dt;return Object.assign(n,t),n})}else{let i=hc(e);return n=j(`{name}:cancel`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=_c(e),n=new Dt;return Object.assign(n,t),n})}}async tuneInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Sc(e,e);return n=j(`tuningJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Fc(e))}else throw Error(`This method is only supported by the Vertex AI.`)}async tuneMldevInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=xc(e);return n=j(`tunedModels`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Ic(e))}}},zc=class{async download(e,t){throw Error(`Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.`)}},Bc=1024*1024*8,Vc=3,Hc=1e3,Uc=2,Wc=`x-goog-upload-status`;async function Gc(e,t,n){let r=await qc(e,t,n),i=await r?.json();if(r?.headers?.[Wc]!==`final`)throw Error(`Failed to upload file: Upload status is not finalized.`);return i.file}async function Kc(e,t,n){let r=await qc(e,t,n),i=await r?.json();if(r?.headers?.[Wc]!==`final`)throw Error(`Failed to upload file: Upload status is not finalized.`);let a=me(i),o=new Bt;return Object.assign(o,a),o}async function qc(e,t,n){let r=0,i=0,a=new pt(new Response),o=`upload`;for(r=e.size;i<r;){let s=Math.min(Bc,r-i),c=e.slice(i,i+s);i+s>=r&&(o+=`, finalize`);let l=0,u=Hc;for(;l<Vc&&(a=await n.request({path:``,body:c,httpMethod:`POST`,httpOptions:{apiVersion:``,baseUrl:t,headers:{"X-Goog-Upload-Command":o,"X-Goog-Upload-Offset":String(i),"Content-Length":String(s)}}}),!a?.headers?.[Wc]);)l++,await Yc(u),u*=Uc;if(i+=s,a?.headers?.[Wc]!==`active`)break;if(r<=i)throw Error(`All content has been uploaded, but the upload status is not finalized.`)}return a}async function Jc(e){return{size:e.size,type:e.type}}function Yc(e){return new Promise(t=>setTimeout(t,e))}var Xc=class{async upload(e,t,n){if(typeof e==`string`)throw Error(`File path is not supported in browser uploader.`);return await Gc(e,t,n)}async uploadToFileSearchStore(e,t,n){if(typeof e==`string`)throw Error(`File path is not supported in browser uploader.`);return await Kc(e,t,n)}async stat(e){if(typeof e==`string`)throw Error(`File path is not supported in browser uploader.`);return await Jc(e)}},Zc=class{create(e,t,n){return new Qc(e,t,n)}},Qc=class{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw Error(`WebSocket is not connected`);this.ws.send(e)}close(){if(this.ws===void 0)throw Error(`WebSocket is not connected`);this.ws.close()}},$c=`x-goog-api-key`,el=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get($c)===null){if(this.apiKey.startsWith(`auth_tokens/`))throw Error(`Ephemeral tokens are only supported by the live API.`);if(!this.apiKey)throw Error(`API key is missing. Please provide a valid API key.`);e.append($c,this.apiKey)}}},tl=`gl-node/`,nl=class{constructor(e){if(e.apiKey==null)throw Error(`An API Key must be set when running in a browser`);if(e.project||e.location)throw Error(`Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.`);this.vertexai=e.vertexai??!1,this.apiKey=e.apiKey;let t=re(e.httpOptions,e.vertexai,void 0,void 0);t&&(e.httpOptions?e.httpOptions.baseUrl=t:e.httpOptions={baseUrl:t}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let n=new el(this.apiKey);this.apiClient=new hs({auth:n,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tl+`web`,uploader:new Xc,downloader:new zc}),this.models=new Us(this.apiClient),this.live=new Ms(this.apiClient,n,new Zc),this.batches=new _r(this.apiClient),this.chats=new ii(this.models,this.apiClient),this.caches=new Xr(this.apiClient),this.files=new hi(this.apiClient),this.operations=new Ws(this.apiClient),this.authTokens=new oc(this.apiClient),this.tunings=new Rc(this.apiClient),this.fileSearchStores=new mc(this.apiClient)}},rl={}.API_KEY||``,il=null;rl&&(il=new nl({apiKey:rl}));const al=async e=>{if(!il)return console.warn(`Gemini API Key not found. Returning mock data.`),{description:`(AI Unavailable) A stunning tattoo design featuring ${e}. Detailed shading and crisp lines.`,tags:[`tattoo`,`art`,`ink`]};try{let t=`
      I am a tattoo artist uploading a new design. 
      The keywords for this design are: "${e}".
      
      Please generate:
      1. A professional, poetic description (max 30 words) for a portfolio in Traditional Chinese ().
      2. A list of 5 relevant tags/categories (can be English or Chinese).
      
      Return ONLY valid JSON in this format:
      {
        "description": "string",
        "tags": ["string", "string"]
      }
    `,n=(await il.models.generateContent({model:`gemini-2.5-flash`,contents:t,config:{responseMimeType:`application/json`}})).text;if(!n)throw Error(`No response from Gemini`);return JSON.parse(n)}catch(t){return console.error(`Gemini Error:`,t),{description:`A unique design inspired by ${e}.`,tags:[`tattoo`,`design`]}}};var $=v(),ol=()=>{let p=_(),[v,b]=(0,O.useState)(`artworks`),[x,te]=(0,O.useState)([]),[k,ne]=(0,O.useState)([]),[re,A]=(0,O.useState)([]),[j,M]=(0,O.useState)([]),[N,ie]=(0,O.useState)({}),[ae,oe]=(0,O.useState)(`date`),[P,se]=(0,O.useState)(`desc`),[ce,le]=(0,O.useState)(!1),[ue,de]=(0,O.useState)(!1),[F,fe]=(0,O.useState)(null),[I,pe]=(0,O.useState)(``),[L,me]=(0,O.useState)(``),[he,ge]=(0,O.useState)(``),[_e,ve]=(0,O.useState)(``),[ye,be]=(0,O.useState)(``),[R,xe]=(0,O.useState)(``),[Se,Ce]=(0,O.useState)(``),[we,Te]=(0,O.useState)([]),[Ee,De]=(0,O.useState)(!1),[Oe,ke]=(0,O.useState)(``),[Ae,je]=(0,O.useState)(!1),[Me,Ne]=(0,O.useState)(``),[z,Pe]=(0,O.useState)(null),[Fe,Ie]=(0,O.useState)(!1),[B,Le]=(0,O.useState)(null),[V,H]=(0,O.useState)({date:``,timeSlot:``,customerName:``,phoneNumber:``,artworkTitle:``,notes:``,status:`OPEN`,totalPrice:``,depositPaid:``,tattooPosition:``,tattooSize:``,tattooColor:``,consentNotes:``});(0,O.useEffect)(()=>{U(),ze()},[v]);let U=async()=>{try{let[e,t,n,r]=await Promise.all([y.getArtworks(),y.getArtworkStats(),y.getAppointments(),y.getAllUsers()]);te(e),ie(t),ne(n.filter(e=>e.status!==`OPEN`).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())),A(r)}catch(e){console.error(`Error loading admin data`,e)}},Re=((e,t,n)=>[...e].sort((e,r)=>{let i=0;switch(t){case`date`:i=new Date(e.createdAt).getTime()-new Date(r.createdAt).getTime();break;case`price`:i=(e.specialPrice||e.price||0)-(r.specialPrice||r.price||0);break;case`views`:i=(e.viewCount||0)-(r.viewCount||0);break;case`favorites`:i=(N[e.id]||0)-(N[r.id]||0);break}return n===`asc`?i:-i}))(x,ae,P),ze=async()=>{try{let e=await y.getCategories();M(e),!L&&e.length>0&&me(e.find(e=>e!==`All`)||e[0])}catch(e){console.error(`Error loading categories`,e)}},Be=e=>{fe(e.id),pe(e.title),me(e.category),ge(e.price?e.price.toString():``),ve(e.specialPrice?e.specialPrice.toString():``),be(e.imageUrl),xe(e.pngUrl||``),Ce(e.description),Te(e.tags),le(!0)},Ve=(e,t=1200,n=.8)=>new Promise((r,i)=>{let a=new FileReader;a.onload=e=>{let a=new window.Image;a.onload=()=>{let e=document.createElement(`canvas`),o=a.width,s=a.height;o>t&&(s=Math.round(s*t/o),o=t),e.width=o,e.height=s;let c=e.getContext(`2d`);if(!c){i(Error(`Canvas context error`));return}c.drawImage(a,0,0,o,s),r(e.toDataURL(`image/jpeg`,n))},a.onerror=()=>i(Error(`Image load error`)),a.src=e.target?.result},a.onerror=()=>i(Error(`File read error`)),a.readAsDataURL(e)}),He=(e,t=800)=>new Promise((n,r)=>{let i=new FileReader;i.onload=e=>{let i=new window.Image;i.onload=()=>{let e=document.createElement(`canvas`),a=i.width,o=i.height;a>t&&(o=Math.round(o*t/a),a=t),e.width=a,e.height=o;let s=e.getContext(`2d`);if(!s){r(Error(`Canvas context error`));return}s.clearRect(0,0,a,o),s.drawImage(i,0,0,a,o),n(e.toDataURL(`image/png`))},i.onerror=()=>r(Error(`Image load error`)),i.src=e.target?.result},i.onerror=()=>r(Error(`File read error`)),i.readAsDataURL(e)}),Ue=[`image/jpeg`,`image/jpg`,`image/png`,`image/gif`,`image/webp`],We=[`image/png`],Ge=10*1024*1024,Ke=(e,t)=>{if(!t.includes(e.type))return{valid:!1,error:`${t.map(e=>e.replace(`image/`,``)).join(`, `)}`};if(e.size>Ge)return{valid:!1,error:` ${Ge/1024/1024}MB`};let n=e.name.toLowerCase();return[`.jpg`,`.jpeg`,`.png`,`.gif`,`.webp`].some(e=>n.endsWith(e))?{valid:!0}:{valid:!1,error:``}},qe=async e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=Ke(t,Ue);if(!n.valid){alert(` ${n.error}`),e.target.value=``;return}try{be(await Ve(t,1200,.8))}catch(t){console.error(`Image compression failed:`,t),alert(` `),e.target.value=``}}},Je=async e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=Ke(t,We);if(!n.valid){alert(` ${n.error}\n\n PNG `),e.target.value=``;return}try{xe(await He(t,800))}catch(t){console.error(`PNG compression failed:`,t),alert(` PNG  PNG `),e.target.value=``}}},Ye=async()=>{if(!(!I&&!L)){De(!0);try{let e=await al(`${L} tattoo style, ${I}`);Ce(e.description),Te(e.tags)}catch{alert(`AI `)}finally{De(!1)}}},Xe=()=>{let e=new Date,t=e=>e.toString().padStart(2,`0`);return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())} ${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`},Ze=async e=>{if(e.preventDefault(),!I||!ye)return;let t={id:F||Date.now().toString(),title:I,description:Se||`No description provided.`,imageUrl:ye,pngUrl:R||void 0,category:L,price:he?Number(he):void 0,specialPrice:_e?Number(_e):void 0,status:F&&x.find(e=>e.id===F)?.status||g.AVAILABLE,createdAt:F&&x.find(e=>e.id===F)?.createdAt||Xe(),tags:we};try{await y.saveArtwork(t),le(!1),fe(null),nt(),U()}catch(e){console.error(e),alert(`\n\n: ${e.message}`)}},Qe=async e=>{if(window.confirm(``))try{await y.deleteArtwork(e),U()}catch(e){alert(`: ${e.message}`)}},$e=async e=>{try{await y.toggleStatus(e),U()}catch(e){alert(`: ${e.message}`)}},et=async()=>{if(Oe.trim())try{M(await y.addCategory(Oe.trim())),ke(``)}catch(e){alert(`: ${e.message}`)}},tt=async e=>{if(window.confirm(` "${e}" `))try{M(await y.deleteCategory(e))}catch(e){alert(`: ${e.message}`)}},nt=()=>{pe(``),Ce(``),ge(``),ve(``),Te([]),be(``),xe(``),fe(null),j.length>0&&me(j.find(e=>e!==`All`)||j[0])},rt=e=>{Pe(e),Ne(e.depositPaid?e.depositPaid.toString():``),je(!0)},it=async()=>{if(!z||!Me){alert(``);return}try{let e=parseInt(Me);if(isNaN(e)||e<=0){alert(``);return}let t={...z,status:`WAITING_PAYMENT`,depositPaid:e};await y.saveAppointment(t),je(!1),Pe(null),Ne(``),U()}catch(e){alert(`: ${e.message}`)}},at=e=>{let t=`${e.depositPaid||0}

______

013
074500096113



3
3
`;navigator.clipboard.writeText(t),alert(``)},ot=async e=>{if(window.confirm(` ${e.customerName} `))try{let t={...e,status:`SIGNING`};await y.saveAppointment(t),U()}catch(e){alert(`: ${e.message}`)}},st=e=>{let t=`

!

${`${window.location.origin}/#/consent/${e.id}`}`;navigator.clipboard.writeText(t),alert(``)};(0,O.useEffect)(()=>{let e=!1;k.length>0&&(async()=>{for(let t of k)if(t.status===`SIGNING`&&t.signedAt&&!e)try{let n={...t,status:`SIGNED`};await y.saveAppointment(n),e=!0;break}catch(e){console.error(``,e)}e&&U()})()},[k.length]);let ct=async e=>{if(window.confirm(``))try{await y.cancelAppointment(e),U()}catch(e){alert(`: ${e.message}`)}},lt=e=>{Le(e);let t=e.totalPrice?e.totalPrice.toString():``;if(console.log(`[]`,{appointmentId:e.id,artworkId:e.artworkId,artworkTitle:e.artworkTitle,currentTotalPrice:e.totalPrice,artworksCount:x.length,status:e.status}),!t&&e.artworkId)if(x.length===0)console.warn(`[] `);else{let n=x.find(t=>t.id===e.artworkId);if(n){let e=n.specialPrice||n.price;e?(t=e.toString(),console.log(`[ ] : ${n.title}, : ${e} (: ${n.specialPrice||``}, : ${n.price||``})`)):console.warn(`[]  ${n.title} `)}else console.warn(`[] artworkId: ${e.artworkId}, ID:`,x.map(e=>e.id).slice(0,5))}else t?console.log(`[] ${t}`):e.artworkId||console.log(`[] `);H({date:e.date,timeSlot:e.timeSlot,customerName:e.customerName||``,phoneNumber:e.phoneNumber||``,artworkTitle:e.artworkTitle||``,notes:e.notes||``,status:e.status,totalPrice:t,depositPaid:e.depositPaid?e.depositPaid.toString():``,tattooPosition:e.tattooPosition||``,tattooSize:e.tattooSize||``,tattooColor:e.tattooColor||``,consentNotes:e.consentNotes||``}),Ie(!0)},ut=e=>{let t=`${window.location.origin}/#/consent/${e}`;navigator.clipboard.writeText(t),alert(``)},dt=e=>{let t=`${window.location.origin}/#/appointment/${e}`;navigator.clipboard.writeText(t),alert(``)};return(0,$.jsxs)(`div`,{className:`max-w-7xl mx-auto px-4 py-8`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-center mb-8`,children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-white`,children:``}),v===`artworks`&&(0,$.jsxs)(`div`,{className:`flex gap-2`,children:[(0,$.jsxs)(`button`,{onClick:()=>de(!0),className:`bg-gray-800 text-gray-300 px-4 py-2 rounded-lg font-bold flex items-center hover:bg-gray-700 transition-colors`,children:[(0,$.jsx)(D,{size:20,className:`mr-2`}),` `]}),(0,$.jsxs)(`button`,{onClick:()=>{nt(),le(!0)},className:`bg-primary text-black px-4 py-2 rounded-lg font-bold flex items-center hover:bg-yellow-500 transition-colors`,children:[(0,$.jsx)(c,{size:20,className:`mr-2`}),` `]})]})]}),(0,$.jsxs)(`div`,{className:`flex gap-4 border-b border-gray-700 mb-6`,children:[(0,$.jsx)(`button`,{onClick:()=>b(`artworks`),className:`pb-2 px-4 ${v===`artworks`?`text-primary border-b-2 border-primary`:`text-gray-400`}`,children:``}),(0,$.jsxs)(`button`,{onClick:()=>b(`appointments`),className:`pb-2 px-4 ${v===`appointments`?`text-primary border-b-2 border-primary`:`text-gray-400`}`,children:[` (`,k.filter(e=>e.status===`PENDING`).length,` )`]}),(0,$.jsxs)(`button`,{onClick:()=>b(`customers`),className:`pb-2 px-4 flex items-center gap-2 ${v===`customers`?`text-primary border-b-2 border-primary`:`text-gray-400`}`,children:[(0,$.jsx)(ee,{size:16}),` (`,re.length,`)`]})]}),v===`artworks`&&(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-4 mb-4 bg-card p-4 rounded-xl border border-white/5`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-2 text-gray-400`,children:[(0,$.jsx)(C,{size:16}),(0,$.jsx)(`span`,{className:`text-sm font-medium`,children:``})]}),(0,$.jsxs)(`select`,{value:ae,onChange:e=>oe(e.target.value),className:`bg-dark border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-primary focus:outline-none`,children:[(0,$.jsx)(`option`,{value:`date`,children:``}),(0,$.jsx)(`option`,{value:`price`,children:``}),(0,$.jsx)(`option`,{value:`views`,children:``}),(0,$.jsx)(`option`,{value:`favorites`,children:``})]}),(0,$.jsxs)(`button`,{onClick:()=>se(P===`asc`?`desc`:`asc`),className:`flex items-center gap-1 px-3 py-2 rounded-lg border transition-colors ${P===`desc`?`bg-primary/10 border-primary text-primary`:`bg-gray-800 border-gray-700 text-gray-300 hover:border-gray-500`}`,children:[P===`desc`?(0,$.jsx)(S,{size:16}):(0,$.jsx)(w,{size:16}),(0,$.jsx)(`span`,{className:`text-sm`,children:P===`desc`?``:``})]}),(0,$.jsxs)(`span`,{className:`text-xs text-gray-500 ml-auto`,children:[` `,x.length,` `]})]}),(0,$.jsx)(`div`,{className:`bg-card rounded-xl border border-white/5 overflow-hidden`,children:(0,$.jsxs)(`table`,{className:`w-full text-left`,children:[(0,$.jsx)(`thead`,{className:`bg-dark text-gray-400 text-xs uppercase`,children:(0,$.jsxs)(`tr`,{children:[(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4 text-right`,children:``})]})}),(0,$.jsx)(`tbody`,{className:`divide-y divide-gray-800`,children:Re.map(e=>(0,$.jsxs)(`tr`,{className:`hover:bg-white/5 transition-colors`,children:[(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsx)(`img`,{src:e.imageUrl,alt:``,className:`w-12 h-12 rounded object-cover`})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`button`,{onClick:()=>p(`/artwork/${e.id}`),className:`text-left hover:text-primary transition-colors cursor-pointer`,children:[(0,$.jsx)(`p`,{className:`font-bold text-white hover:text-primary`,children:e.title}),(0,$.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:e.category}),(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-1 text-pink-400 text-xs font-medium`,children:[(0,$.jsx)(a,{size:12,className:`fill-current`}),N[e.id]||0,` `]}),e.pngUrl&&(0,$.jsxs)(`span`,{className:`text-xs bg-green-900/50 text-green-400 px-1.5 py-0.5 rounded flex items-center gap-1`,children:[(0,$.jsx)(o,{size:10}),` PNG`]})]})]})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:e.specialPrice?(0,$.jsxs)(`div`,{className:`flex flex-col`,children:[(0,$.jsxs)(`span`,{className:`text-red-400 font-bold`,children:[`$`,e.specialPrice]}),(0,$.jsxs)(`span`,{className:`text-gray-600 text-xs line-through`,children:[`$`,e.price]})]}):(0,$.jsxs)(`span`,{className:`text-gray-300`,children:[`$`,e.price]})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-1 text-blue-400 text-sm font-medium`,children:[(0,$.jsx)(E,{size:14}),e.viewCount||0]})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsx)(`button`,{onClick:()=>$e(e.id),className:`px-3 py-1 rounded-full text-xs font-bold ${e.status===g.AVAILABLE?`bg-green-900 text-green-200`:`bg-red-900 text-red-200`}`,children:e.status===g.AVAILABLE?``:``})}),(0,$.jsxs)(`td`,{className:`px-6 py-4 text-right space-x-2`,children:[(0,$.jsx)(`button`,{onClick:()=>Be(e),className:`text-gray-400 hover:text-white inline-block p-1`,children:(0,$.jsx)(u,{size:18})}),(0,$.jsx)(`button`,{onClick:()=>Qe(e.id),className:`text-gray-500 hover:text-red-400 inline-block p-1`,children:(0,$.jsx)(f,{size:18})})]})]},e.id))})]})})]}),v===`appointments`&&(0,$.jsx)(`div`,{className:`bg-card rounded-xl border border-white/5 overflow-hidden`,children:k.length===0?(0,$.jsx)(`div`,{className:`text-center py-20 text-gray-500`,children:``}):(0,$.jsxs)(`table`,{className:`w-full text-left`,children:[(0,$.jsx)(`thead`,{className:`bg-dark text-gray-400 text-xs uppercase`,children:(0,$.jsxs)(`tr`,{children:[(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:`/`}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4 text-right`,children:``})]})}),(0,$.jsx)(`tbody`,{className:`divide-y divide-gray-800`,children:k.map(a=>(0,$.jsxs)(`tr`,{className:`hover:bg-white/5 transition-colors`,children:[(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,$.jsx)(e,{size:16,className:`text-primary`}),(0,$.jsx)(`span`,{className:`text-white font-bold`,children:a.date}),(0,$.jsxs)(`span`,{className:`text-gray-400 text-sm`,children:[`@ `,a.timeSlot]})]})}),(0,$.jsxs)(`td`,{className:`px-6 py-4`,children:[(0,$.jsx)(`p`,{className:`font-bold text-white`,children:a.customerName}),a.phoneNumber&&(0,$.jsxs)(`p`,{className:`text-xs text-primary flex items-center gap-1 mt-1`,children:[(0,$.jsx)(s,{size:10}),` `,a.phoneNumber]})]}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:a.artworkTitle?(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[a.artworkImage&&(0,$.jsx)(`img`,{src:a.artworkImage,className:`w-8 h-8 rounded object-cover border border-white/10`,alt:`art`}),(0,$.jsx)(`div`,{children:a.artworkId?(0,$.jsx)(`button`,{onClick:()=>p(`/artwork/${a.artworkId}`),className:`text-white text-sm hover:text-primary transition-colors cursor-pointer text-left`,children:a.artworkTitle}):(0,$.jsx)(`p`,{className:`text-white text-sm`,children:a.artworkTitle})})]}):(0,$.jsx)(`p`,{className:`text-gray-500 text-sm italic`,children:a.notes||``})}),(0,$.jsxs)(`td`,{className:`px-6 py-4`,children:[a.status===`PENDING`&&(0,$.jsxs)(`span`,{className:`bg-yellow-900/30 text-yellow-400 border border-yellow-900/50 px-2 py-1 rounded text-xs font-bold flex items-center w-fit gap-1`,children:[(0,$.jsx)(n,{size:12}),` `]}),a.status===`WAITING_PAYMENT`&&(0,$.jsxs)(`span`,{className:`bg-orange-900/30 text-orange-400 border border-orange-900/50 px-2 py-1 rounded text-xs font-bold flex items-center w-fit gap-1`,children:[(0,$.jsx)(i,{size:12}),` `]}),a.status===`SIGNING`&&(0,$.jsxs)(`span`,{className:`bg-blue-900/30 text-blue-400 border border-blue-900/50 px-2 py-1 rounded text-xs font-bold flex items-center w-fit gap-1`,children:[(0,$.jsx)(r,{size:12}),` `]}),a.status===`SIGNED`&&(0,$.jsxs)(`span`,{className:`bg-purple-900/30 text-purple-400 border border-purple-900/50 px-2 py-1 rounded text-xs font-bold flex items-center w-fit gap-1`,children:[(0,$.jsx)(t,{size:12}),` `]}),a.status===`BOOKED`&&(0,$.jsxs)(`span`,{className:`bg-green-900/30 text-green-400 border border-green-900/50 px-2 py-1 rounded text-xs font-bold flex items-center w-fit gap-1`,children:[(0,$.jsx)(t,{size:12}),` `]}),a.status===`COMPLETED`&&(0,$.jsx)(`span`,{className:`bg-gray-700 text-gray-400 px-2 py-1 rounded text-xs font-bold`,children:``})]}),(0,$.jsxs)(`td`,{className:`px-6 py-4 text-right space-x-2`,children:[a.status===`PENDING`&&(0,$.jsx)($.Fragment,{children:(0,$.jsx)(`button`,{onClick:()=>rt(a),className:`bg-primary text-black text-xs font-bold px-3 py-1.5 rounded hover:bg-yellow-500 transition-colors`,children:``})}),a.status===`WAITING_PAYMENT`&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(`button`,{onClick:()=>at(a),className:`bg-blue-600 text-white text-xs font-bold px-3 py-1.5 rounded hover:bg-blue-500 transition-colors flex items-center gap-1`,children:[(0,$.jsx)(T,{size:12}),` `]}),(0,$.jsx)(`button`,{onClick:()=>ot(a),className:`bg-green-600 text-white text-xs font-bold px-3 py-1.5 rounded hover:bg-green-500 transition-colors`,children:``})]}),a.status===`SIGNING`&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(`button`,{onClick:()=>st(a),className:`bg-blue-600 text-white text-xs font-bold px-3 py-1.5 rounded hover:bg-blue-500 transition-colors flex items-center gap-1`,children:[(0,$.jsx)(T,{size:12}),` `]})}),a.status===`SIGNED`&&(0,$.jsx)($.Fragment,{children:(0,$.jsx)(`button`,{onClick:()=>p(`/consent/${a.id}`),className:`bg-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded hover:bg-purple-500 transition-colors`,children:``})}),(0,$.jsxs)(`button`,{onClick:()=>dt(a.id),className:`bg-indigo-600 text-white text-xs font-bold px-3 py-1.5 rounded hover:bg-indigo-500 transition-colors flex items-center gap-1`,title:``,children:[(0,$.jsx)(T,{size:12}),` `]}),(0,$.jsx)(`button`,{onClick:()=>lt(a),className:`bg-gray-700 hover:bg-white hover:text-black text-gray-300 text-xs font-bold px-3 py-1.5 rounded transition-colors`,children:(0,$.jsx)(u,{size:14})}),(0,$.jsx)(`button`,{onClick:()=>ct(a.id),className:`text-red-400 hover:text-red-300 hover:bg-red-900/20 px-3 py-1.5 rounded text-xs font-bold border border-red-900/30`,children:``})]})]},a.id))})]})}),v===`customers`&&(0,$.jsx)(`div`,{className:`bg-card rounded-xl border border-white/5 overflow-hidden`,children:re.length===0?(0,$.jsx)(`div`,{className:`text-center py-20 text-gray-500`,children:``}):(0,$.jsx)(`div`,{className:`overflow-x-auto`,children:(0,$.jsxs)(`table`,{className:`w-full text-left`,children:[(0,$.jsx)(`thead`,{className:`bg-dark text-gray-400 text-xs uppercase`,children:(0,$.jsxs)(`tr`,{children:[(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``}),(0,$.jsx)(`th`,{className:`px-6 py-4`,children:``})]})}),(0,$.jsx)(`tbody`,{className:`divide-y divide-gray-800`,children:re.map(t=>(0,$.jsxs)(`tr`,{className:`hover:bg-white/5 transition-colors`,children:[(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-3`,children:[t.avatarUrl?(0,$.jsx)(`img`,{src:t.avatarUrl,alt:t.name,className:`w-12 h-12 rounded-full border-2 border-primary object-cover`}):(0,$.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center border-2 border-primary`,children:(0,$.jsx)(m,{size:24,className:`text-gray-400`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`font-bold text-white text-lg`,children:t.name}),(0,$.jsxs)(`p`,{className:`text-xs text-gray-400`,children:[`ID: `,t.id]})]})]})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,$.jsx)(e,{size:16,className:`text-primary`}),(0,$.jsx)(`span`,{className:`text-white`,children:t.createdAt?new Date(t.createdAt).toLocaleDateString(`zh-TW`,{year:`numeric`,month:`long`,day:`numeric`}):`-`})]})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,$.jsx)(n,{size:16,className:`text-blue-400`}),(0,$.jsx)(`span`,{className:`text-white`,children:t.lastLogin?new Date(t.lastLogin).toLocaleDateString(`zh-TW`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}):``})]})}),(0,$.jsx)(`td`,{className:`px-6 py-4`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,$.jsx)(a,{size:16,className:`text-pink-500`}),(0,$.jsx)(`span`,{className:`text-white font-bold text-lg`,children:t.favoriteCount||0}),(0,$.jsx)(`span`,{className:`text-gray-400 text-sm`,children:``})]})})]},t.id))})]})})}),ce&&(0,$.jsx)(`div`,{className:`fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4`,children:(0,$.jsxs)(`div`,{className:`bg-card w-full max-w-2xl rounded-2xl shadow-2xl border border-white/10 max-h-[90vh] overflow-y-auto`,children:[(0,$.jsxs)(`div`,{className:`p-6 border-b border-white/10 flex justify-between items-center`,children:[(0,$.jsx)(`h2`,{className:`text-xl font-bold text-white`,children:F?``:``}),(0,$.jsx)(`button`,{onClick:()=>le(!1),className:`text-gray-400 hover:text-white`,children:(0,$.jsx)(h,{})})]}),(0,$.jsxs)(`form`,{onSubmit:Ze,className:`p-6 space-y-6`,children:[(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{className:`border-2 border-dashed border-gray-700 rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer relative`,children:[(0,$.jsx)(`input`,{type:`file`,accept:`image/*`,onChange:qe,className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer`,required:!ye}),ye?(0,$.jsx)(`img`,{src:ye,alt:`Preview`,className:`mx-auto h-40 object-contain`}):(0,$.jsxs)(`div`,{className:`text-gray-500`,children:[(0,$.jsx)(`p`,{className:`font-medium`,children:``}),(0,$.jsx)(`p`,{className:`text-xs mt-1`,children:``})]})]}),(0,$.jsxs)(`div`,{className:`border-2 border-dashed border-gray-700 rounded-xl p-6 text-center hover:border-green-500 transition-colors cursor-pointer relative bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+CjxyZWN0IHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iIzJhMmEyYSIvPgo8cmVjdCB4PSIxMCIgeT0iMTAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iIzJhMmEyYSIvPgo8L3N2Zz4=')]`,children:[(0,$.jsx)(`input`,{type:`file`,accept:`image/png`,onChange:Je,className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer`}),R?(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`img`,{src:R,alt:`PNG Preview`,className:`mx-auto h-40 object-contain`}),(0,$.jsx)(`button`,{type:`button`,onClick:e=>{e.stopPropagation(),xe(``)},className:`absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full hover:bg-red-500`,children:(0,$.jsx)(h,{size:14})})]}):(0,$.jsxs)(`div`,{className:`text-gray-500`,children:[(0,$.jsx)(o,{className:`mx-auto mb-2 text-green-500`,size:24}),(0,$.jsx)(`p`,{className:`font-medium text-green-400`,children:`PNG  ()`}),(0,$.jsx)(`p`,{className:`text-xs mt-1`,children:``})]})]})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-sm text-gray-400 mb-1`,children:``}),(0,$.jsx)(`input`,{type:`text`,value:I,onChange:e=>pe(e.target.value),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white`,required:!0})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-sm text-gray-400 mb-1`,children:``}),(0,$.jsx)(`select`,{value:L,onChange:e=>me(e.target.value),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white`,children:j.filter(e=>e!==`All`).map(e=>(0,$.jsx)(`option`,{value:e,children:e},e))})]})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-sm text-gray-400 mb-1`,children:``}),(0,$.jsx)(`input`,{type:`number`,value:he,onChange:e=>ge(e.target.value),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white`,placeholder:`3000`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-sm text-gray-400 mb-1`,children:` ()`}),(0,$.jsx)(`input`,{type:`number`,value:_e,onChange:e=>ve(e.target.value),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white`,placeholder:`2500`})]})]}),(0,$.jsxs)(`div`,{className:`bg-dark/50 p-4 rounded-xl border border-white/5`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,$.jsxs)(`label`,{className:`text-sm font-bold text-gray-300 flex items-center gap-2`,children:[(0,$.jsx)(d,{size:14,className:`text-primary`}),` AI `]}),(0,$.jsx)(`button`,{type:`button`,onClick:Ye,disabled:!I||Ee,className:`text-xs text-primary hover:underline disabled:opacity-50`,children:Ee?`...`:``})]}),(0,$.jsx)(`textarea`,{value:Se,onChange:e=>Ce(e.target.value),className:`w-full bg-black/20 border border-gray-700 rounded p-2 text-sm text-gray-300 h-24`,placeholder:`...`}),(0,$.jsx)(`div`,{className:`flex flex-wrap gap-2 mt-2`,children:we.map(e=>(0,$.jsxs)(`span`,{className:`text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded`,children:[`#`,e]},e))})]}),(0,$.jsx)(`button`,{type:`submit`,className:`w-full bg-primary text-black font-bold py-3 rounded-lg hover:bg-yellow-500`,children:``})]})]})}),Fe&&(0,$.jsx)(`div`,{className:`fixed inset-0 bg-black/80 z-[60] flex items-center justify-center p-4 overflow-y-auto`,children:(0,$.jsxs)(`div`,{className:`bg-card w-full max-w-md rounded-2xl shadow-2xl border border-white/10 my-4 max-h-[90vh] flex flex-col`,children:[(0,$.jsxs)(`div`,{className:`p-5 border-b border-white/10 flex justify-between items-center bg-dark/50 shrink-0`,children:[(0,$.jsxs)(`h2`,{className:`text-lg font-bold text-white flex items-center gap-2`,children:[(0,$.jsx)(u,{size:18,className:`text-primary`}),` `]}),(0,$.jsx)(`button`,{onClick:()=>Ie(!1),className:`text-gray-400 hover:text-white`,children:(0,$.jsx)(h,{size:20})})]}),(0,$.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!B)return;let t={...B,date:V.date,timeSlot:V.timeSlot,customerName:V.customerName,phoneNumber:V.phoneNumber,artworkTitle:V.artworkTitle,notes:V.notes,status:V.status,totalPrice:V.totalPrice?parseInt(V.totalPrice):void 0,depositPaid:V.depositPaid?parseInt(V.depositPaid):void 0,tattooPosition:V.tattooPosition||void 0,tattooSize:V.tattooSize||void 0,tattooColor:V.tattooColor||void 0,consentNotes:V.consentNotes||void 0};try{await y.saveAppointment(t),Ie(!1),Le(null),U()}catch(e){alert(`: ${e.message}`)}},className:`p-6 space-y-4 overflow-y-auto flex-1`,children:[(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`input`,{type:`date`,value:V.date,onChange:e=>H({...V,date:e.target.value}),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`,required:!0})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`input`,{type:`time`,value:V.timeSlot,onChange:e=>H({...V,timeSlot:e.target.value}),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`,required:!0})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsxs)(`select`,{value:V.status,onChange:e=>H({...V,status:e.target.value}),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`,children:[(0,$.jsx)(`option`,{value:`PENDING`,children:`PENDING ()`}),(0,$.jsx)(`option`,{value:`WAITING_PAYMENT`,children:`WAITING_PAYMENT ()`}),(0,$.jsx)(`option`,{value:`SIGNING`,children:`SIGNING ()`}),(0,$.jsx)(`option`,{value:`SIGNED`,children:`SIGNED ()`}),(0,$.jsx)(`option`,{value:`BOOKED`,children:`BOOKED ()`}),(0,$.jsx)(`option`,{value:`COMPLETED`,children:`COMPLETED ()`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1 flex items-center gap-1`,children:[(0,$.jsx)(m,{size:12}),` `]}),(0,$.jsx)(`input`,{type:`text`,value:V.customerName,onChange:e=>H({...V,customerName:e.target.value}),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1 flex items-center gap-1`,children:[(0,$.jsx)(s,{size:12}),` `]}),(0,$.jsx)(`input`,{type:`tel`,value:V.phoneNumber,onChange:e=>H({...V,phoneNumber:e.target.value}),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1 flex items-center gap-1`,children:[(0,$.jsx)(r,{size:12}),`  / `]}),(0,$.jsx)(`input`,{type:`text`,value:V.artworkTitle,onChange:e=>H({...V,artworkTitle:e.target.value}),placeholder:``,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`textarea`,{value:V.notes,onChange:e=>H({...V,notes:e.target.value}),className:`w-full bg-dark border border-gray-700 rounded p-2 text-white h-16 text-sm focus:border-primary focus:outline-none resize-none`})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 pt-2 border-t border-gray-700`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:`  (NT$)`}),(0,$.jsx)(`input`,{type:`number`,value:V.totalPrice,onChange:e=>H({...V,totalPrice:e.target.value}),placeholder:`: 5000`,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:`  (NT$)`}),(0,$.jsx)(`input`,{type:`number`,value:V.depositPaid,onChange:e=>H({...V,depositPaid:e.target.value}),placeholder:`: 1000`,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white focus:border-primary focus:outline-none`})]})]}),(0,$.jsxs)(`div`,{className:`pt-4 border-t border-gray-700`,children:[(0,$.jsx)(`h4`,{className:`text-sm font-bold text-primary mb-3`,children:` `}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 mb-3`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`input`,{type:`text`,value:V.tattooPosition,onChange:e=>H({...V,tattooPosition:e.target.value}),placeholder:`: `,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white text-sm focus:border-primary focus:outline-none`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`input`,{type:`text`,value:V.tattooSize,onChange:e=>H({...V,tattooSize:e.target.value}),placeholder:`: 10x10 cm`,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white text-sm focus:border-primary focus:outline-none`})]})]}),(0,$.jsxs)(`div`,{className:`mb-3`,children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`input`,{type:`text`,value:V.tattooColor,onChange:e=>H({...V,tattooColor:e.target.value}),placeholder:`: `,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white text-sm focus:border-primary focus:outline-none`})]}),(0,$.jsxs)(`div`,{className:`mb-3`,children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:``}),(0,$.jsx)(`textarea`,{value:V.consentNotes,onChange:e=>H({...V,consentNotes:e.target.value}),placeholder:`...`,className:`w-full bg-dark border border-gray-700 rounded p-2 text-white h-12 text-sm focus:border-primary focus:outline-none resize-none`})]}),B&&(0,$.jsxs)(`div`,{className:`bg-dark/50 p-3 rounded-lg border border-gray-700`,children:[(0,$.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,$.jsx)(`span`,{className:`text-xs text-gray-400`,children:``}),(0,$.jsx)(`button`,{type:`button`,onClick:()=>ut(B.id),className:`text-xs bg-blue-900/30 text-blue-400 px-2 py-1 rounded hover:bg-blue-900/50`,children:` `})]}),B.signedAt?(0,$.jsxs)(`div`,{className:`text-xs text-green-400 bg-green-900/20 p-2 rounded`,children:[` `,B.signedAt,(0,$.jsxs)(`span`,{className:`text-gray-400 ml-2`,children:[`(`,B.signerName,`)`]})]}):(0,$.jsx)(`div`,{className:`text-xs text-yellow-400 bg-yellow-900/20 p-2 rounded`,children:` `})]})]}),(0,$.jsx)(`div`,{className:`flex justify-end pt-2`,children:(0,$.jsxs)(`button`,{type:`submit`,className:`bg-primary text-black font-bold px-6 py-2 rounded-lg hover:bg-yellow-500 flex items-center gap-2`,children:[(0,$.jsx)(l,{size:18}),` `]})})]})]})}),Ae&&z&&(0,$.jsx)(`div`,{className:`fixed inset-0 bg-black/80 z-[70] flex items-center justify-center p-4`,children:(0,$.jsxs)(`div`,{className:`bg-card w-full max-w-md rounded-2xl shadow-2xl border border-white/10`,children:[(0,$.jsxs)(`div`,{className:`p-5 border-b border-white/10 flex justify-between items-center bg-dark/50`,children:[(0,$.jsxs)(`h2`,{className:`text-lg font-bold text-white flex items-center gap-2`,children:[(0,$.jsx)(i,{size:18,className:`text-primary`}),` `]}),(0,$.jsx)(`button`,{onClick:()=>{je(!1),Pe(null),Ne(``)},className:`text-gray-400 hover:text-white`,children:(0,$.jsx)(h,{size:20})})]}),(0,$.jsxs)(`div`,{className:`p-6 space-y-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`label`,{className:`block text-sm font-bold text-gray-300 mb-2`,children:[``,z.customerName]}),(0,$.jsx)(`label`,{className:`block text-xs font-bold text-gray-500 uppercase mb-1`,children:` (NT$)`}),(0,$.jsx)(`input`,{type:`number`,value:Me,onChange:e=>Ne(e.target.value),placeholder:`: 1000`,className:`w-full bg-dark border border-gray-700 rounded-lg p-3 text-white text-lg focus:border-primary focus:outline-none`,autoFocus:!0,required:!0}),z.totalPrice&&(0,$.jsxs)(`p`,{className:`text-xs text-gray-500 mt-1`,children:[`NT$ `,z.totalPrice.toLocaleString()]})]}),(0,$.jsxs)(`div`,{className:`flex gap-3 pt-2`,children:[(0,$.jsx)(`button`,{onClick:()=>{je(!1),Pe(null),Ne(``)},className:`flex-1 bg-gray-700 text-gray-300 font-bold py-3 rounded-lg hover:bg-gray-600 transition-colors`,children:``}),(0,$.jsx)(`button`,{onClick:it,className:`flex-1 bg-primary text-black font-bold py-3 rounded-lg hover:bg-yellow-500 transition-colors`,children:``})]})]})]})}),ue&&(0,$.jsx)(`div`,{className:`fixed inset-0 bg-black/80 z-[70] flex items-center justify-center p-4`,children:(0,$.jsxs)(`div`,{className:`bg-card w-full max-w-sm rounded-xl p-6 border border-white/10`,children:[(0,$.jsx)(`h3`,{className:`text-lg font-bold text-white mb-4`,children:``}),(0,$.jsx)(`ul`,{className:`space-y-2 mb-4 max-h-40 overflow-y-auto`,children:j.map(e=>(0,$.jsxs)(`li`,{className:`flex justify-between items-center text-sm bg-white/5 p-2 rounded`,children:[e,e!==`All`&&(0,$.jsx)(`button`,{onClick:()=>tt(e),className:`text-red-400 hover:text-white`,children:(0,$.jsx)(h,{size:14})})]},e))}),(0,$.jsxs)(`div`,{className:`flex gap-2`,children:[(0,$.jsx)(`input`,{className:`flex-1 bg-dark border border-gray-700 rounded px-2 text-sm text-white`,placeholder:``,value:Oe,onChange:e=>ke(e.target.value)}),(0,$.jsx)(`button`,{onClick:et,className:`bg-primary text-black px-3 rounded font-bold text-sm`,children:``})]}),(0,$.jsx)(`button`,{onClick:()=>de(!1),className:`w-full mt-4 text-gray-400 text-sm hover:text-white`,children:``})]})})]})};export{ol as default};