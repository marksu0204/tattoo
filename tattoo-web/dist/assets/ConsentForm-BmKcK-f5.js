import{t as e}from"./circle-check-big-CL4BxBfE.js";import{t}from"./download-DlM5fo4t.js";import{t as n}from"./trash-2-BzUrATsN.js";import{t as r}from"./triangle-alert-DcLlbrbK.js";import{_ as i,d as a,h as o,i as s,m as c,n as l,r as u,s as d,t as f,v as p}from"./index-C_gUkn22.js";var m=d(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),h=d(`pen-line`,[[`path`,{d:`M13 21h8`,key:`1jsn5i`}],[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),g=p(i(),1),_=l(),v=[`ç´‹èº«ä¹ƒæ˜¯åœ¨äººé«”çš®è†šä¸Šç”¨é‡ç›´æŽ¥é›•åˆ»(å½¢æˆå‚·å£)æç¹ªåœ–æ¨£ï¼Œå°äººé«”æœ‰æ™‚æœƒé€ æˆå‚·å®³ï¼Œæ­¤å¤–å³ä½¿é›•åˆ»æ–¹æ³•æœ¬èº«æ²’æœ‰å•é¡Œï¼Œæœ‰æ™‚è¢«ç´‹èº«è€…å› å€‹äººé«”è³ªæœƒç”¢ç”Ÿèº«é«”ä¸é©ä¹‹ç—‡ç‹€ï¼Œè‹¥ç´‹èº«éŽç¨‹ç«‹æ›¸äººå› çš®è†šç–¼ç—›ï¼Œä¸”å› ç–¼ç—›è€Œéœ‡å‹•ä¸¦å°Žè‡´åœ–æ¨£è®Šå½¢ï¼Œéœ€ç”±ç«‹æ›¸äººè‡ªè¡Œè² è²¬ã€‚`,`æœ¬åº—æŽ¡ç”¨æ‹‹æ£„å¼é‡é ­ï¼ŒæŽ¥è§¸çš®è†šä¹‹å‘¨é‚Šå…·çš†ç¶“éŽé«˜æº«é«˜å£“æ¶ˆæ¯’æ®ºèŒè™•ç†ï¼Œç´‹èº«é›•åˆ»æ™‚ä½¿ç”¨ä¹‹ç´‹èº«æ©Ÿå…·ã€è‰²æ–™æˆ–å„ç¨®è—¥ç‰©ç­‰ç´‹èº«ç”¨å“ï¼Œæœƒå› å€‹äººçš„é«”è³ªé—œä¿‚ï¼Œçš®è†šå¯èƒ½æœƒç”¢ç”ŸéŽæ•ä¹‹ç—‡ç‹€ã€‚`,`ç´‹èº«å¾Œä¹‹åœ–æ¨£ï¼Œæœƒå› æœ¬äººè‡ªèº«çš„æ—¥å¸¸ç¶­è­·ç´°å¿ƒèˆ‡å¦ï¼Œç´‹è·¯è‰²æ¾¤æœƒæœ‰å¾ˆå¤§çš„å½±éŸ¿ï¼Œè‹¥å¾ŒçºŒçš„æ—¥å¸¸ç¶­è­·å¤ªç²—ç³™æœƒä½¿ï¼šä¸€ã€ç–¤ç–¤è®ŠåŽšã€é›•åˆ»æ™‚ä¹‹å‚·å£ä¸€æ™‚ä¹‹é–“é›£ä»¥ç™’åˆã€‚äºŒã€å‚·å£ç™’åˆä¹‹å¾Œï¼Œç´‹èº«å¢¨ã€å½©è‰²æ–™ç­‰è„«è½ä¹‹æƒ…å½¢ä¹Ÿæœ‰å¯èƒ½ç™¼ç”Ÿï¼ŒåŸºæ–¼ä»¥ä¸ŠåŽŸå› ï¼Œæœ¬äººå¿…é ˆæ–¼æ—¥å¸¸æ™‚ä»”ç´°ç¶­è­·ç´‹èº«åœ–æ¨£ã€‚`,`é…’é¡žã€è¿·å¹»è—¥ç­‰é•ç¦è—¥å“ä¹‹æœç”¨ã€ç¡çœ ä¸è¶³æˆ–å°‡å‚·å£æš´éœ²æ–¼ç©ºæ°£ä¹‹ä¸­æœ‰å¯èƒ½å°Žè‡´çš®è†šåŒ–è†¿ç­é»žæˆ–å…¶ä»–å„ç¨®ç—‡ç‹€ç™¼ç”Ÿï¼Œæ•…ä¸€æ—¦æŽ¥å—ç´‹èº«ä¹‹å¾Œï¼Œæ‡‰é¿å…å‰è¿°è¡Œç‚ºã€‚`,`è‹¥å­•å©¦ã€ç½¹æ‚£çš®è†šç—…ã€å‚³æŸ“ç—…ã€å¿ƒè‡Ÿç—…ã€è‚ç—…ã€ç³–å°¿ç—…ã€æ„›æ»‹ç—…ç­‰å…·å‚³æŸ“ç–¾ç—…æ™‚ï¼Œä¸å¯æŽ¥å—ç´‹èº«ã€‚`,`æœªæ»¿18æ­²è€…éœ€æ³•å®šç›£è­·äººé™ªåŒä¸¦ç°½åè“‹ç« ï¼Œè¦–åŒæ”¾æ£„æ³•å¾‹è¿½è¨´æ¬ŠåŠ›ï¼Œç«‹æ›¸äººåŒæ„æä¾›ä»»ä½•å¯è­‰æ˜Žèº«ä»½ä¹‹æ–‡ä»¶ä»¥ä¾›ç¢ºèªï¼Œä½œç‚ºç«‹æ›¸äººæ‰¿è«¾è­‰æ˜Žã€‚(â€»æ°‘æ³•é€šéŽè‡ª2023å¹´1æœˆ1æ—¥èµ·ï¼Œæ»¿18æ­²è¦–åŒæˆå¹´äººã€‚)`,`ç´‹èº«æœŸé–“åœ–ç¨¿ã€æ‰‹ç¹ªç¨¿ã€å®Œæˆä½œå“è‘—ä½œæ¬Šç‚ºåº—å®¶æ‰€æœ‰ï¼Œåº—å®¶æœ‰æ¬Šä¿å­˜æ”¶è—åŽŸç¨¿å’Œç…§ç‰‡ä¸¦è‡ªè¡Œé‹ç”¨ï¼Œè©²é …æ”¾å…¥ç¶²è·¯åŠåº—å®¶ä¾›äººç€è¦½æ¬£è³žï¼Œç«‹æ›¸äººä¸å¾—æœ‰ç•°è­°ã€‚`,`ç«‹æ›¸äººåœ¨äº†è§£ä»¥ä¸Šèªªæ˜Žä¹‹å¾Œï¼Œå®Œå…¨ç†è§£ä¸¦èªåŒä¹‹æƒ…æ³ä¸‹æ‰å§”è¨—ç´‹èº«å·¥ä½œå®¤ï¼›å› æ­¤è¬ä¸€ç™¼ç”Ÿä¸Šè¿°èªªæ˜Žå…§å®¹æ‰€åˆ—èˆ‰ä¹‹ä»»ä½•ä¸é©ç—‡ç‹€å•é¡Œæ™‚ï¼Œæœ¬äººåŒæ„æ­¤ç´‹èº«å·¥ä½œå®¤ä¸å¿…è² ä»»ä½•æ³•å¾‹è²¬ä»»ï¼Œä¸”ä¸æœƒå°æ­¤åº—å®¶ä¹‹ç´‹èº«å¸«æå‡ºä»»ä½•ç•°è­°åŠæ³•å¾‹å‘Šè¨´ã€‚`],y=()=>{let{appointmentId:i}=o(),l=c(),{user:d}=f(),[p,y]=(0,g.useState)(null),[b,x]=(0,g.useState)(!0),[S,C]=(0,g.useState)(``),[w,T]=(0,g.useState)(!1),[E,D]=(0,g.useState)(``),[O,k]=(0,g.useState)(``),[A,j]=(0,g.useState)(!1),[M,N]=(0,g.useState)(!1),[P,F]=(0,g.useState)(!1),[I,L]=(0,g.useState)(!1),[R,z]=(0,g.useState)(``),B=(0,g.useRef)(null),[V,H]=(0,g.useState)(!1);(0,g.useEffect)(()=>{W()},[i]);let U=(0,g.useRef)(!1);(0,g.useEffect)(()=>{if(I){let e=window.scrollY;document.body.classList.add(`fullscreen-mode`),document.body.style.top=`-${e}px`,document.documentElement.style.overflow=`hidden`;let t=e=>{if(e.target.tagName===`CANVAS`){e.preventDefault();return}e.preventDefault()};return document.addEventListener(`touchmove`,t,{passive:!1}),()=>{document.body.classList.remove(`fullscreen-mode`),document.body.style.top=``,document.documentElement.style.overflow=``,window.scrollTo(0,e),document.removeEventListener(`touchmove`,t)}}},[I]),(0,g.useEffect)(()=>{if(!I)return;let e=setTimeout(()=>{let e=B.current;if(!e)return;let t=t=>{let n=e.getBoundingClientRect(),r=e.width/n.width,i=e.height/n.height,a=t.touches[0];return{x:(a.clientX-n.left)*r,y:(a.clientY-n.top)*i}},n=()=>{let t=e.getContext(`2d`);return t&&(t.strokeStyle=`#000`,t.lineWidth=3,t.lineCap=`round`,t.lineJoin=`round`),t},r=e=>{e.preventDefault();let r=n();if(!r)return;let i=t(e);r.beginPath(),r.moveTo(i.x,i.y),U.current=!0},i=e=>{if(e.preventDefault(),!U.current)return;let r=n();if(!r)return;let i=t(e);r.lineTo(i.x,i.y),r.stroke()},a=e=>{e.preventDefault(),U.current=!1};e.addEventListener(`touchstart`,r,{passive:!1}),e.addEventListener(`touchmove`,i,{passive:!1}),e.addEventListener(`touchend`,a,{passive:!1}),e._cleanupHandlers=()=>{e.removeEventListener(`touchstart`,r),e.removeEventListener(`touchmove`,i),e.removeEventListener(`touchend`,a)}},100);return()=>{clearTimeout(e);let t=B.current;t&&t._cleanupHandlers&&t._cleanupHandlers()}},[I]);let W=async()=>{if(!i){C(`ç„¡æ•ˆçš„é€£çµ`),x(!1);return}try{let e=await u.getConsent(i);if(!e)C(`æ‰¾ä¸åˆ°æ­¤é ç´„è³‡æ–™`);else{let t=d?.role===a.ADMIN,n=d?.id&&e.userId===d.id;if(!t&&!n){T(!0),x(!1);return}e.signedAt?(F(!0),y(e)):(y(e),e.customerName&&D(e.customerName),e.phoneNumber&&k(e.phoneNumber))}}catch{C(`è¼‰å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦`)}finally{x(!1)}},G=()=>{L(!0),setTimeout(()=>{let e=B.current;if(e){let t=e.getContext(`2d`);t&&(t.fillStyle=`#fff`,t.fillRect(0,0,e.width,e.height))}},100)},K=()=>{let e=B.current;if(!e)return null;let t=e.getContext(`2d`);return t&&(t.strokeStyle=`#000`,t.lineWidth=3,t.lineCap=`round`,t.lineJoin=`round`),t},q=e=>{let t=B.current;if(!t)return{x:0,y:0};let n=t.getBoundingClientRect(),r=t.width/n.width,i=t.height/n.height;return`touches`in e?{x:(e.touches[0].clientX-n.left)*r,y:(e.touches[0].clientY-n.top)*i}:{x:(e.clientX-n.left)*r,y:(e.clientY-n.top)*i}},J=e=>{e.preventDefault(),e.stopPropagation();let t=K();if(!t)return;let n=q(e);t.beginPath(),t.moveTo(n.x,n.y),H(!0)},Y=e=>{if(!V)return;e.preventDefault(),e.stopPropagation();let t=K();if(!t)return;let n=q(e);t.lineTo(n.x,n.y),t.stroke()},X=()=>{H(!1)};return b?(0,_.jsx)(`div`,{className:`min-h-screen bg-white flex items-center justify-center`,children:(0,_.jsx)(`div`,{className:`text-gray-500`,children:`è¼‰å…¥ä¸­...`})}):S?(0,_.jsx)(`div`,{className:`min-h-screen bg-white flex items-center justify-center p-4`,children:(0,_.jsxs)(`div`,{className:`text-center`,children:[(0,_.jsx)(r,{className:`mx-auto text-red-500 mb-4`,size:48}),(0,_.jsx)(`h1`,{className:`text-xl font-bold text-gray-800 mb-2`,children:`ç„¡æ³•è¼‰å…¥`}),(0,_.jsx)(`p`,{className:`text-gray-500`,children:S}),(0,_.jsx)(`button`,{onClick:()=>l(`/`),className:`mt-4 text-blue-600 hover:underline`,children:`è¿”å›žé¦–é `})]})}):w?(0,_.jsx)(`div`,{className:`min-h-screen bg-white flex items-center justify-center p-4`,children:(0,_.jsxs)(`div`,{className:`text-center`,children:[(0,_.jsx)(m,{className:`mx-auto text-gray-400 mb-4`,size:48}),(0,_.jsx)(`h1`,{className:`text-xl font-bold text-gray-800 mb-2`,children:`ç„¡æ³•å­˜å–`}),(0,_.jsx)(`p`,{className:`text-gray-500`,children:`æ­¤åŒæ„æ›¸åƒ…é™é ç´„æœ¬äººæˆ–ç®¡ç†å“¡æª¢è¦–`}),(0,_.jsx)(`button`,{onClick:()=>l(`/`),className:`mt-4 text-blue-600 hover:underline`,children:`è¿”å›žé¦–é `})]})}):P&&p?(0,_.jsx)(`div`,{className:`min-h-screen bg-gray-50 py-8 px-4 print:bg-white print:py-0`,children:(0,_.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,_.jsxs)(`div`,{className:`bg-green-50 border border-green-200 rounded-lg p-6 mb-6 text-center print:hidden`,children:[(0,_.jsx)(e,{className:`mx-auto text-green-500 mb-3`,size:48}),(0,_.jsx)(`h1`,{className:`text-xl font-bold text-green-800 mb-2`,children:`åŒæ„æ›¸å·²ç°½ç½²å®Œæˆï¼`}),(0,_.jsx)(`p`,{className:`text-green-600 text-sm`,children:`æ„Ÿè¬æ‚¨çš„é…åˆï¼ŒæœŸå¾…ç‚ºæ‚¨æœå‹™`})]}),(0,_.jsxs)(`div`,{className:`bg-white rounded-lg shadow-lg p-6 print:shadow-none print:p-0`,children:[(0,_.jsxs)(`div`,{className:`text-center border-b pb-4 mb-4`,children:[(0,_.jsx)(`h1`,{className:`text-2xl font-bold`,children:`ç´‹èº«åŒæ„æ›¸`}),(0,_.jsx)(`p`,{className:`text-sm text-gray-500`,children:`Tattoo Consent For Operation`})]}),(0,_.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 mb-6 text-sm`,children:[(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`é ç´„æ—¥æœŸï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.date})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`æ™‚é–“ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.timeSlot})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`åœ–æ¨£ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.artworkTitle||`-`})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`ç´‹èº«éƒ¨ä½ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.tattooPosition||`-`})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`å¤§å°ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.tattooSize||`-`})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`è‰²å½©ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.tattooColor||`-`})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`ç¸½é‡‘é¡ï¼š`}),(0,_.jsxs)(`span`,{className:`font-bold text-gray-900`,children:[`NT$ `,p.totalPrice?.toLocaleString()||`-`]})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`å·²ä»˜è¨‚é‡‘ï¼š`}),(0,_.jsxs)(`span`,{className:`font-bold text-gray-900`,children:[`NT$ `,p.depositPaid?.toLocaleString()||`-`]})]}),p.totalPrice&&p.depositPaid&&(0,_.jsxs)(`div`,{className:`col-span-2`,children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`é¤˜é¡ï¼š`}),(0,_.jsxs)(`span`,{className:`font-bold text-red-600`,children:[`NT$ `,(p.totalPrice-p.depositPaid).toLocaleString()]})]})]}),(0,_.jsxs)(`div`,{className:`mb-6`,children:[(0,_.jsx)(`h3`,{className:`font-bold mb-2 text-sm`,children:`æ³¨æ„äº‹é …ï¼š`}),(0,_.jsx)(`ol`,{className:`text-xs text-gray-600 space-y-2 list-decimal list-inside`,children:v.map((e,t)=>(0,_.jsx)(`li`,{className:`leading-relaxed`,children:e},t))})]}),(0,_.jsxs)(`div`,{className:`border-t pt-4`,children:[(0,_.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 text-sm mb-4`,children:[(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`ç«‹æ›¸äººå§“åï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.signerName})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`é›»è©±ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.signerPhone})]}),(0,_.jsxs)(`div`,{className:`col-span-2`,children:[(0,_.jsx)(`span`,{className:`text-gray-500`,children:`ç°½ç½²æ™‚é–“ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.signedAt})]})]}),p.signatureData&&(0,_.jsxs)(`div`,{className:`border rounded p-2`,children:[(0,_.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:`ç°½åï¼š`}),(0,_.jsx)(`img`,{src:p.signatureData,alt:`ç°½å`,className:`max-h-24 mx-auto`})]})]}),d?.role===a.ADMIN&&(0,_.jsxs)(`div`,{className:`mt-6 text-center print:hidden`,children:[(0,_.jsxs)(`button`,{onClick:()=>{window.print()},className:`bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2 mx-auto`,children:[(0,_.jsx)(t,{size:20}),`ä¸‹è¼‰ / åˆ—å° PDF`]}),(0,_.jsx)(`p`,{className:`text-xs text-gray-400 mt-2`,children:`é»žæ“Šå¾Œè«‹é¸æ“‡ã€Œå¦å­˜ç‚º PDFã€æˆ–ç›´æŽ¥åˆ—å°`})]})]})]})}):(0,_.jsxs)(`div`,{className:`min-h-screen bg-gray-50 py-8 px-4`,children:[(0,_.jsx)(`div`,{className:`max-w-2xl mx-auto`,children:(0,_.jsxs)(`div`,{className:`bg-white rounded-lg shadow-lg overflow-hidden`,children:[(0,_.jsxs)(`div`,{className:`bg-gradient-to-r from-gray-800 to-gray-900 text-white p-6 text-center`,children:[(0,_.jsx)(`h1`,{className:`text-2xl font-bold mb-1`,children:`ç´‹èº«åŒæ„æ›¸`}),(0,_.jsx)(`p`,{className:`text-sm text-gray-300`,children:`Tattoo Consent For Operation`})]}),(0,_.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!E.trim()){alert(`è«‹è¼¸å…¥å§“å`);return}if(!O.trim()){alert(`è«‹è¼¸å…¥æ‰‹æ©Ÿè™Ÿç¢¼`);return}if(!A){alert(`è«‹å‹¾é¸åŒæ„æ¢æ¬¾`);return}if(!R){alert(`è«‹é»žæ“Šç°½å`);return}N(!0);try{await u.saveConsent({id:i,signerName:E.trim(),signerPhone:O.trim(),signatureData:R})?(F(!0),await W()):alert(`æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦`)}catch{alert(`æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦`)}finally{N(!1)}},className:`p-6`,children:[p&&(0,_.jsxs)(`div`,{className:`bg-blue-50 rounded-lg p-4 mb-6 border border-blue-200`,children:[(0,_.jsx)(`h3`,{className:`font-bold text-blue-800 mb-3`,children:`ðŸ“‹ é ç´„è³‡è¨Š`}),(0,_.jsxs)(`div`,{className:`grid grid-cols-2 gap-3 text-sm`,children:[(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`é ç´„æ—¥æœŸï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.date})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`æ™‚é–“ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.timeSlot})]}),p.artworkTitle&&(0,_.jsxs)(`div`,{className:`col-span-2`,children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`åœ–æ¨£ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.artworkTitle})]}),p.artworkImage&&(0,_.jsx)(`div`,{className:`col-span-2`,children:(0,_.jsx)(`img`,{src:p.artworkImage,alt:`é ç´„åœ–æ¡ˆ`,className:`w-32 h-32 object-cover rounded border`})}),p.tattooPosition&&(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`ç´‹èº«éƒ¨ä½ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.tattooPosition})]}),p.tattooSize&&(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`å¤§å°ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.tattooSize})]}),p.tattooColor&&(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`è‰²å½©ï¼š`}),(0,_.jsx)(`span`,{className:`font-bold text-gray-900`,children:p.tattooColor})]}),p.totalPrice&&(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`ç¸½é‡‘é¡ï¼š`}),(0,_.jsxs)(`span`,{className:`font-bold text-red-600`,children:[`NT$ `,p.totalPrice.toLocaleString()]})]}),p.depositPaid&&(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`å·²ä»˜è¨‚é‡‘ï¼š`}),(0,_.jsxs)(`span`,{className:`font-bold text-green-600`,children:[`NT$ `,p.depositPaid.toLocaleString()]})]}),p.totalPrice&&p.depositPaid&&(0,_.jsxs)(`div`,{className:`col-span-2`,children:[(0,_.jsx)(`span`,{className:`text-blue-600`,children:`é¤˜é¡ï¼š`}),(0,_.jsxs)(`span`,{className:`font-bold text-orange-600`,children:[`NT$ `,(p.totalPrice-p.depositPaid).toLocaleString()]})]})]})]}),(0,_.jsxs)(`div`,{className:`mb-6`,children:[(0,_.jsx)(`h3`,{className:`font-bold text-gray-700 mb-3`,children:`âš ï¸ æ³¨æ„äº‹é …`}),(0,_.jsx)(`div`,{className:`bg-yellow-50 border border-yellow-200 rounded-lg p-4 max-h-64 overflow-y-auto`,children:(0,_.jsx)(`ol`,{className:`text-sm text-gray-700 space-y-3 list-decimal list-inside`,children:v.map((e,t)=>(0,_.jsx)(`li`,{className:`leading-relaxed`,children:e},t))})})]}),(0,_.jsxs)(`div`,{className:`bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-sm text-red-800`,children:[(0,_.jsx)(`p`,{className:`mb-2`,children:`â€» è«‹æ³¨æ„è‹¥åœ–å½¢è¤‡é›œï¼Œä¸€æ¬¡ç„¡æ³•å®Œæˆï¼Œå¯åˆ†è¶Ÿç´‹èº«ï¼Œåˆ†è¶Ÿçµ¦æ¬¾(è«‹å¦å¤–è·Ÿåˆºé’å¸«è¨Žè«–)ã€‚`}),(0,_.jsx)(`p`,{className:`mb-2`,children:`â€» å·²ä»˜æ¬¾ä¹‹è¨‚é‡‘ç„¡æ³•é€€è²»ï¼Œè«‹ç¢ºèªä¹‹`}),(0,_.jsx)(`p`,{className:`mb-2`,children:`â€» åˆºé’å¾Œä¸‰å€‹æœˆå…§æœ‰åŒ…å«ä¸€æ¬¡å…è²»è£œè‰²ï¼Œè‹¥è¶…éŽæœŸé–“å°‡éœ€é¡å¤–ä»˜è²»`})]}),(0,_.jsxs)(`label`,{className:`flex items-start gap-3 mb-6 cursor-pointer`,children:[(0,_.jsx)(`input`,{type:`checkbox`,checked:A,onChange:e=>j(e.target.checked),className:`mt-1 w-5 h-5 rounded border-gray-300`}),(0,_.jsx)(`span`,{className:`text-sm text-gray-700`,children:`æœ¬äººå·²è©³ç´°é–±è®€ä¸¦äº†è§£ä¸Šè¿°æ‰€æœ‰æ¢æ¬¾ï¼Œå®Œå…¨ç†è§£ä¸¦åŒæ„éµå®ˆï¼Œé¡˜æ„å§”è¨—æ­¤ç´‹èº«å·¥ä½œå®¤é€²è¡Œç´‹èº«æœå‹™ã€‚`})]}),(0,_.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 mb-6`,children:[(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 mb-1`,children:`ç«‹æ›¸äººå§“å *`}),(0,_.jsx)(`input`,{type:`text`,value:E,onChange:e=>D(e.target.value),placeholder:`è«‹è¼¸å…¥æ‚¨çš„å§“å`,className:`w-full border border-gray-300 rounded-lg p-3 text-gray-900 font-medium focus:border-blue-500 focus:outline-none placeholder:text-gray-400`,required:!0})]}),(0,_.jsxs)(`div`,{children:[(0,_.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 mb-1`,children:`æ‰‹æ©Ÿè™Ÿç¢¼ *`}),(0,_.jsx)(`input`,{type:`tel`,value:O,onChange:e=>k(e.target.value),placeholder:`ä¾‹å¦‚: 0912345678`,className:`w-full border border-gray-300 rounded-lg p-3 text-gray-900 font-medium focus:border-blue-500 focus:outline-none placeholder:text-gray-400`,required:!0})]})]}),(0,_.jsxs)(`div`,{className:`mb-6`,children:[(0,_.jsx)(`label`,{className:`text-sm font-bold text-gray-700 mb-2 block`,children:`âœï¸ é›»å­ç°½å *`}),R?(0,_.jsxs)(`div`,{className:`border-2 border-green-300 rounded-lg bg-green-50 p-4`,children:[(0,_.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,_.jsx)(`span`,{className:`text-green-700 font-medium text-sm`,children:`âœ… å·²ç°½å`}),(0,_.jsxs)(`button`,{type:`button`,onClick:()=>{z(``),G()},className:`text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1`,children:[(0,_.jsx)(h,{size:14}),` é‡æ–°ç°½å`]})]}),(0,_.jsx)(`img`,{src:R,alt:`æ‚¨çš„ç°½å`,className:`max-h-20 mx-auto border rounded bg-white`})]}):(0,_.jsxs)(`button`,{type:`button`,onClick:G,className:`w-full border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 hover:bg-blue-50 transition-colors`,children:[(0,_.jsx)(h,{className:`mx-auto text-gray-400 mb-2`,size:32}),(0,_.jsx)(`p`,{className:`text-gray-600 font-medium`,children:`é»žæ“Šé€™è£¡é€²è¡Œç°½å`}),(0,_.jsx)(`p`,{className:`text-gray-400 text-sm mt-1`,children:`å°‡é–‹å•Ÿå…¨èž¢å¹•ç°½åæ¿`})]})]}),(0,_.jsx)(`button`,{type:`submit`,disabled:M||!A||!R,className:`w-full py-4 rounded-lg font-bold text-lg transition-colors ${M||!A||!R?`bg-gray-300 text-gray-500 cursor-not-allowed`:`bg-green-600 text-white hover:bg-green-700`}`,children:M?`æäº¤ä¸­...`:`ç¢ºèªç°½ç½²`})]})]})}),I&&(0,_.jsxs)(`div`,{className:`fixed inset-0 bg-black z-50 flex flex-col fullscreen-overlay`,style:{touchAction:`none`,overscrollBehavior:`none`},children:[(0,_.jsxs)(`div`,{className:`flex-shrink-0 bg-gray-900/95 backdrop-blur-sm border-b border-white/10 px-4 py-3 flex items-center justify-between safe-area-top`,children:[(0,_.jsxs)(`button`,{onClick:()=>L(!1),className:`text-white flex items-center gap-2 py-2 px-3 active:opacity-70`,children:[(0,_.jsx)(s,{size:24}),(0,_.jsx)(`span`,{children:`å–æ¶ˆ`})]}),(0,_.jsx)(`h2`,{className:`text-white font-bold text-lg`,children:`è«‹åœ¨ä¸‹æ–¹ç°½å`}),(0,_.jsxs)(`button`,{onClick:()=>{let e=B.current;if(!e)return;let t=e.getContext(`2d`);t&&(t.fillStyle=`#fff`,t.fillRect(0,0,e.width,e.height))},className:`text-red-400 flex items-center gap-1 py-2 px-3 active:opacity-70`,children:[(0,_.jsx)(n,{size:20}),(0,_.jsx)(`span`,{children:`æ¸…é™¤`})]})]}),(0,_.jsx)(`div`,{className:`flex-1 flex items-center justify-center p-2 overflow-hidden fullscreen-canvas-area`,style:{touchAction:`none`},children:(0,_.jsxs)(`div`,{className:`w-full max-w-lg`,children:[(0,_.jsx)(`canvas`,{ref:B,width:600,height:300,className:`w-full bg-white rounded-lg shadow-2xl`,style:{touchAction:`none`},onMouseDown:J,onMouseMove:Y,onMouseUp:X,onMouseLeave:X}),(0,_.jsx)(`p`,{className:`text-center text-gray-400 mt-3 text-sm`,children:`è«‹ç”¨æ‰‹æŒ‡æˆ–æ»‘é¼ åœ¨ç™½è‰²å€åŸŸç°½å`})]})}),(0,_.jsx)(`div`,{className:`flex-shrink-0 bg-gray-900/95 backdrop-blur-sm border-t border-white/10 p-4 safe-area-bottom`,children:(0,_.jsx)(`button`,{onClick:()=>{let e=B.current;if(!e)return;let t=e.getContext(`2d`);if(!t)return;let n=t.getImageData(0,0,e.width,e.height).data,r=!1;for(let e=0;e<n.length;e+=4)if(n[e]<250||n[e+1]<250||n[e+2]<250){r=!0;break}if(!r){alert(`è«‹å…ˆç°½å`);return}z(e.toDataURL(`image/png`)),L(!1)},className:`w-full bg-green-600 text-white py-4 rounded-lg font-bold text-lg active:bg-green-800`,children:`ç¢ºèªç°½å`})})]})]})};export{y as default};