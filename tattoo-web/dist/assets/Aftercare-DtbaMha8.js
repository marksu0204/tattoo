import{n as e,t}from"./square-pen-Ek7wYH9z.js";import{_ as n,d as r,n as i,r as a,s as o,t as s,v as c}from"./index-C_gUkn22.js";var l=o(`shield-check`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),u=c(n(),1),d=i(),f=()=>{let{user:n}=s(),[i,o]=(0,u.useState)(``),[c,f]=(0,u.useState)(!1),[p,m]=(0,u.useState)(``),[h,g]=(0,u.useState)(!0);(0,u.useEffect)(()=>{_()},[]);let _=async()=>{g(!0);let e=await a.getAftercareContent();o(e),m(e),g(!1)};return(0,d.jsxs)(`div`,{className:`max-w-4xl mx-auto px-4 py-8 md:py-12`,children:[(0,d.jsxs)(`div`,{className:`flex justify-between items-start mb-8 border-b border-white/10 pb-6`,children:[(0,d.jsxs)(`div`,{children:[(0,d.jsxs)(`h1`,{className:`text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-3`,children:[(0,d.jsx)(l,{className:`text-primary`,size:32}),`刺青術後保養`]}),(0,d.jsx)(`p`,{className:`text-gray-400`,children:`您的紋身護理指南，確保作品完美復原。`})]}),n?.role===r.ADMIN&&!c&&(0,d.jsxs)(`button`,{onClick:()=>f(!0),className:`bg-gray-800 text-gray-300 px-4 py-2 rounded-lg font-bold flex items-center gap-2 hover:bg-gray-700 hover:text-white transition-colors`,children:[(0,d.jsx)(t,{size:18}),` 編輯內容`]})]}),h?(0,d.jsx)(`div`,{className:`text-center py-20 text-gray-500`,children:`正在載入資訊...`}):(0,d.jsx)(d.Fragment,{children:c?(0,d.jsxs)(`div`,{className:`bg-card p-6 rounded-xl border border-primary/30 shadow-2xl`,children:[(0,d.jsx)(`label`,{className:`block text-sm text-primary font-bold mb-2`,children:`編輯文字內容`}),(0,d.jsx)(`textarea`,{value:p,onChange:e=>m(e.target.value),className:`w-full h-[60vh] bg-dark border border-gray-700 rounded-lg p-4 text-white font-sans text-lg leading-relaxed focus:border-primary focus:outline-none resize-none`}),(0,d.jsxs)(`div`,{className:`flex gap-4 mt-6 justify-end`,children:[(0,d.jsx)(`button`,{onClick:()=>{m(i),f(!1)},className:`px-6 py-2 rounded-lg font-bold text-gray-400 hover:text-white`,children:`取消`}),(0,d.jsxs)(`button`,{onClick:async()=>{try{await a.saveAftercareContent(p),o(p),f(!1)}catch(e){alert(`儲存失敗: `+e.message)}},className:`bg-primary text-black px-6 py-2 rounded-lg font-bold hover:bg-yellow-500 flex items-center gap-2`,children:[(0,d.jsx)(e,{size:18}),` 儲存變更`]})]})]}):(0,d.jsx)(`div`,{className:`bg-card/50 p-6 md:p-10 rounded-2xl border border-white/5 shadow-lg`,children:(0,d.jsx)(`div`,{className:`prose prose-invert max-w-none`,children:(0,d.jsx)(`p`,{className:`whitespace-pre-wrap text-gray-300 text-lg leading-loose font-light`,children:i})})})}),(0,d.jsx)(`div`,{className:`mt-12 text-center text-gray-500 text-sm`,children:(0,d.jsx)(`p`,{children:`如有任何問題，歡迎隨時透過 LINE 聯繫我們。`})})]})};export{f as default};